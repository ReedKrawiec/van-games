/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/game/main.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/peerjs/dist sync recursive":
/*!***************************************!*\
  !*** ./node_modules/peerjs/dist sync ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = function() { return []; };
webpackEmptyContext.resolve = webpackEmptyContext;
module.exports = webpackEmptyContext;
webpackEmptyContext.id = "./node_modules/peerjs/dist sync recursive";

/***/ }),

/***/ "./node_modules/peerjs/dist/peerjs.min.js":
/*!************************************************!*\
  !*** ./node_modules/peerjs/dist/peerjs.min.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var require;parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if( true&&"string"==typeof t)return __webpack_require__("./node_modules/peerjs/dist sync recursive")(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]); true?module.exports=l:undefined}if(parcelRequire=f,i)throw i;return f}({"EgBh":[function(require,module,exports) {
var e={};e.useBlobBuilder=function(){try{return new Blob([]),!1}catch(e){return!0}}(),e.useArrayBufferView=!e.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(e){return!0}}(),module.exports.binaryFeatures=e;var r=module.exports.BlobBuilder;function t(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(r=module.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),t.prototype.append=function(e){"number"==typeof e?this._pieces.push(e):(this.flush(),this._parts.push(e))},t.prototype.flush=function(){if(this._pieces.length>0){var r=new Uint8Array(this._pieces);e.useArrayBufferView||(r=r.buffer),this._parts.push(r),this._pieces=[]}},t.prototype.getBuffer=function(){if(this.flush(),e.useBlobBuilder){for(var t=new r,i=0,u=this._parts.length;i<u;i++)t.append(this._parts[i]);return t.getBlob()}return new Blob(this._parts)},module.exports.BufferBuilder=t;
},{}],"kdPp":[function(require,module,exports) {
var t=require("./bufferbuilder").BufferBuilder,e=require("./bufferbuilder").binaryFeatures,i={unpack:function(t){return new r(t).unpack()},pack:function(t){var e=new n;return e.pack(t),e.getBuffer()}};function r(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function n(){this.bufferBuilder=new t}function u(t){var e=t.charCodeAt(0);return e<=2047?"00":e<=65535?"000":e<=2097151?"0000":e<=67108863?"00000":"000000"}function a(t){return t.length>600?new Blob([t]).size:t.replace(/[^\u0000-\u007F]/g,u).length}module.exports=i,r.prototype.unpack=function(){var t,e=this.unpack_uint8();if(e<128)return e;if((224^e)<32)return(224^e)-32;if((t=160^e)<=15)return this.unpack_raw(t);if((t=176^e)<=15)return this.unpack_string(t);if((t=144^e)<=15)return this.unpack_array(t);if((t=128^e)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}},r.prototype.unpack_uint8=function(){var t=255&this.dataView[this.index];return this.index++,t},r.prototype.unpack_uint16=function(){var t=this.read(2),e=256*(255&t[0])+(255&t[1]);return this.index+=2,e},r.prototype.unpack_uint32=function(){var t=this.read(4),e=256*(256*(256*t[0]+t[1])+t[2])+t[3];return this.index+=4,e},r.prototype.unpack_uint64=function(){var t=this.read(8),e=256*(256*(256*(256*(256*(256*(256*t[0]+t[1])+t[2])+t[3])+t[4])+t[5])+t[6])+t[7];return this.index+=8,e},r.prototype.unpack_int8=function(){var t=this.unpack_uint8();return t<128?t:t-256},r.prototype.unpack_int16=function(){var t=this.unpack_uint16();return t<32768?t:t-65536},r.prototype.unpack_int32=function(){var t=this.unpack_uint32();return t<Math.pow(2,31)?t:t-Math.pow(2,32)},r.prototype.unpack_int64=function(){var t=this.unpack_uint64();return t<Math.pow(2,63)?t:t-Math.pow(2,64)},r.prototype.unpack_raw=function(t){if(this.length<this.index+t)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+t+" "+this.length);var e=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,e},r.prototype.unpack_string=function(t){for(var e,i,r=this.read(t),n=0,u="";n<t;)(e=r[n])<128?(u+=String.fromCharCode(e),n++):(192^e)<32?(i=(192^e)<<6|63&r[n+1],u+=String.fromCharCode(i),n+=2):(i=(15&e)<<12|(63&r[n+1])<<6|63&r[n+2],u+=String.fromCharCode(i),n+=3);return this.index+=t,u},r.prototype.unpack_array=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=this.unpack();return e},r.prototype.unpack_map=function(t){for(var e={},i=0;i<t;i++){var r=this.unpack(),n=this.unpack();e[r]=n}return e},r.prototype.unpack_float=function(){var t=this.unpack_uint32(),e=(t>>23&255)-127;return(0===t>>31?1:-1)*(8388607&t|8388608)*Math.pow(2,e-23)},r.prototype.unpack_double=function(){var t=this.unpack_uint32(),e=this.unpack_uint32(),i=(t>>20&2047)-1023;return(0===t>>31?1:-1)*((1048575&t|1048576)*Math.pow(2,i-20)+e*Math.pow(2,i-52))},r.prototype.read=function(t){var e=this.index;if(e+t<=this.length)return this.dataView.subarray(e,e+t);throw new Error("BinaryPackFailure: read index out of range")},n.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},n.prototype.pack=function(t){var i=typeof t;if("string"===i)this.pack_string(t);else if("number"===i)Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if("boolean"===i)!0===t?this.bufferBuilder.append(195):!1===t&&this.bufferBuilder.append(194);else if("undefined"===i)this.bufferBuilder.append(192);else{if("object"!==i)throw new Error('Type "'+i+'" not yet supported');if(null===t)this.bufferBuilder.append(192);else{var r=t.constructor;if(r==Array)this.pack_array(t);else if(r==Blob||r==File||t instanceof Blob||t instanceof File)this.pack_bin(t);else if(r==ArrayBuffer)e.useArrayBufferView?this.pack_bin(new Uint8Array(t)):this.pack_bin(t);else if("BYTES_PER_ELEMENT"in t)e.useArrayBufferView?this.pack_bin(new Uint8Array(t.buffer)):this.pack_bin(t.buffer);else if(r==Object||r.toString().startsWith("class"))this.pack_object(t);else if(r==Date)this.pack_string(t.toString());else{if("function"!=typeof t.toBinaryPack)throw new Error('Type "'+r.toString()+'" not yet supported');this.bufferBuilder.append(t.toBinaryPack())}}}this.bufferBuilder.flush()},n.prototype.pack_bin=function(t){var e=t.length||t.byteLength||t.size;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this.bufferBuilder.append(218),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(e)}this.bufferBuilder.append(t)},n.prototype.pack_string=function(t){var e=a(t);if(e<=15)this.pack_uint8(176+e);else if(e<=65535)this.bufferBuilder.append(216),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(e)}this.bufferBuilder.append(t)},n.prototype.pack_array=function(t){var e=t.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this.bufferBuilder.append(220),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(e)}for(var i=0;i<e;i++)this.pack(t[i])},n.prototype.pack_integer=function(t){if(t>=-32&&t<=127)this.bufferBuilder.append(255&t);else if(t>=0&&t<=255)this.bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this.bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this.bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this.bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this.bufferBuilder.append(210),this.pack_int32(t);else if(t>=-0x8000000000000000&&t<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(t);else{if(!(t>=0&&t<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(t)}},n.prototype.pack_double=function(t){var e=0;t<0&&(e=1,t=-t);var i=Math.floor(Math.log(t)/Math.LN2),r=t/Math.pow(2,i)-1,n=Math.floor(r*Math.pow(2,52)),u=Math.pow(2,32),a=e<<31|i+1023<<20|n/u&1048575,p=n%u;this.bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(p)},n.prototype.pack_object=function(t){var e=Object.keys(t).length;if(e<=15)this.pack_uint8(128+e);else if(e<=65535)this.bufferBuilder.append(222),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(e)}for(var i in t)t.hasOwnProperty(i)&&(this.pack(i),this.pack(t[i]))},n.prototype.pack_uint8=function(t){this.bufferBuilder.append(t)},n.prototype.pack_uint16=function(t){this.bufferBuilder.append(t>>8),this.bufferBuilder.append(255&t)},n.prototype.pack_uint32=function(t){var e=4294967295&t;this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},n.prototype.pack_uint64=function(t){var e=t/Math.pow(2,32),i=t%Math.pow(2,32);this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e),this.bufferBuilder.append((4278190080&i)>>>24),this.bufferBuilder.append((16711680&i)>>>16),this.bufferBuilder.append((65280&i)>>>8),this.bufferBuilder.append(255&i)},n.prototype.pack_int8=function(t){this.bufferBuilder.append(255&t)},n.prototype.pack_int16=function(t){this.bufferBuilder.append((65280&t)>>8),this.bufferBuilder.append(255&t)},n.prototype.pack_int32=function(t){this.bufferBuilder.append(t>>>24&255),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},n.prototype.pack_int64=function(t){var e=Math.floor(t/Math.pow(2,32)),i=t%Math.pow(2,32);this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e),this.bufferBuilder.append((4278190080&i)>>>24),this.bufferBuilder.append((16711680&i)>>>16),this.bufferBuilder.append((65280&i)>>>8),this.bufferBuilder.append(255&i)};
},{"./bufferbuilder":"EgBh"}],"iSxC":[function(require,module,exports) {
"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractVersion=o,exports.wrapPeerConnectionEvent=i,exports.disableLog=s,exports.disableWarnings=a,exports.log=u,exports.deprecated=c,exports.detectBrowser=p,exports.compactObject=d,exports.walkStats=l,exports.filterStats=b;var n=!0,r=!0;function o(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function i(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return o.apply(this,arguments);var i=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=i,o.apply(this,[e,i])};var i=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return i.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],i.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function s(e){return"boolean"!=typeof e?new Error("Argument type: "+t(e)+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function a(e){return"boolean"!=typeof e?new Error("Argument type: "+t(e)+". Please use a boolean."):(r=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function u(){if("object"===("undefined"==typeof window?"undefined":t(window))){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function c(e,t){r&&console.warn(e+" is deprecated, please use "+t+" instead.")}function p(e){var{navigator:t}=e,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=o(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=o(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=o(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=o(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function d(t){return f(t)?Object.keys(t).reduce(function(n,r){var o=f(t[r]),i=o?d(t[r]):t[r],s=o&&!Object.keys(i).length;return void 0===i||s?n:Object.assign(n,e({},r,i))},{}):t}function l(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(function(r){r.endsWith("Id")?l(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(function(t){l(e,e.get(t),n)})}))}function b(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;var i=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)}),i.forEach(function(t){e.forEach(function(n){n.type===r&&n.trackId===t.id&&l(e,n,o)})}),o}
},{}],"s6SN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=i;var e=t(require("../utils.js"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function t(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=e.log;function i(r){var t=r&&r.navigator;if(t.mediaDevices){var i=e.detectBrowser(r),a=function(e){if("object"!==o(e)||e.mandatory||e.optional)return e;var r={};return Object.keys(e).forEach(function(t){if("require"!==t&&"advanced"!==t&&"mediaSource"!==t){var n="object"===o(e[t])?e[t]:{ideal:e[t]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,r){return e?e+r.charAt(0).toUpperCase()+r.slice(1):"deviceId"===r?"sourceId":r};if(void 0!==n.ideal){r.optional=r.optional||[];var a={};"number"==typeof n.ideal?(a[i("min",t)]=n.ideal,r.optional.push(a),(a={})[i("max",t)]=n.ideal,r.optional.push(a)):(a[i("",t)]=n.ideal,r.optional.push(a))}void 0!==n.exact&&"number"!=typeof n.exact?(r.mandatory=r.mandatory||{},r.mandatory[i("",t)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(r.mandatory=r.mandatory||{},r.mandatory[i(e,t)]=n[e])})}}),e.advanced&&(r.optional=(r.optional||[]).concat(e.advanced)),r},c=function(e,r){if(i.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===o(e.audio)){var c=function(e,r,t){r in e&&!(t in e)&&(e[t]=e[r],delete e[r])};c((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),c(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===o(e.video)){var d=e.video.facingMode;d=d&&("object"===o(d)?d:{ideal:d});var u,s=i.version<66;if(d&&("user"===d.exact||"environment"===d.exact||"user"===d.ideal||"environment"===d.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||s))if(delete e.video.facingMode,"environment"===d.exact||"environment"===d.ideal?u=["back","rear"]:"user"!==d.exact&&"user"!==d.ideal||(u=["front"]),u)return t.mediaDevices.enumerateDevices().then(function(t){var o=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return u.some(function(r){return e.label.toLowerCase().includes(r)})});return!o&&t.length&&u.includes("back")&&(o=t[t.length-1]),o&&(e.video.deviceId=d.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=a(e.video),n("chrome: "+JSON.stringify(e)),r(e)});e.video=a(e.video)}return n("chrome: "+JSON.stringify(e)),r(e)},d=function(e){return i.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,r,o){c(e,function(e){t.webkitGetUserMedia(e,r,function(e){o&&o(d(e))})})}.bind(t),t.mediaDevices.getUserMedia){var u=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return c(e,function(e){return u(e).then(function(r){if(e.audio&&!r.getAudioTracks().length||e.video&&!r.getVideoTracks().length)throw r.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return r},function(e){return Promise.reject(d(e))})})}}}}
},{"../utils.js":"iSxC"}],"VHa8":[function(require,module,exports) {
"use strict";function e(e,i){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof i?e.navigator.mediaDevices.getDisplayMedia=function(a){return i(a).then(function(i){var t=a.video&&a.video.width,o=a.video&&a.video.height,d=a.video&&a.video.frameRate;return a.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:d||3}},t&&(a.video.mandatory.maxWidth=t),o&&(a.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(a)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"uI5X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimMediaStream=a,exports.shimOnTrack=c,exports.shimGetSendersWithDtmf=p,exports.shimGetStats=d,exports.shimSenderReceiverGetStats=h,exports.shimAddTrackRemoveTrackWithNative=f,exports.shimAddTrackRemoveTrack=m,exports.shimPeerConnection=u,exports.fixNegotiationNeeded=l,Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return t.shimGetUserMedia}}),Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return r.shimGetDisplayMedia}});var e=i(require("../utils.js")),t=require("./getusermedia"),r=require("./getdisplaymedia");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function c(t){if("object"!==s(t)||!t.RTCPeerConnection||"ontrack"in t.RTCPeerConnection.prototype)e.wrapPeerConnectionEvent(t,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._ontrackpoly||(this._ontrackpoly=function(r){r.stream.addEventListener("addtrack",function(n){var i;i=t.RTCPeerConnection.prototype.getReceivers?e.getReceivers().find(function(e){return e.track&&e.track.id===n.track.id}):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],e.dispatchEvent(o)}),r.stream.getTracks().forEach(function(n){var i;i=t.RTCPeerConnection.prototype.getReceivers?e.getReceivers().find(function(e){return e.track&&e.track.id===n.id}):{track:n};var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],e.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),r.apply(this,arguments)}}}function p(e){if("object"===s(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(function(e){r._senders.push(t(r,e))})};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach(function(e){var r=t._senders.find(function(t){return t.track===e});r&&t._senders.splice(t._senders.indexOf(r),1)})}}else if("object"===s(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function d(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,[r,n,i]=arguments;if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){r[t]=e.stat(t)}),t[r.id]=r}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){return t.apply(this,[function(e){n(s(o(e)))},r])}return new Promise(function(r,n){t.apply(e,[function(e){r(s(o(e)))},n])}).then(n,i)}}}function h(t){if("object"===s(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver){if(!("getStats"in t.RTCRtpSender.prototype)){var r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=r.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t});var n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),t.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(r){return e.filterStats(r,t.track,!0)})}}if(!("getStats"in t.RTCRtpReceiver.prototype)){var i=t.RTCPeerConnection.prototype.getReceivers;i&&(t.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t}),e.wrapPeerConnectionEvent(t,"track",function(e){return e.receiver._pc=e.srcElement,e}),t.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(r){return e.filterStats(r,t.track,!1)})}}if("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype){var o=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){var e,r,n,i=arguments[0];return this.getSenders().forEach(function(t){t.track===i&&(e?n=!0:e=t)}),this.getReceivers().forEach(function(e){return e.track===i&&(r?n=!0:r=e),e.track===i}),n||e&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}}function f(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var n=this.getSenders();r.apply(this,arguments);var i=this.getSenders().filter(function(e){return-1===n.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(i)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]}),i.apply(this,arguments)}}function m(t){if(t.RTCPeerConnection){var r=e.detectBrowser(t);if(t.RTCPeerConnection.prototype.addTrack&&r.version>=65)return f(t);var n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(e){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},e.getTracks().forEach(function(e){if(r.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[e.id]){var n=new t.MediaStream(e.getTracks());this._streams[e.id]=n,this._reverseStreams[n.id]=e,e=n}i.apply(this,[e])};var s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},t.RTCPeerConnection.prototype.addTrack=function(e,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(t){return t===e}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[r.id];if(o)o.addTrack(e),Promise.resolve().then(function(){n.dispatchEvent(new Event("negotiationneeded"))});else{var s=new t.MediaStream([e]);this._streams[r.id]=s,this._reverseStreams[s.id]=r,this.addStream(s)}return this.getSenders().find(function(t){return t.track===e})},["createOffer","createAnswer"].forEach(function(e){var r=t.RTCPeerConnection.prototype[e],n=o({},e,function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var n=p(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then(function(t){return p(e,t)})});t.RTCPeerConnection.prototype[e]=n[e]});var a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,t=arguments[0],r=t.sdp,Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:r})),a.apply(this,arguments)):a.apply(this,arguments);var e,t,r};var c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=c.get.apply(this);return""===e.type?e:p(this,e)}}),t.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(n){r._streams[n].getTracks().find(function(t){return e.track===t})&&(t=r._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function p(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}}function u(t){var r=e.detectBrowser(t);if(!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection){r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var r=t.RTCPeerConnection.prototype[e],n=o({},e,function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)});t.RTCPeerConnection.prototype[e]=n[e]});var n=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function l(t){e.wrapPeerConnectionEvent(t,"negotiationneeded",function(e){if("stable"===e.target.signalingState)return e})}
},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],"NZ1C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterIceServers=n;var r=t(require("../utils"));function e(){if("function"!=typeof WeakMap)return null;var r=new WeakMap;return e=function(){return r},r}function t(r){if(r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var t=e();if(t&&t.has(r))return t.get(r);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var f=u?Object.getOwnPropertyDescriptor(r,i):null;f&&(f.get||f.set)?Object.defineProperty(n,i,f):n[i]=r[i]}return n.default=r,t&&t.set(r,n),n}function n(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var u="string"==typeof t;return u&&(t=[t]),t=t.filter(function(r){if(0===r.indexOf("stun:"))return!1;var e=r.startsWith("turn")&&!r.startsWith("turn:[")&&r.includes("transport=udp");return e&&!n?(n=!0,!0):e&&!n}),delete e.url,e.urls=u?t[0]:t,!!t.length}})}
},{"../utils":"iSxC"}],"YHvh":[function(require,module,exports) {
"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(r){return r.trim().split("\n").map(function(r){return r.trim()})},r.splitSections=function(r){return r.split("\nm=").map(function(r,e){return(e>0?"m="+r:r).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(r){return 0===r.indexOf(t)})},r.parseCandidate=function(r){for(var e,t={foundation:(e=0===r.indexOf("a=candidate:")?r.substring(12).split(" "):r.substring(10).split(" "))[0],component:parseInt(e[1],10),protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},n=8;n<e.length;n+=2)switch(e[n]){case"raddr":t.relatedAddress=e[n+1];break;case"rport":t.relatedPort=parseInt(e[n+1],10);break;case"tcptype":t.tcpType=e[n+1];break;case"ufrag":t.ufrag=e[n+1],t.usernameFragment=e[n+1];break;default:t[e[n]]=e[n+1]}return t},r.writeCandidate=function(r){var e=[];e.push(r.foundation),e.push(r.component),e.push(r.protocol.toUpperCase()),e.push(r.priority),e.push(r.address||r.ip),e.push(r.port);var t=r.type;return e.push("typ"),e.push(t),"host"!==t&&r.relatedAddress&&r.relatedPort&&(e.push("raddr"),e.push(r.relatedAddress),e.push("rport"),e.push(r.relatedPort)),r.tcpType&&"tcp"===r.protocol.toLowerCase()&&(e.push("tcptype"),e.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(e.push("ufrag"),e.push(r.usernameFragment||r.ufrag)),"candidate:"+e.join(" ")},r.parseIceOptions=function(r){return r.substr(14).split(" ")},r.parseRtpMap=function(r){var e=r.substr(9).split(" "),t={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),t.name=e[0],t.clockRate=parseInt(e[1],10),t.channels=3===e.length?parseInt(e[2],10):1,t.numChannels=t.channels,t},r.writeRtpMap=function(r){var e=r.payloadType;void 0!==r.preferredPayloadType&&(e=r.preferredPayloadType);var t=r.channels||r.numChannels||1;return"a=rtpmap:"+e+" "+r.name+"/"+r.clockRate+(1!==t?"/"+t:"")+"\r\n"},r.parseExtmap=function(r){var e=r.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},r.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&"sendrecv"!==r.direction?"/"+r.direction:"")+" "+r.uri+"\r\n"},r.parseFmtp=function(r){for(var e,t={},n=r.substr(r.indexOf(" ")+1).split(";"),a=0;a<n.length;a++)t[(e=n[a].trim().split("="))[0].trim()]=e[1];return t},r.writeFmtp=function(r){var e="",t=r.payloadType;if(void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){var n=[];Object.keys(r.parameters).forEach(function(e){r.parameters[e]?n.push(e+"="+r.parameters[e]):n.push(e)}),e+="a=fmtp:"+t+" "+n.join(";")+"\r\n"}return e},r.parseRtcpFb=function(r){var e=r.substr(r.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},r.writeRtcpFb=function(r){var e="",t=r.payloadType;return void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(function(r){e+="a=rtcp-fb:"+t+" "+r.type+(r.parameter&&r.parameter.length?" "+r.parameter:"")+"\r\n"}),e},r.parseSsrcMedia=function(r){var e=r.indexOf(" "),t={ssrc:parseInt(r.substr(7,e-7),10)},n=r.indexOf(":",e);return n>-1?(t.attribute=r.substr(e+1,n-e-1),t.value=r.substr(n+1)):t.attribute=r.substr(e+1),t},r.parseSsrcGroup=function(r){var e=r.substr(13).split(" ");return{semantics:e.shift(),ssrcs:e.map(function(r){return parseInt(r,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(r){var e=r.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(r,e){var t="a=setup:"+e+"\r\n";return r.fingerprints.forEach(function(r){t+="a=fingerprint:"+r.algorithm+" "+r.value+"\r\n"}),t},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter(function(r){return 0===r.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(r){return 0===r.indexOf("a=ice-pwd:")})[0].substr(10)}},r.writeIceParameters=function(r){return"a=ice-ufrag:"+r.usernameFragment+"\r\na=ice-pwd:"+r.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),a=3;a<n.length;a++){var s=n[a],i=r.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(i){var p=r.parseRtpMap(i),c=r.matchPrefix(e,"a=fmtp:"+s+" ");switch(p.parameters=c.length?r.parseFmtp(c[0]):{},p.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(r.parseRtcpFb),t.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(p.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(r){return void 0!==r.preferredPayloadType?r.preferredPayloadType:r.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)});var a=0;return t.codecs.forEach(function(r){r.maxptime>a&&(a=r.maxptime)}),a>0&&(n+="a=maxptime:"+a+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=r.writeExtmap(e)}),n},r.parseRtpEncodingParameters=function(e){var t,n=[],a=r.parseRtpParameters(e),s=-1!==a.fecMechanisms.indexOf("RED"),i=-1!==a.fecMechanisms.indexOf("ULPFEC"),p=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"cname"===r.attribute}),c=p.length>0&&p[0].ssrc,o=r.matchPrefix(e,"a=ssrc-group:FID").map(function(r){return r.substr(17).split(" ").map(function(r){return parseInt(r,10)})});o.length>0&&o[0].length>1&&o[0][0]===c&&(t=o[0][1]),a.codecs.forEach(function(r){if("RTX"===r.name.toUpperCase()&&r.parameters.apt){var e={ssrc:c,codecPayloadType:parseInt(r.parameters.apt,10)};c&&t&&(e.rtx={ssrc:t}),n.push(e),s&&((e=JSON.parse(JSON.stringify(e))).fec={ssrc:c,mechanism:i?"red+ulpfec":"red"},n.push(e))}}),0===n.length&&c&&n.push({ssrc:c});var u=r.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(r){r.maxBitrate=u})),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"cname"===r.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var a=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=a.length>0,t.compound=0===a.length;var s=r.matchPrefix(e,"a=rtcp-mux");return t.mux=s.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var a=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"msid"===r.attribute});return a.length>0?{stream:(t=a[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),a=r.matchPrefix(e,"a=max-message-size:");a.length>0&&(t=parseInt(a[0].substr(19),10)),isNaN(t)&&(t=65536);var s=r.matchPrefix(e,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var i=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(i[0],10),protocol:i[1],maxMessageSize:t}}},r.writeSctpDescription=function(r,e){var t=[];return t="DTLS/SCTP"!==r.protocol?["m="+r.kind+" 9 "+r.protocol+" "+e.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+e.port+"\r\n"]:["m="+r.kind+" 9 "+r.protocol+" "+e.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+e.port+" "+e.protocol+" 65535\r\n"],void 0!==e.maxMessageSize&&t.push("a=max-message-size:"+e.maxMessageSize+"\r\n"),t.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var a=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,a){var s=r.writeRtpDescription(e.kind,t);if(s+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),s+="a=mid:"+e.mid+"\r\n",e.direction?s+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var i="msid:"+a.id+" "+e.rtpSender.track.id+"\r\n";s+="a="+i,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+i,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+i,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s},r.getDirection=function(e,t){for(var n=r.splitLines(e),a=0;a<n.length;a++)switch(n[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[a].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(r){return"0"===r.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"==typeof module&&(module.exports=r);
},{}],"NJ2u":[function(require,module,exports) {
"use strict";var e=require("sdp");function t(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function r(t,r,n,a,i){var s=e.writeRtpDescription(t.kind,r);if(s+=e.writeIceParameters(t.iceGatherer.getLocalParameters()),s+=e.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),s+="a=mid:"+t.mid+"\r\n",t.rtpSender&&t.rtpReceiver?s+="a=sendrecv\r\n":t.rtpSender?s+="a=sendonly\r\n":t.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",t.rtpSender){var o=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=o;var c="msid:"+(a?a.id:"-")+" "+o+"\r\n";s+="a="+c,s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+c,t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+c,s+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+e.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+e.localCName+"\r\n"),s}function n(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var a="string"==typeof n;return a&&(n=[n]),n=n.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!r?(r=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")}),delete e.url,e.urls=a?n[0]:n,!!n.length}})}function a(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},a=function(e,t,r,a){var i=n(e.parameters.apt,r),s=n(t.parameters.apt,a);return i&&s&&i.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach(function(n){for(var i=0;i<t.codecs.length;i++){var s=t.codecs[i];if(n.name.toLowerCase()===s.name.toLowerCase()&&n.clockRate===s.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&s.parameters.apt&&!a(n,s,e.codecs,t.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(n.numChannels,s.numChannels),r.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var a=t.headerExtensions[n];if(e.uri===a.uri){r.headerExtensions.push(a);break}}}),r}function i(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function s(e,t){var r=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return r||e.addRemoteCandidate(t),!r}function o(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}module.exports=function(c,d){function p(e,t){t.addTrack(e),t.dispatchEvent(new c.MediaStreamTrackEvent("addtrack",{track:e}))}function l(e,t,r,n){var a=new Event("track");a.track=t,a.receiver=r,a.transceiver={receiver:r},a.streams=n,c.setTimeout(function(){e._dispatchEvent("track",a)})}var f=function(t){var r=this,a=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){r[e]=a[e].bind(a)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",t=JSON.parse(JSON.stringify(t||{})),this.usingBundle="max-bundle"===t.bundlePolicy,"negotiate"===t.rtcpMuxPolicy)throw o("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(t.rtcpMuxPolicy||(t.rtcpMuxPolicy="require"),t.iceTransportPolicy){case"all":case"relay":break;default:t.iceTransportPolicy="all"}switch(t.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:t.bundlePolicy="balanced"}if(t.iceServers=n(t.iceServers||[],d),this._iceGatherers=[],t.iceCandidatePoolSize)for(var i=t.iceCandidatePoolSize;i>0;i--)this._iceGatherers.push(new c.RTCIceGatherer({iceServers:t.iceServers,gatherPolicy:t.iceTransportPolicy}));else t.iceCandidatePoolSize=0;this._config=t,this.transceivers=[],this._sdpSessionId=e.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(f.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(f.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),f.prototype.onicecandidate=null,f.prototype.onaddstream=null,f.prototype.ontrack=null,f.prototype.onremovestream=null,f.prototype.onsignalingstatechange=null,f.prototype.oniceconnectionstatechange=null,f.prototype.onconnectionstatechange=null,f.prototype.onicegatheringstatechange=null,f.prototype.onnegotiationneeded=null,f.prototype.ondatachannel=null,f.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},f.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},f.prototype.getConfiguration=function(){return this._config},f.prototype.getLocalStreams=function(){return this.localStreams},f.prototype.getRemoteStreams=function(){return this.remoteStreams},f.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var a=this._createIceAndDtlsTransports();n.iceTransport=a.iceTransport,n.dtlsTransport=a.dtlsTransport}return t||this.transceivers.push(n),n},f.prototype.addTrack=function(e,t){if(this._isClosed)throw o("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find(function(t){return t.track===e}))throw o("InvalidAccessError","Track already exists.");for(var n=0;n<this.transceivers.length;n++)this.transceivers[n].track||this.transceivers[n].kind!==e.kind||(r=this.transceivers[n]);return r||(r=this._createTransceiver(e.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(t)&&this.localStreams.push(t),r.track=e,r.stream=t,r.rtpSender=new c.RTCRtpSender(e,r.dtlsTransport),r.rtpSender},f.prototype.addStream=function(e){var t=this;if(d>=15025)e.getTracks().forEach(function(r){t.addTrack(r,e)});else{var r=e.clone();e.getTracks().forEach(function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),r.getTracks().forEach(function(e){t.addTrack(e,r)})}},f.prototype.removeTrack=function(e){if(this._isClosed)throw o("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(e instanceof c.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var t=this.transceivers.find(function(t){return t.rtpSender===e});if(!t)throw o("InvalidAccessError","Sender was not created by this connection.");var r=t.stream;t.rtpSender.stop(),t.rtpSender=null,t.track=null,t.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},f.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var r=t.getSenders().find(function(t){return t.track===e});r&&t.removeTrack(r)})},f.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},f.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},f.prototype._createIceGatherer=function(e,t){var r=this;if(t&&e>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var n=new c.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(n,"state",{value:"new",writable:!0}),this.transceivers[e].bufferedCandidateEvents=[],this.transceivers[e].bufferCandidates=function(t){var a=!t.candidate||0===Object.keys(t.candidate).length;n.state=a?"completed":"gathering",null!==r.transceivers[e].bufferedCandidateEvents&&r.transceivers[e].bufferedCandidateEvents.push(t)},n.addEventListener("localcandidate",this.transceivers[e].bufferCandidates),n},f.prototype._gather=function(t,r){var n=this,a=this.transceivers[r].iceGatherer;if(!a.onlocalcandidate){var i=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,a.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),a.onlocalcandidate=function(i){if(!(n.usingBundle&&r>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:r};var o=i.candidate,c=!o||0===Object.keys(o).length;if(c)"new"!==a.state&&"gathering"!==a.state||(a.state="completed");else{"new"===a.state&&(a.state="gathering"),o.component=1,o.ufrag=a.getLocalParameters().usernameFragment;var d=e.writeCandidate(o);s.candidate=Object.assign(s.candidate,e.parseCandidate(d)),s.candidate.candidate=d,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var p=e.getMediaSections(n._localDescription.sdp);p[s.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",n._localDescription.sdp=e.getDescription(n._localDescription.sdp)+p.join("");var l=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==n.iceGatheringState&&(n.iceGatheringState="gathering",n._emitGatheringStateChange()),c||n._dispatchEvent("icecandidate",s),l&&(n._dispatchEvent("icecandidate",new Event("icecandidate")),n.iceGatheringState="complete",n._emitGatheringStateChange())}},c.setTimeout(function(){i.forEach(function(e){a.onlocalcandidate(e)})},0)}},f.prototype._createIceAndDtlsTransports=function(){var e=this,t=new c.RTCIceTransport(null);t.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var r=new c.RTCDtlsTransport(t);return r.ondtlsstatechange=function(){e._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),e._updateConnectionState()},{iceTransport:t,dtlsTransport:r}},f.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},f.prototype._transceive=function(t,r,n){var i=a(t.localCapabilities,t.remoteCapabilities);r&&t.rtpSender&&(i.encodings=t.sendEncodingParameters,i.rtcp={cname:e.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(i.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(i)),n&&t.rtpReceiver&&i.codecs.length>0&&("video"===t.kind&&t.recvEncodingParameters&&d<15019&&t.recvEncodingParameters.forEach(function(e){delete e.rtx}),t.recvEncodingParameters.length?i.encodings=t.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(i.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(i.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(i))},f.prototype.setLocalDescription=function(t){var r,n,s=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(o("TypeError",'Unsupported type "'+t.type+'"'));if(!i("setLocalDescription",t.type,s.signalingState)||s._isClosed)return Promise.reject(o("InvalidStateError","Can not set local "+t.type+" in state "+s.signalingState));if("offer"===t.type)r=e.splitSections(t.sdp),n=r.shift(),r.forEach(function(t,r){var n=e.parseRtpParameters(t);s.transceivers[r].localCapabilities=n}),s.transceivers.forEach(function(e,t){s._gather(e.mid,t)});else if("answer"===t.type){r=e.splitSections(s._remoteDescription.sdp),n=r.shift();var c=e.matchPrefix(n,"a=ice-lite").length>0;r.forEach(function(t,r){var i=s.transceivers[r],o=i.iceGatherer,d=i.iceTransport,p=i.dtlsTransport,l=i.localCapabilities,f=i.remoteCapabilities;if(!(e.isRejected(t)&&0===e.matchPrefix(t,"a=bundle-only").length)&&!i.rejected){var u=e.getIceParameters(t,n),v=e.getDtlsParameters(t,n);c&&(v.role="server"),s.usingBundle&&0!==r||(s._gather(i.mid,r),"new"===d.state&&d.start(o,u,c?"controlling":"controlled"),"new"===p.state&&p.start(v));var h=a(l,f);s._transceive(i,h.codecs.length>0,!1)}})}return s._localDescription={type:t.type,sdp:t.sdp},"offer"===t.type?s._updateSignalingState("have-local-offer"):s._updateSignalingState("stable"),Promise.resolve()},f.prototype.setRemoteDescription=function(t){var r=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(o("TypeError",'Unsupported type "'+t.type+'"'));if(!i("setRemoteDescription",t.type,r.signalingState)||r._isClosed)return Promise.reject(o("InvalidStateError","Can not set remote "+t.type+" in state "+r.signalingState));var n={};r.remoteStreams.forEach(function(e){n[e.id]=e});var f=[],u=e.splitSections(t.sdp),v=u.shift(),h=e.matchPrefix(v,"a=ice-lite").length>0,m=e.matchPrefix(v,"a=group:BUNDLE ").length>0;r.usingBundle=m;var g=e.matchPrefix(v,"a=ice-options:")[0];return r.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,u.forEach(function(i,o){var l=e.splitLines(i),u=e.getKind(i),g=e.isRejected(i)&&0===e.matchPrefix(i,"a=bundle-only").length,y=l[0].substr(2).split(" ")[2],S=e.getDirection(i,v),T=e.parseMsid(i),E=e.getMid(i)||e.generateIdentifier();if(g||"application"===u&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))r.transceivers[o]={mid:E,kind:u,protocol:y,rejected:!0};else{var C,P,w,R,_,k,b,x,D;!g&&r.transceivers[o]&&r.transceivers[o].rejected&&(r.transceivers[o]=r._createTransceiver(u,!0));var I,L,M=e.parseRtpParameters(i);g||(I=e.getIceParameters(i,v),(L=e.getDtlsParameters(i,v)).role="client"),b=e.parseRtpEncodingParameters(i);var O=e.parseRtcpParameters(i),G=e.matchPrefix(i,"a=end-of-candidates",v).length>0,j=e.matchPrefix(i,"a=candidate:").map(function(t){return e.parseCandidate(t)}).filter(function(e){return 1===e.component});if(("offer"===t.type||"answer"===t.type)&&!g&&m&&o>0&&r.transceivers[o]&&(r._disposeIceAndDtlsTransports(o),r.transceivers[o].iceGatherer=r.transceivers[0].iceGatherer,r.transceivers[o].iceTransport=r.transceivers[0].iceTransport,r.transceivers[o].dtlsTransport=r.transceivers[0].dtlsTransport,r.transceivers[o].rtpSender&&r.transceivers[o].rtpSender.setTransport(r.transceivers[0].dtlsTransport),r.transceivers[o].rtpReceiver&&r.transceivers[o].rtpReceiver.setTransport(r.transceivers[0].dtlsTransport)),"offer"!==t.type||g){if("answer"===t.type&&!g){P=(C=r.transceivers[o]).iceGatherer,w=C.iceTransport,R=C.dtlsTransport,_=C.rtpReceiver,k=C.sendEncodingParameters,x=C.localCapabilities,r.transceivers[o].recvEncodingParameters=b,r.transceivers[o].remoteCapabilities=M,r.transceivers[o].rtcpParameters=O,j.length&&"new"===w.state&&(!h&&!G||m&&0!==o?j.forEach(function(e){s(C.iceTransport,e)}):w.setRemoteCandidates(j)),m&&0!==o||("new"===w.state&&w.start(P,I,"controlling"),"new"===R.state&&R.start(L)),!a(C.localCapabilities,C.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&C.sendEncodingParameters[0].rtx&&delete C.sendEncodingParameters[0].rtx,r._transceive(C,"sendrecv"===S||"recvonly"===S,"sendrecv"===S||"sendonly"===S),!_||"sendrecv"!==S&&"sendonly"!==S?delete C.rtpReceiver:(D=_.track,T?(n[T.stream]||(n[T.stream]=new c.MediaStream),p(D,n[T.stream]),f.push([D,_,n[T.stream]])):(n.default||(n.default=new c.MediaStream),p(D,n.default),f.push([D,_,n.default])))}}else{(C=r.transceivers[o]||r._createTransceiver(u)).mid=E,C.iceGatherer||(C.iceGatherer=r._createIceGatherer(o,m)),j.length&&"new"===C.iceTransport.state&&(!G||m&&0!==o?j.forEach(function(e){s(C.iceTransport,e)}):C.iceTransport.setRemoteCandidates(j)),x=c.RTCRtpReceiver.getCapabilities(u),d<15019&&(x.codecs=x.codecs.filter(function(e){return"rtx"!==e.name})),k=C.sendEncodingParameters||[{ssrc:1001*(2*o+2)}];var N,A=!1;if("sendrecv"===S||"sendonly"===S){if(A=!C.rtpReceiver,_=C.rtpReceiver||new c.RTCRtpReceiver(C.dtlsTransport,u),A)D=_.track,T&&"-"===T.stream||(T?(n[T.stream]||(n[T.stream]=new c.MediaStream,Object.defineProperty(n[T.stream],"id",{get:function(){return T.stream}})),Object.defineProperty(D,"id",{get:function(){return T.track}}),N=n[T.stream]):(n.default||(n.default=new c.MediaStream),N=n.default)),N&&(p(D,N),C.associatedRemoteMediaStreams.push(N)),f.push([D,_,N])}else C.rtpReceiver&&C.rtpReceiver.track&&(C.associatedRemoteMediaStreams.forEach(function(e){var t,r,n=e.getTracks().find(function(e){return e.id===C.rtpReceiver.track.id});n&&(t=n,(r=e).removeTrack(t),r.dispatchEvent(new c.MediaStreamTrackEvent("removetrack",{track:t})))}),C.associatedRemoteMediaStreams=[]);C.localCapabilities=x,C.remoteCapabilities=M,C.rtpReceiver=_,C.rtcpParameters=O,C.sendEncodingParameters=k,C.recvEncodingParameters=b,r._transceive(r.transceivers[o],!1,A)}}}),void 0===r._dtlsRole&&(r._dtlsRole="offer"===t.type?"active":"passive"),r._remoteDescription={type:t.type,sdp:t.sdp},"offer"===t.type?r._updateSignalingState("have-remote-offer"):r._updateSignalingState("stable"),Object.keys(n).forEach(function(e){var t=n[e];if(t.getTracks().length){if(-1===r.remoteStreams.indexOf(t)){r.remoteStreams.push(t);var a=new Event("addstream");a.stream=t,c.setTimeout(function(){r._dispatchEvent("addstream",a)})}f.forEach(function(e){var n=e[0],a=e[1];t.id===e[2].id&&l(r,n,a,[t])})}}),f.forEach(function(e){e[2]||l(r,e[0],e[1],[])}),c.setTimeout(function(){r&&r.transceivers&&r.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},f.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},f.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},f.prototype._maybeFireNegotiationNeeded=function(){var e=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,c.setTimeout(function(){if(e.needNegotiation){e.needNegotiation=!1;var t=new Event("negotiationneeded");e._dispatchEvent("negotiationneeded",t)}},0))},f.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},f.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},f.prototype.createOffer=function(){var t=this;if(t._isClosed)return Promise.reject(o("InvalidStateError","Can not call createOffer after close"));var n=t.transceivers.filter(function(e){return"audio"===e.kind}).length,a=t.transceivers.filter(function(e){return"video"===e.kind}).length,i=arguments[0];if(i){if(i.mandatory||i.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==i.offerToReceiveAudio&&(n=!0===i.offerToReceiveAudio?1:!1===i.offerToReceiveAudio?0:i.offerToReceiveAudio),void 0!==i.offerToReceiveVideo&&(a=!0===i.offerToReceiveVideo?1:!1===i.offerToReceiveVideo?0:i.offerToReceiveVideo)}for(t.transceivers.forEach(function(e){"audio"===e.kind?--n<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});n>0||a>0;)n>0&&(t._createTransceiver("audio"),n--),a>0&&(t._createTransceiver("video"),a--);var s=e.writeSessionBoilerplate(t._sdpSessionId,t._sdpSessionVersion++);t.transceivers.forEach(function(r,n){var a=r.track,i=r.kind,s=r.mid||e.generateIdentifier();r.mid=s,r.iceGatherer||(r.iceGatherer=t._createIceGatherer(n,t.usingBundle));var o=c.RTCRtpSender.getCapabilities(i);d<15019&&(o.codecs=o.codecs.filter(function(e){return"rtx"!==e.name})),o.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),o.headerExtensions.forEach(function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var p=r.sendEncodingParameters||[{ssrc:1001*(2*n+1)}];a&&d>=15019&&"video"===i&&!p[0].rtx&&(p[0].rtx={ssrc:p[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new c.RTCRtpReceiver(r.dtlsTransport,i)),r.localCapabilities=o,r.sendEncodingParameters=p}),"max-compat"!==t._config.bundlePolicy&&(s+="a=group:BUNDLE "+t.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",t.transceivers.forEach(function(n,a){s+=r(n,n.localCapabilities,"offer",n.stream,t._dtlsRole),s+="a=rtcp-rsize\r\n",!n.iceGatherer||"new"===t.iceGatheringState||0!==a&&t.usingBundle||(n.iceGatherer.getLocalCandidates().forEach(function(t){t.component=1,s+="a="+e.writeCandidate(t)+"\r\n"}),"completed"===n.iceGatherer.state&&(s+="a=end-of-candidates\r\n"))});var p=new c.RTCSessionDescription({type:"offer",sdp:s});return Promise.resolve(p)},f.prototype.createAnswer=function(){var t=this;if(t._isClosed)return Promise.reject(o("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==t.signalingState&&"have-local-pranswer"!==t.signalingState)return Promise.reject(o("InvalidStateError","Can not call createAnswer in signalingState "+t.signalingState));var n=e.writeSessionBoilerplate(t._sdpSessionId,t._sdpSessionVersion++);t.usingBundle&&(n+="a=group:BUNDLE "+t.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),n+="a=ice-options:trickle\r\n";var i=e.getMediaSections(t._remoteDescription.sdp).length;t.transceivers.forEach(function(e,s){if(!(s+1>i)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?n+="m=application 0 DTLS/SCTP 5000\r\n":n+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?n+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(n+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(n+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var o;if(e.stream)"audio"===e.kind?o=e.stream.getAudioTracks()[0]:"video"===e.kind&&(o=e.stream.getVideoTracks()[0]),o&&d>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var c=a(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,n+=r(e,c,"answer",e.stream,t._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(n+="a=rtcp-rsize\r\n")}});var s=new c.RTCSessionDescription({type:"answer",sdp:n});return Promise.resolve(s)},f.prototype.addIceCandidate=function(t){var r,n=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(a,i){if(!n._remoteDescription)return i(o("InvalidStateError","Can not add ICE candidate without a remote description"));if(t&&""!==t.candidate){var c=t.sdpMLineIndex;if(t.sdpMid)for(var d=0;d<n.transceivers.length;d++)if(n.transceivers[d].mid===t.sdpMid){c=d;break}var p=n.transceivers[c];if(!p)return i(o("OperationError","Can not add ICE candidate"));if(p.rejected)return a();var l=Object.keys(t.candidate).length>0?e.parseCandidate(t.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return a();if(l.component&&1!==l.component)return a();if((0===c||c>0&&p.iceTransport!==n.transceivers[0].iceTransport)&&!s(p.iceTransport,l))return i(o("OperationError","Can not add ICE candidate"));var f=t.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(r=e.getMediaSections(n._remoteDescription.sdp))[c]+="a="+(l.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=e.getDescription(n._remoteDescription.sdp)+r.join("")}else for(var u=0;u<n.transceivers.length&&(n.transceivers[u].rejected||(n.transceivers[u].iceTransport.addRemoteCandidate({}),(r=e.getMediaSections(n._remoteDescription.sdp))[u]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=e.getDescription(n._remoteDescription.sdp)+r.join(""),!n.usingBundle));u++);a()})},f.prototype.getStats=function(e){if(e&&e instanceof c.MediaStreamTrack){var t=null;if(this.transceivers.forEach(function(r){r.rtpSender&&r.rtpSender.track===e?t=r.rtpSender:r.rtpReceiver&&r.rtpReceiver.track===e&&(t=r.rtpReceiver)}),!t)throw o("InvalidAccessError","Invalid selector.");return t.getStats()}var r=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&r.push(e[t].getStats())})}),Promise.all(r).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(e){var r=c[e];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then(function(e){var r=new Map;return Object.keys(e).forEach(function(n){e[n].type=t(e[n]),r.set(n,e[n])}),r})}}});var u=["createOffer","createAnswer"];return u.forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(u=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),f};
},{"sdp":"YHvh"}],"YdKx":[function(require,module,exports) {
"use strict";function e(e){var r=e&&e.navigator,t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return t(e).catch(function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=e;
},{}],"P3bV":[function(require,module,exports) {
"use strict";function e(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"XRic":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimPeerConnection=a,exports.shimReplaceTrack=p,Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return n.shimGetUserMedia}}),Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}});var e=s(require("../utils")),t=require("./filtericeservers"),r=o(require("rtcpeerconnection-shim")),n=require("./getusermedia"),i=require("./getdisplaymedia");function o(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function a(n){var i=e.detectBrowser(n);if(n.RTCIceGatherer&&(n.RTCIceCandidate||(n.RTCIceCandidate=function(e){return e}),n.RTCSessionDescription||(n.RTCSessionDescription=function(e){return e}),i.version<15025)){var o=Object.getOwnPropertyDescriptor(n.MediaStreamTrack.prototype,"enabled");Object.defineProperty(n.MediaStreamTrack.prototype,"enabled",{set:function(e){o.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!n.RTCRtpSender||"dtmf"in n.RTCRtpSender.prototype||Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new n.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),n.RTCDtmfSender&&!n.RTCDTMFSender&&(n.RTCDTMFSender=n.RTCDtmfSender);var c=(0,r.default)(n,i.version);n.RTCPeerConnection=function(r){return r&&r.iceServers&&(r.iceServers=(0,t.filterIceServers)(r.iceServers,i.version),e.log("ICE servers after filtering:",r.iceServers)),new c(r)},n.RTCPeerConnection.prototype=c.prototype}function p(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}
},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],"GzSv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=n;var e=o(require("../utils"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=t();if(o&&o.has(e))return o.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,o&&o.set(e,r),r}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){var o=e.detectBrowser(t),n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(t,o,r){e.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(t).then(o,r)},!(o.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var a=function(e,t,o){t in e&&!(o in e)&&(e[o]=e[t],delete e[t])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===r(e)&&"object"===r(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},i&&i.prototype.getSettings){var p=i.prototype.getSettings;i.prototype.getSettings=function(){var e=p.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var u=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===r(e)&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[e])}}}}
},{"../utils":"iSxC"}],"UuGU":[function(require,module,exports) {
"use strict";function e(e,i){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(a){if(!a||!a.video){var t=new DOMException("getDisplayMedia without video constraints is undefined");return t.name="NotFoundError",t.code=8,Promise.reject(t)}return!0===a.video?a.video={mediaSource:i}:a.video.mediaSource=i,e.navigator.mediaDevices.getUserMedia(a)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"Fzdr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimOnTrack=c,exports.shimPeerConnection=s,exports.shimSenderGetStats=p,exports.shimReceiverGetStats=u,exports.shimRemoveStream=f,exports.shimRTCDataChannel=C,exports.shimAddTransceiver=d,exports.shimCreateOffer=y,exports.shimCreateAnswer=l,Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return t.shimGetUserMedia}}),Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return r.shimGetDisplayMedia}});var e=o(require("../utils")),t=require("./getusermedia"),r=require("./getdisplaymedia");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){"object"===a(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function s(t){var r=e.detectBrowser(t);if("object"===a(t)&&(t.RTCPeerConnection||t.mozRTCPeerConnection)){if(!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var r=t.RTCPeerConnection.prototype[e],n=i({},e,function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)});t.RTCPeerConnection.prototype[e]=n[e]}),r.version<68){var n=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},c=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){var[e,t,n]=arguments;return c.apply(this,[e||null]).then(function(e){if(r.version<53&&!t)try{e.forEach(function(e){e.type=o[e.type]||e.type})}catch(n){if("TypeError"!==n.name)throw n;e.forEach(function(t,r){e.set(r,Object.assign({},t,{type:o[t.type]||t.type}))})}return e}).then(t,n)}}}function p(e){if("object"===a(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach(function(t){return t._pc=e}),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function u(t){if("object"===a(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&!(t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)){var r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t}),e.wrapPeerConnectionEvent(t,"track",function(e){return e.receiver._pc=e.srcElement,e}),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function f(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var r=this;e.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(e){e.track&&t.getTracks().includes(e.track)&&r.removeTrack(e)})})}function C(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function d(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],r=e&&"sendEncodings"in e;r&&e.sendEncodings.forEach(function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var n=t.apply(this,arguments);if(r){var{sender:o}=n,i=o.getParameters();"encodings"in i||(i.encodings=e.sendEncodings,this.setParametersPromises.push(o.setParameters(i).catch(function(){})))}return n})}}function y(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(r,e)}).finally(function(){r.setParametersPromises=[]}):t.apply(this,arguments)}}}function l(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(r,e)}).finally(function(){r.setParametersPromises=[]}):t.apply(this,arguments)}}}
},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],"t1lL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimLocalStreamsAPI=n,exports.shimRemoteStreamsAPI=i,exports.shimCallbacksAPI=a,exports.shimGetUserMedia=s,exports.shimConstraints=c,exports.shimRTCIceServerUrls=d,exports.shimTrackEventTransceiver=f,exports.shimCreateOfferLegacy=p;var e=r(require("../utils"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){if("object"===o(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(function(o){return t.call(r,o,e)}),e.getVideoTracks().forEach(function(o){return t.call(r,o,e)})},e.RTCPeerConnection.prototype.addTrack=function(e){var r=arguments[1];return r&&(this._localStreams?this._localStreams.includes(r)||this._localStreams.push(r):this._localStreams=[r]),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var o=e.getTracks();this.getSenders().forEach(function(e){o.includes(e.track)&&t.removeTrack(e)})}})}}function i(e){if("object"===o(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}})}),t.apply(e,arguments)}}}function a(e){if("object"===o(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var o=arguments.length>=2?arguments[2]:arguments[0],n=r.apply(this,[o]);return t?(n.then(e,t),Promise.resolve()):n},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};var c=function(e,t,r){var o=i.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o};t.setLocalDescription=c,c=function(e,t,r){var o=a.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o},t.setRemoteDescription=c,c=function(e,t,r){var o=s.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o},t.addIceCandidate=c}}function s(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,o=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return o(c(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,o){t.mediaDevices.getUserMedia(e).then(r,o)}.bind(t))}function c(t){return t&&void 0!==t.video?Object.assign({},t,{video:e.compactObject(t.video)}):t}function d(t){var r=t.RTCPeerConnection;t.RTCPeerConnection=function(t,o){if(t&&t.iceServers){for(var n=[],i=0;i<t.iceServers.length;i++){var a=t.iceServers[i];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(e.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,n.push(a)):n.push(t.iceServers[i])}t.iceServers=n}return new r(t,o)},t.RTCPeerConnection.prototype=r.prototype,"generateCertificate"in t.RTCPeerConnection&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return r.generateCertificate}})}function f(e){"object"===o(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function p(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find(function(e){return"audio"===e.receiver.track.kind});!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var o=this.getTransceivers().find(function(e){return"video"===e.receiver.track.kind});!1===e.offerToReceiveVideo&&o?"sendrecv"===o.direction?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":"recvonly"===o.direction&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):!0!==e.offerToReceiveVideo||o||this.addTransceiver("video")}return t.apply(this,arguments)}}
},{"../utils":"iSxC"}],"GOQK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimRTCIceCandidate=a,exports.shimMaxMessageSize=c,exports.shimSendThrowTypeError=s,exports.shimConnectionState=p,exports.removeAllowExtmapMixed=u;var e=r(require("sdp")),t=o(require("./utils"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(n){if(n.RTCIceCandidate&&!(n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)){var o=n.RTCIceCandidate;n.RTCIceCandidate=function(t){if("object"===i(t)&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){var n=new o(t),r=e.default.parseCandidate(t.candidate),a=Object.assign(n,r);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new o(t)},n.RTCIceCandidate.prototype=o.prototype,t.wrapPeerConnectionEvent(n,"icecandidate",function(e){return e.candidate&&Object.defineProperty(e,"candidate",{value:new n.RTCIceCandidate(e.candidate),writable:"false"}),e})}}function c(n){if(n.RTCPeerConnection){var o=t.detectBrowser(n);"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===o.browser&&o.version>=76){var{sdpSemantics:t}=this.getConfiguration();"plan-b"===t&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(t){if(!t||!t.sdp)return!1;var n=e.default.splitSections(t.sdp);return n.shift(),n.some(function(t){var n=e.default.parseMLine(t);return n&&"application"===n.kind&&-1!==n.protocol.indexOf("SCTP")})}(arguments[0])){var n,i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),a=(p=i,u=65536,"firefox"===o.browser&&(u=o.version<57?-1===p?16384:2147483637:o.version<60?57===o.version?65535:65536:2147483637),u),c=function(t,n){var r=65536;"firefox"===o.browser&&57===o.version&&(r=65535);var i=e.default.matchPrefix(t.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===o.browser&&-1!==n&&(r=2147483637),r}(arguments[0],i);n=0===a&&0===c?Number.POSITIVE_INFINITY:0===a||0===c?Math.max(a,c):Math.min(a,c);var s={};Object.defineProperty(s,"maxMessageSize",{get:function(){return n}}),this._sctp=s}var p,u;return r.apply(this,arguments)}}}function s(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=n.apply(this,arguments);return o(e,this),e},t.wrapPeerConnectionEvent(e,"datachannel",function(e){return o(e.channel,e.target),e})}function o(e,t){var n=e.send;e.send=function(){var o=arguments[0],r=o.length||o.size||o.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function p(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}}function u(e){if(e.RTCPeerConnection){var n=t.detectBrowser(e);if(!("chrome"===n.browser&&n.version>=71)){var o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(function(e){return"a=extmap-allow-mixed"!==e.trim()}).join("\n")),o.apply(this,arguments)}}}}
},{"sdp":"YHvh","./utils":"iSxC"}],"KtlG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adapterFactory=m;var e=o(require("./utils")),r=o(require("./chrome/chrome_shim")),i=o(require("./edge/edge_shim")),s=o(require("./firefox/firefox_shim")),t=o(require("./safari/safari_shim")),a=o(require("./common_shim"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n();if(r&&r.has(e))return r.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=s?Object.getOwnPropertyDescriptor(e,t):null;a&&(a.get||a.set)?Object.defineProperty(i,t,a):i[t]=e[t]}return i.default=e,r&&r.set(e,i),i}function m(){var{window:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},m=e.log,h=e.detectBrowser(n),d={browserDetails:h,commonShim:a,extractVersion:e.extractVersion,disableLog:e.disableLog,disableWarnings:e.disableWarnings};switch(h.browser){case"chrome":if(!r||!r.shimPeerConnection||!o.shimChrome)return m("Chrome shim is not included in this adapter release."),d;m("adapter.js shimming chrome."),d.browserShim=r,r.shimGetUserMedia(n),r.shimMediaStream(n),r.shimPeerConnection(n),r.shimOnTrack(n),r.shimAddTrackRemoveTrack(n),r.shimGetSendersWithDtmf(n),r.shimGetStats(n),r.shimSenderReceiverGetStats(n),r.fixNegotiationNeeded(n),a.shimRTCIceCandidate(n),a.shimConnectionState(n),a.shimMaxMessageSize(n),a.shimSendThrowTypeError(n),a.removeAllowExtmapMixed(n);break;case"firefox":if(!s||!s.shimPeerConnection||!o.shimFirefox)return m("Firefox shim is not included in this adapter release."),d;m("adapter.js shimming firefox."),d.browserShim=s,s.shimGetUserMedia(n),s.shimPeerConnection(n),s.shimOnTrack(n),s.shimRemoveStream(n),s.shimSenderGetStats(n),s.shimReceiverGetStats(n),s.shimRTCDataChannel(n),s.shimAddTransceiver(n),s.shimCreateOffer(n),s.shimCreateAnswer(n),a.shimRTCIceCandidate(n),a.shimConnectionState(n),a.shimMaxMessageSize(n),a.shimSendThrowTypeError(n);break;case"edge":if(!i||!i.shimPeerConnection||!o.shimEdge)return m("MS edge shim is not included in this adapter release."),d;m("adapter.js shimming edge."),d.browserShim=i,i.shimGetUserMedia(n),i.shimGetDisplayMedia(n),i.shimPeerConnection(n),i.shimReplaceTrack(n),a.shimMaxMessageSize(n),a.shimSendThrowTypeError(n);break;case"safari":if(!t||!o.shimSafari)return m("Safari shim is not included in this adapter release."),d;m("adapter.js shimming safari."),d.browserShim=t,t.shimRTCIceServerUrls(n),t.shimCreateOfferLegacy(n),t.shimCallbacksAPI(n),t.shimLocalStreamsAPI(n),t.shimRemoteStreamsAPI(n),t.shimTrackEventTransceiver(n),t.shimGetUserMedia(n),a.shimRTCIceCandidate(n),a.shimMaxMessageSize(n),a.shimSendThrowTypeError(n),a.removeAllowExtmapMixed(n);break;default:m("Unsupported browser!")}return d}
},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],"tI1X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./adapter_factory.js"),r=(0,e.adapterFactory)({window:window}),t=r;exports.default=t;
},{"./adapter_factory.js":"KtlG"}],"sXtV":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("webrtc-adapter"));exports.webRTCAdapter=t.default;
},{"webrtc-adapter":"tI1X"}],"I31f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./adapter");exports.Supports=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},e.prototype.isBrowserSupported=function(){var r=this.getBrowser(),e=this.getVersion();return!!this.supportedBrowsers.includes(r)&&("chrome"===r?e>=this.minChromeVersion:"firefox"===r?e>=this.minFirefoxVersion:"safari"===r&&(!this.isIOS&&e>=this.minSafariVersion))},e.prototype.getBrowser=function(){return r.webRTCAdapter.browserDetails.browser},e.prototype.getVersion=function(){return r.webRTCAdapter.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var e,i=this.getBrowser(),t=r.webRTCAdapter.browserDetails.version||0;if("chrome"===i&&t<72)return!1;if("firefox"===i&&t>=59)return!0;if(!(window.RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype))return!1;var o=!1;try{(e=new RTCPeerConnection).addTransceiver("audio"),o=!0}catch(n){}finally{e&&e.close()}return o},e.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},e}());
},{"./adapter":"sXtV"}],"BHXf":[function(require,module,exports) {
"use strict";var r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(null!=r)for(var e in r)Object.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t.default=r,t};Object.defineProperty(exports,"__esModule",{value:!0});var t=r(require("peerjs-js-binarypack")),e=require("./supports"),o={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};exports.util=new(function(){function r(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=o,this.browser=e.Supports.getBrowser(),this.browserVersion=e.Supports.getVersion(),this.supports=function(){var r,t={browser:e.Supports.isBrowserSupported(),webRTC:e.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;try{r=new RTCPeerConnection(o),t.audioVideo=!0;var n=void 0;try{n=r.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!n.ordered;try{n.binaryType="blob",t.binaryBlob=!e.Supports.isIOS}catch(a){}}catch(a){}finally{n&&n.close()}}catch(a){}finally{r&&r.close()}return t}(),this.pack=t.pack,this.unpack=t.unpack,this._dataCount=1}return r.prototype.noop=function(){},r.prototype.validateId=function(r){return!r||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(r)},r.prototype.chunk=function(r){for(var t=[],e=r.size,o=Math.ceil(e/exports.util.chunkedMTU),n=0,a=0;a<e;){var i=Math.min(e,a+exports.util.chunkedMTU),s=r.slice(a,i),u={__peerData:this._dataCount,n:n,data:s,total:o};t.push(u),a=i,n++}return this._dataCount++,t},r.prototype.blobToArrayBuffer=function(r,t){var e=new FileReader;return e.onload=function(r){r.target&&t(r.target.result)},e.readAsArrayBuffer(r),e},r.prototype.binaryStringToArrayBuffer=function(r){for(var t=new Uint8Array(r.length),e=0;e<r.length;e++)t[e]=255&r.charCodeAt(e);return t.buffer},r.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},r.prototype.isSecure=function(){return"https:"===location.protocol},r}());
},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],"JJlS":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"WOs9":[function(require,module,exports) {
"use strict";var r=this&&this.__read||function(r,e){var o="function"==typeof Symbol&&r[Symbol.iterator];if(!o)return r;var t,n,l=o.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(t=l.next()).done;)i.push(t.value)}catch(s){n={error:s}}finally{try{t&&!t.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return i},e=this&&this.__spread||function(){for(var e=[],o=0;o<arguments.length;o++)e=e.concat(r(arguments[o]));return e};Object.defineProperty(exports,"__esModule",{value:!0});var o,t="PeerJS: ";!function(r){r[r.Disabled=0]="Disabled",r[r.Errors=1]="Errors",r[r.Warnings=2]="Warnings",r[r.All=3]="All"}(o=exports.LogLevel||(exports.LogLevel={}));var n=function(){function r(){this._logLevel=o.Disabled}return Object.defineProperty(r.prototype,"logLevel",{get:function(){return this._logLevel},set:function(r){this._logLevel=r},enumerable:!0,configurable:!0}),r.prototype.log=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this._logLevel>=o.All&&this._print.apply(this,e([o.All],r))},r.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this._logLevel>=o.Warnings&&this._print.apply(this,e([o.Warnings],r))},r.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this._logLevel>=o.Errors&&this._print.apply(this,e([o.Errors],r))},r.prototype.setLogFunction=function(r){this._print=r},r.prototype._print=function(r){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];var i=e([t],n);for(var s in i)i[s]instanceof Error&&(i[s]="("+i[s].name+") "+i[s].message);r>=o.All?console.log.apply(console,e(i)):r>=o.Warnings?console.warn.apply(console,e(["WARNING"],i)):r>=o.Errors&&console.error.apply(console,e(["ERROR"],i))},r}();exports.default=new n;
},{}],"ZRYf":[function(require,module,exports) {
"use strict";var e,r,n,o,t,a,i;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.Open="open",e.Stream="stream",e.Data="data",e.Close="close",e.Error="error",e.IceStateChanged="iceStateChanged"}(e=exports.ConnectionEventType||(exports.ConnectionEventType={})),function(e){e.Data="data",e.Media="media"}(r=exports.ConnectionType||(exports.ConnectionType={})),function(e){e.Open="open",e.Close="close",e.Connection="connection",e.Call="call",e.Disconnected="disconnected",e.Error="error"}(n=exports.PeerEventType||(exports.PeerEventType={})),function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"}(o=exports.PeerErrorType||(exports.PeerErrorType={})),function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"}(t=exports.SerializationType||(exports.SerializationType={})),function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"}(a=exports.SocketEventType||(exports.SocketEventType={})),function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"}(i=exports.ServerMessageType||(exports.ServerMessageType={}));
},{}],"wJlv":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),t=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var s,o,r=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},n=this&&this.__spread||function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(t(arguments[n]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("eventemitter3"),i=o(require("./logger")),c=require("./enums"),a=function(t){function o(e,n,s,o,r,i){void 0===i&&(i=5e3);var c=t.call(this)||this;c.pingInterval=i,c._disconnected=!0,c._messagesQueue=[];var a=e?"wss://":"ws://";return c._baseUrl=a+n+":"+s+o+"peerjs?key="+r,c}return e(o,t),o.prototype.start=function(e,t){var n=this;this._id=e;var s=this._baseUrl+"&id="+e+"&token="+t;!this._socket&&this._disconnected&&(this._socket=new WebSocket(s),this._disconnected=!1,this._socket.onmessage=function(e){var t;try{t=JSON.parse(e.data),i.default.log("Server message received:",t)}catch(s){return void i.default.log("Invalid server message",e.data)}n.emit(c.SocketEventType.Message,t)},this._socket.onclose=function(e){n._disconnected||(i.default.log("Socket closed.",e),n._cleanup(),n._disconnected=!0,n.emit(c.SocketEventType.Disconnected))},this._socket.onopen=function(){n._disconnected||(n._sendQueuedMessages(),i.default.log("Socket open"),n._scheduleHeartbeat())})},o.prototype._scheduleHeartbeat=function(){var e=this;this._wsPingTimer=setTimeout(function(){e._sendHeartbeat()},this.pingInterval)},o.prototype._sendHeartbeat=function(){if(this._wsOpen()){var e=JSON.stringify({type:c.ServerMessageType.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}else i.default.log("Cannot send heartbeat, because socket closed")},o.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},o.prototype._sendQueuedMessages=function(){var e,t,o=n(this._messagesQueue);this._messagesQueue=[];try{for(var r=s(o),i=r.next();!i.done;i=r.next()){var c=i.value;this.send(c)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},o.prototype.send=function(e){if(!this._disconnected)if(this._id)if(e.type){if(this._wsOpen()){var t=JSON.stringify(e);this._socket.send(t)}}else this.emit(c.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(e)},o.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},o.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},o}(r.EventEmitter);exports.Socket=a;
},{"eventemitter3":"JJlS","./logger":"WOs9","./enums":"ZRYf"}],"HCdX":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(i,r){function c(e){try{s(o.next(e))}catch(n){r(n)}}function a(e){try{s(o.throw(e))}catch(n){r(n)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(c,a)}s((o=o.apply(e,n||[])).next())})},t=this&&this.__generator||function(e,n){var t,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=n.call(e,c)}catch(a){r=[6,a],o=0}finally{t=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./util"),r=o(require("./logger")),c=require("./enums"),a=function(){function o(e){this.connection=e}return o.prototype.startConnection=function(e){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===c.ConnectionType.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){if(this.connection.type===c.ConnectionType.Data){var t=this.connection,o={ordered:!!e.reliable},i=n.createDataChannel(t.label,o);t.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)},o.prototype._startPeerConnection=function(){r.default.log("Creating RTCPeerConnection.");var e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e},o.prototype._setupListeners=function(e){var n=this,t=this.connection.peer,o=this.connection.connectionId,a=this.connection.type,s=this.connection.provider;r.default.log("Listening for ICE candidates."),e.onicecandidate=function(e){e.candidate&&e.candidate.candidate&&(r.default.log("Received ICE candidates for "+t+":",e.candidate),s.socket.send({type:c.ServerMessageType.Candidate,payload:{candidate:e.candidate,type:a,connectionId:o},dst:t}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"failed":r.default.log("iceConnectionState is failed, closing connections to "+t),n.connection.emit(c.ConnectionEventType.Error,new Error("Negotiation of connection to "+t+" failed.")),n.connection.close();break;case"closed":r.default.log("iceConnectionState is closed, closing connections to "+t),n.connection.emit(c.ConnectionEventType.Error,new Error("Connection to "+t+" closed.")),n.connection.close();break;case"disconnected":r.default.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=i.util.noop}n.connection.emit(c.ConnectionEventType.IceStateChanged,e.iceConnectionState)},r.default.log("Listening for data channel"),e.ondatachannel=function(e){r.default.log("Received data channel");var n=e.channel;s.getConnection(t,o).initialize(n)},r.default.log("Listening for remote stream"),e.ontrack=function(e){r.default.log("Received remote stream");var i=e.streams[0],a=s.getConnection(t,o);if(a.type===c.ConnectionType.Media){var d=a;n._addStreamToMediaConnection(i,d)}}},o.prototype.cleanup=function(){r.default.log("Cleaning up PeerConnection to "+this.connection.peer);var e=this.connection.peerConnection;if(e){this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=function(){};var n="closed"!==e.signalingState,t=!1;if(this.connection.type===c.ConnectionType.Data){var o=this.connection.dataChannel;o&&(t=!!o.readyState&&"closed"!==o.readyState)}(n||t)&&e.close()}},o.prototype._makeOffer=function(){return n(this,void 0,Promise,function(){var n,o,a,s,d,l,u;return t(this,function(t){switch(t.label){case 0:n=this.connection.peerConnection,o=this.connection.provider,t.label=1;case 1:return t.trys.push([1,7,,8]),[4,n.createOffer(this.connection.options.constraints)];case 2:a=t.sent(),r.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(a.sdp=this.connection.options.sdpTransform(a.sdp)||a.sdp),t.label=3;case 3:return t.trys.push([3,5,,6]),[4,n.setLocalDescription(a)];case 4:return t.sent(),r.default.log("Set localDescription:",a,"for:"+this.connection.peer),s={sdp:a,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:i.util.browser},this.connection.type===c.ConnectionType.Data&&(d=this.connection,s=e(e({},s),{label:d.label,reliable:d.reliable,serialization:d.serialization})),o.socket.send({type:c.ServerMessageType.Offer,payload:s,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(l=t.sent())&&(o.emitError(c.PeerErrorType.WebRTC,l),r.default.log("Failed to setLocalDescription, ",l)),[3,6];case 6:return[3,8];case 7:return u=t.sent(),o.emitError(c.PeerErrorType.WebRTC,u),r.default.log("Failed to createOffer, ",u),[3,8];case 8:return[2]}})})},o.prototype._makeAnswer=function(){return n(this,void 0,Promise,function(){var e,n,o,a,s;return t(this,function(t){switch(t.label){case 0:e=this.connection.peerConnection,n=this.connection.provider,t.label=1;case 1:return t.trys.push([1,7,,8]),[4,e.createAnswer()];case 2:o=t.sent(),r.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(o.sdp=this.connection.options.sdpTransform(o.sdp)||o.sdp),t.label=3;case 3:return t.trys.push([3,5,,6]),[4,e.setLocalDescription(o)];case 4:return t.sent(),r.default.log("Set localDescription:",o,"for:"+this.connection.peer),n.socket.send({type:c.ServerMessageType.Answer,payload:{sdp:o,type:this.connection.type,connectionId:this.connection.connectionId,browser:i.util.browser},dst:this.connection.peer}),[3,6];case 5:return a=t.sent(),n.emitError(c.PeerErrorType.WebRTC,a),r.default.log("Failed to setLocalDescription, ",a),[3,6];case 6:return[3,8];case 7:return s=t.sent(),n.emitError(c.PeerErrorType.WebRTC,s),r.default.log("Failed to create answer, ",s),[3,8];case 8:return[2]}})})},o.prototype.handleSDP=function(e,o){return n(this,void 0,Promise,function(){var n,i,a,s;return t(this,function(t){switch(t.label){case 0:o=new RTCSessionDescription(o),n=this.connection.peerConnection,i=this.connection.provider,r.default.log("Setting remote description",o),a=this,t.label=1;case 1:return t.trys.push([1,5,,6]),[4,n.setRemoteDescription(o)];case 2:return t.sent(),r.default.log("Set remoteDescription:"+e+" for:"+this.connection.peer),"OFFER"!==e?[3,4]:[4,a._makeAnswer()];case 3:t.sent(),t.label=4;case 4:return[3,6];case 5:return s=t.sent(),i.emitError(c.PeerErrorType.WebRTC,s),r.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},o.prototype.handleCandidate=function(e){return n(this,void 0,Promise,function(){var n,o,i,a,s,d;return t(this,function(t){switch(t.label){case 0:r.default.log("handleCandidate:",e),n=e.candidate,o=e.sdpMLineIndex,i=e.sdpMid,a=this.connection.peerConnection,s=this.connection.provider,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,a.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:o,candidate:n}))];case 2:return t.sent(),r.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return d=t.sent(),s.emitError(c.PeerErrorType.WebRTC,d),r.default.log("Failed to handleCandidate, ",d),[3,4];case 4:return[2]}})})},o.prototype._addTracksToConnection=function(e,n){if(r.default.log("add tracks from stream "+e.id+" to peer connection"),!n.addTrack)return r.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(function(t){n.addTrack(t,e)})},o.prototype._addStreamToMediaConnection=function(e,n){r.default.log("add stream "+e.id+" to media connection "+n.connectionId),n.addStream(e)},o}();exports.Negotiator=a;
},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],"tQFK":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("eventemitter3"),r=function(e){function r(t,r,n){var o=e.call(this)||this;return o.peer=t,o.provider=r,o.options=n,o._open=!1,o.metadata=n.metadata,o}return t(r,e),Object.defineProperty(r.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),r}(e.EventEmitter);exports.BaseConnection=r;
},{"eventemitter3":"JJlS"}],"dbHP":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./util"),i=r(require("./logger")),a=require("./negotiator"),s=require("./enums"),l=require("./baseconnection"),c=function(r){function l(e,t,o){var i=r.call(this,e,t,o)||this;return i._localStream=i.options._stream,i.connectionId=i.options.connectionId||l.ID_PREFIX+n.util.randomToken(),i._negotiator=new a.Negotiator(i),i._localStream&&i._negotiator.startConnection({_stream:i._localStream,originator:!0}),i}return e(l,r),Object.defineProperty(l.prototype,"type",{get:function(){return s.ConnectionType.Media},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"localStream",{get:function(){return this._localStream},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!0,configurable:!0}),l.prototype.addStream=function(e){i.default.log("Receiving stream",e),this._remoteStream=e,r.prototype.emit.call(this,s.ConnectionEventType.Stream,e)},l.prototype.handleMessage=function(e){var t=e.type,o=e.payload;switch(e.type){case s.ServerMessageType.Answer:this._negotiator.handleSDP(t,o.sdp),this._open=!0;break;case s.ServerMessageType.Candidate:this._negotiator.handleCandidate(o.candidate);break;default:i.default.warn("Unrecognized message type:"+t+" from peer:"+this.peer)}},l.prototype.answer=function(e,r){var n,a;if(void 0===r&&(r={}),this._localStream)i.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=e,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection(t(t({},this.options._payload),{_stream:e}));var s=this.provider._getMessages(this.connectionId);try{for(var l=o(s),c=l.next();!c.done;c=l.next()){var p=c.value;this.handleMessage(p)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}this._open=!0}},l.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,r.prototype.emit.call(this,s.ConnectionEventType.Close))},l.ID_PREFIX="mc_",l}(l.BaseConnection);exports.MediaConnection=c;
},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],"GGp6":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("eventemitter3"),o=t(require("./logger")),n=function(t){function r(){var e=t.call(this)||this;return e.fileReader=new FileReader,e._queue=[],e._processing=!1,e.fileReader.onload=function(t){e._processing=!1,t.target&&e.emit("done",t.target.result),e.doNextTask()},e.fileReader.onerror=function(t){o.default.error("EncodingQueue error:",t),e._processing=!1,e.destroy(),e.emit("error",t)},e}return e(r,t),Object.defineProperty(r.prototype,"queue",{get:function(){return this._queue},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"processing",{get:function(){return this._processing},enumerable:!0,configurable:!0}),r.prototype.enque=function(e){this.queue.push(e),this.processing||this.doNextTask()},r.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},r.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},r}(r.EventEmitter);exports.EncodingQueue=n;
},{"eventemitter3":"JJlS","./logger":"WOs9"}],"GBTQ":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),t=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./util"),o=n(require("./logger")),r=require("./negotiator"),a=require("./enums"),s=require("./baseconnection"),u=require("./encodingQueue"),l=function(n){function s(e,t,l){var f=n.call(this,e,t,l)||this;return f.stringify=JSON.stringify,f.parse=JSON.parse,f._buffer=[],f._bufferSize=0,f._buffering=!1,f._chunkedData={},f._encodingQueue=new u.EncodingQueue,f.connectionId=f.options.connectionId||s.ID_PREFIX+i.util.randomToken(),f.label=f.options.label||f.connectionId,f.serialization=f.options.serialization||a.SerializationType.Binary,f.reliable=!!f.options.reliable,f._encodingQueue.on("done",function(e){f._bufferedSend(e)}),f._encodingQueue.on("error",function(){o.default.error("DC#"+f.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),f.close()}),f._negotiator=new r.Negotiator(f),f._negotiator.startConnection(f.options._payload||{originator:!0}),f}return e(s,n),Object.defineProperty(s.prototype,"type",{get:function(){return a.ConnectionType.Data},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!0,configurable:!0}),s.prototype.initialize=function(e){this._dc=e,this._configureDataChannel()},s.prototype._configureDataChannel=function(){var e=this;i.util.supports.binaryBlob&&!i.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){o.default.log("DC#"+e.connectionId+" dc connection success"),e._open=!0,e.emit(a.ConnectionEventType.Open)},this.dataChannel.onmessage=function(t){o.default.log("DC#"+e.connectionId+" dc onmessage:",t.data),e._handleDataMessage(t)},this.dataChannel.onclose=function(){o.default.log("DC#"+e.connectionId+" dc closed for:",e.peer),e.close()}},s.prototype._handleDataMessage=function(e){var t=this,o=e.data,r=o.constructor,s=o;if(this.serialization===a.SerializationType.Binary||this.serialization===a.SerializationType.BinaryUTF8){if(r===Blob)return void i.util.blobToArrayBuffer(o,function(e){var n=i.util.unpack(e);t.emit(a.ConnectionEventType.Data,n)});if(r===ArrayBuffer)s=i.util.unpack(o);else if(r===String){var u=i.util.binaryStringToArrayBuffer(o);s=i.util.unpack(u)}}else this.serialization===a.SerializationType.JSON&&(s=this.parse(o));s.__peerData?this._handleChunk(s):n.prototype.emit.call(this,a.ConnectionEventType.Data,s)},s.prototype._handleChunk=function(e){var t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];var i=new Blob(n.data);this._handleDataMessage({data:i})}},s.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,n.prototype.emit.call(this,a.ConnectionEventType.Close))},s.prototype.send=function(e,t){if(this.open)if(this.serialization===a.SerializationType.JSON)this._bufferedSend(this.stringify(e));else if(this.serialization===a.SerializationType.Binary||this.serialization===a.SerializationType.BinaryUTF8){var o=i.util.pack(e);if(!t&&o.size>i.util.chunkedMTU)return void this._sendChunks(o);i.util.supports.binaryBlob?this._bufferedSend(o):this._encodingQueue.enque(o)}else this._bufferedSend(e);else n.prototype.emit.call(this,a.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},s.prototype._bufferedSend=function(e){!this._buffering&&this._trySend(e)||(this._buffer.push(e),this._bufferSize=this._buffer.length)},s.prototype._trySend=function(e){var t=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>s.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){t._buffering=!1,t._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return o.default.error("DC#:"+this.connectionId+" Error when sending:",n),this._buffering=!0,this.close(),!1}return!0},s.prototype._tryBuffer=function(){if(this.open&&0!==this._buffer.length){var e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},s.prototype._sendChunks=function(e){var n,r,a=i.util.chunk(e);o.default.log("DC#"+this.connectionId+" Try to send "+a.length+" chunks...");try{for(var s=t(a),u=s.next();!u.done;u=s.next()){var l=u.value;this.send(l,!0)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},s.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case a.ServerMessageType.Answer:this._negotiator.handleSDP(e.type,t.sdp);break;case a.ServerMessageType.Candidate:this._negotiator.handleCandidate(t.candidate);break;default:o.default.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}},s.ID_PREFIX="dc_",s.MAX_BUFFERED_AMOUNT=8388608,s}(s.BaseConnection);exports.DataConnection=l;
},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],"in7L":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))(function(n,s){function i(t){try{a(o.next(t))}catch(e){s(e)}}function u(t){try{a(o.throw(t))}catch(e){s(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,u)}a((o=o.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var r,o,n,s,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){i.label=s[1];break}if(6===s[0]&&i.label<n[1]){i.label=n[1],n=s;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(s);break}n[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(u){s=[6,u],o=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=require("./util"),n=r(require("./logger")),s=function(){function r(t){this._options=t}return r.prototype._buildUrl=function(t){var e=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+t;return e+="?ts="+(new Date).getTime()+Math.random()},r.prototype.retrieveId=function(){return t(this,void 0,Promise,function(){var t,r,s,i;return e(this,function(e){switch(e.label){case 0:t=this._buildUrl("id"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(t)];case 2:if(200!==(r=e.sent()).status)throw new Error("Error. Status:"+r.status);return[2,r.text()];case 3:throw s=e.sent(),n.default.error("Error retrieving ID",s),i="","/"===this._options.path&&this._options.host!==o.util.CLOUD_HOST&&(i=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+i);case 4:return[2]}})})},r.prototype.listAllPeers=function(){return t(this,void 0,Promise,function(){var t,r,s,i;return e(this,function(e){switch(e.label){case 0:t=this._buildUrl("peers"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(t)];case 2:if(200!==(r=e.sent()).status){if(401===r.status)throw s="",s=this._options.host===o.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+s);throw new Error("Error. Status:"+r.status)}return[2,r.json()];case 3:throw i=e.sent(),n.default.error("Error retrieving list peers",i),new Error("Could not get list peers from the server."+i);case 4:return[2]}})})},r}();exports.API=s;
},{"./util":"BHXf","./logger":"WOs9"}],"Hxpd":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("eventemitter3"),s=require("./util"),a=o(require("./logger")),c=require("./socket"),l=require("./mediaconnection"),d=require("./dataconnection"),u=require("./enums"),p=require("./api"),h=function(){return function(){}}(),f=function(o){function i(e,n){var r,c=o.call(this)||this;return c._id=null,c._lastServerId=null,c._destroyed=!1,c._disconnected=!1,c._open=!1,c._connections=new Map,c._lostMessages=new Map,e&&e.constructor==Object?n=e:e&&(r=e.toString()),n=t({debug:0,host:s.util.CLOUD_HOST,port:s.util.CLOUD_PORT,path:"/",key:i.DEFAULT_KEY,token:s.util.randomToken(),config:s.util.defaultConfig},n),c._options=n,"/"===c._options.host&&(c._options.host=window.location.hostname),c._options.path&&("/"!==c._options.path[0]&&(c._options.path="/"+c._options.path),"/"!==c._options.path[c._options.path.length-1]&&(c._options.path+="/")),void 0===c._options.secure&&c._options.host!==s.util.CLOUD_HOST?c._options.secure=s.util.isSecure():c._options.host==s.util.CLOUD_HOST&&(c._options.secure=!0),c._options.logFunction&&a.default.setLogFunction(c._options.logFunction),a.default.logLevel=c._options.debug||0,c._api=new p.API(n),c._socket=c._createServerConnection(),s.util.supports.audioVideo||s.util.supports.data?r&&!s.util.validateId(r)?(c._delayedAbort(u.PeerErrorType.InvalidID,'ID "'+r+'" is invalid'),c):(r?c._initialize(r):c._api.retrieveId().then(function(e){return c._initialize(e)}).catch(function(e){return c._abort(u.PeerErrorType.ServerError,e)}),c):(c._delayedAbort(u.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),c)}return e(i,o),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"socket",{get:function(){return this._socket},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"connections",{get:function(){var e,t,o=Object.create(null);try{for(var i=n(this._connections),s=i.next();!s.done;s=i.next()){var a=r(s.value,2),c=a[0],l=a[1];o[c]=l}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return o},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!0,configurable:!0}),i.prototype._createServerConnection=function(){var e=this,t=new c.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(u.SocketEventType.Message,function(t){e._handleMessage(t)}),t.on(u.SocketEventType.Error,function(t){e._abort(u.PeerErrorType.SocketError,t)}),t.on(u.SocketEventType.Disconnected,function(){e.disconnected||(e.emitError(u.PeerErrorType.Network,"Lost connection to server."),e.disconnect())}),t.on(u.SocketEventType.Close,function(){e.disconnected||e._abort(u.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),t},i.prototype._initialize=function(e){this._id=e,this.socket.start(e,this._options.token)},i.prototype._handleMessage=function(e){var t,r,o=e.type,i=e.payload,s=e.src;switch(o){case u.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(u.PeerEventType.Open,this.id);break;case u.ServerMessageType.Error:this._abort(u.PeerErrorType.ServerError,i.msg);break;case u.ServerMessageType.IdTaken:this._abort(u.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case u.ServerMessageType.InvalidKey:this._abort(u.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case u.ServerMessageType.Leave:a.default.log("Received leave message from "+s),this._cleanupPeer(s),this._connections.delete(s);break;case u.ServerMessageType.Expire:this.emitError(u.PeerErrorType.PeerUnavailable,"Could not connect to peer "+s);break;case u.ServerMessageType.Offer:var c=i.connectionId;if((_=this.getConnection(s,c))&&(_.close(),a.default.warn("Offer received for existing Connection ID:"+c)),i.type===u.ConnectionType.Media)_=new l.MediaConnection(s,this,{connectionId:c,_payload:i,metadata:i.metadata}),this._addConnection(s,_),this.emit(u.PeerEventType.Call,_);else{if(i.type!==u.ConnectionType.Data)return void a.default.warn("Received malformed connection type:"+i.type);_=new d.DataConnection(s,this,{connectionId:c,_payload:i,metadata:i.metadata,label:i.label,serialization:i.serialization,reliable:i.reliable}),this._addConnection(s,_),this.emit(u.PeerEventType.Connection,_)}var p=this._getMessages(c);try{for(var h=n(p),f=h.next();!f.done;f=h.next()){var y=f.value;_.handleMessage(y)}}catch(v){t={error:v}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}break;default:if(!i)return void a.default.warn("You received a malformed message from "+s+" of type "+o);var _;c=i.connectionId;(_=this.getConnection(s,c))&&_.peerConnection?_.handleMessage(e):c?this._storeMessage(c,e):a.default.warn("You received an unrecognized message:",e)}},i.prototype._storeMessage=function(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)},i.prototype._getMessages=function(e){var t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]},i.prototype.connect=function(e,t){if(void 0===t&&(t={}),this.disconnected)return a.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(u.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var n=new d.DataConnection(e,this,t);return this._addConnection(e,n),n},i.prototype.call=function(e,t,n){if(void 0===n&&(n={}),this.disconnected)return a.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(u.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(t){n._stream=t;var r=new l.MediaConnection(e,this,n);return this._addConnection(e,r),r}a.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},i.prototype._addConnection=function(e,t){a.default.log("add connection "+t.type+":"+t.connectionId+" to peerId:"+e),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)},i.prototype._removeConnection=function(e){var t=this._connections.get(e.peer);if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}this._lostMessages.delete(e.connectionId)},i.prototype.getConnection=function(e,t){var r,o,i=this._connections.get(e);if(!i)return null;try{for(var s=n(i),a=s.next();!a.done;a=s.next()){var c=a.value;if(c.connectionId===t)return c}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return null},i.prototype._delayedAbort=function(e,t){var n=this;setTimeout(function(){n._abort(e,t)},0)},i.prototype._abort=function(e,t){a.default.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()},i.prototype.emitError=function(e,t){var n;a.default.error("Error:",t),(n="string"==typeof t?new Error(t):t).type=e,this.emit(u.PeerEventType.Error,n)},i.prototype.destroy=function(){this.destroyed||(a.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(u.PeerEventType.Close))},i.prototype._cleanup=function(){var e,t;try{for(var r=n(this._connections.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;this._cleanupPeer(i),this._connections.delete(i)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.socket.removeAllListeners()},i.prototype._cleanupPeer=function(e){var t,r,o=this._connections.get(e);if(o)try{for(var i=n(o),s=i.next();!s.done;s=i.next()){s.value.close()}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},i.prototype.disconnect=function(){if(!this.disconnected){var e=this.id;a.default.log("Disconnect peer with ID:"+e),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit(u.PeerEventType.Disconnected,e)}},i.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)a.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");a.default.error("In a hurry? We're still trying to make the initial connection!")}},i.prototype.listAllPeers=function(e){var t=this;void 0===e&&(e=function(e){}),this._api.listAllPeers().then(function(t){return e(t)}).catch(function(e){return t._abort(u.PeerErrorType.ServerError,e)})},i.DEFAULT_KEY="peerjs",i}(i.EventEmitter);exports.Peer=f;
},{"eventemitter3":"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],"iTK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./util"),r=require("./peer");exports.peerjs={Peer:r.Peer,util:e.util},exports.default=r.Peer,window.peerjs=exports.peerjs,window.Peer=r.Peer;
},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"], null)
//# sourceMappingURL=/peerjs.min.js.map

/***/ }),

/***/ "./src/game/main.ts":
/*!**************************!*\
  !*** ./src/game/main.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.g = void 0;
const van_1 = __webpack_require__(/*! ../van */ "./src/van.ts");
let canvas_element = document.getElementById("target");
exports.g = new van_1.peer_to_peer_game(canvas_element.getContext("2d"), {});
exports.g.loadRoomString("loading");


/***/ }),

/***/ "./src/game/objects/ControlledPlayer.ts":
/*!**********************************************!*\
  !*** ./src/game/objects/ControlledPlayer.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.ControlledPlayer = void 0;
const Goomba_1 = __webpack_require__(/*! ./Goomba */ "./src/game/objects/Goomba.ts");
class ControlledPlayer extends Goomba_1.Goomba {
    constructor(state, params) {
        super(state, params);
        this.tags = ["player"];
    }
}
exports.ControlledPlayer = ControlledPlayer;


/***/ }),

/***/ "./src/game/objects/Cursor.ts":
/*!************************************!*\
  !*** ./src/game/objects/Cursor.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Cursor = void 0;
const object_1 = __webpack_require__(/*! ../../lib/object */ "./src/lib/object.ts");
class Cursor extends object_1.obj {
    constructor() {
        super(...arguments);
        this.sprite_url = "./sprites/cursor.png";
        this.height = 64;
        this.width = 64;
        this.collision = false;
        this.render = true;
        this.gravity = false;
        this.tags = ["Cursor"];
    }
}
exports.Cursor = Cursor;


/***/ }),

/***/ "./src/game/objects/Goomba.ts":
/*!************************************!*\
  !*** ./src/game/objects/Goomba.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Goomba = exports.direction = void 0;
const sprite_1 = __webpack_require__(/*! ../../lib/sprite */ "./src/lib/sprite.ts");
const platformer_obj_1 = __webpack_require__(/*! ./abstract/platformer_obj */ "./src/game/objects/abstract/platformer_obj.ts");
const main_1 = __webpack_require__(/*! ../main */ "./src/game/main.ts");
const math_1 = __webpack_require__(/*! lib/math */ "./src/lib/math.ts");
var direction;
(function (direction) {
    direction[direction["left"] = 0] = "left";
    direction[direction["right"] = 1] = "right";
})(direction = exports.direction || (exports.direction = {}));
class Goomba extends platformer_obj_1.platformer_obj {
    constructor(state, parameters = Goomba.default_params) {
        super(state, parameters);
        this.sprite_url = "./sprites/folder/robot.png";
        this.height = 149;
        this.width = 149;
        this.tags = ["dummy"];
        this.collision = true;
        this.layer = 2;
        if (parameters.id != undefined) {
            this.id = parameters.id;
        }
        Object.assign(this.state, {
            direction: direction.left,
            jumping: false,
            health: 100,
            times_airshot: 0,
            max_times_airshot: 0,
            pointing_towards: math_1.Vec.create(0, 0)
        });
        //this.animations.play("walk1");
    }
    registerAnimations() {
        let sprites = sprite_1.sprite_gen(this.sprite_sheet, this.width, this.height);
        this.animations.add("walk1", [
            [0, sprites[0][0]],
            [100, sprites[0][1]],
            [400, sprites[0][0]],
            [500, sprites[0][2]]
        ], 800);
        this.animations.add("walk2", [
            [0, sprites[0][5]],
            [100, sprites[0][4]],
            [400, sprites[0][5]],
            [500, sprites[0][3]]
        ], 800);
        this.animations.add("idleleft", [
            [0, sprites[0][0]]
        ], 1);
        this.animations.add('idleright', [
            [0, sprites[0][5]]
        ], 1);
        this.animations.add('fallleft', [
            [0, sprites[0][6]]
        ], 1);
        this.animations.add('fallright', [
            [0, sprites[0][7]]
        ], 1);
    }
    registerAudio() {
        this.audio.add("slime", "./sounds/goomba/slimeball.wav");
        this.audio.add("explosion", "./sounds/explosion.mp3");
    }
    renderf(t) {
        if (this.state.jumping) {
            let animation = this.state.direction == direction.left ? "fallleft" : "fallright";
            this.animations.play(animation);
        }
        else if (this.state.velocity.x == 0 && this.state.velocity.y == 0) {
            let animation = this.state.direction == direction.left ? "idleleft" : "idleright";
            this.animations.play(animation);
        }
        else if (!this.animations.animating) {
            let animation = this.state.direction == direction.left ? "walk1" : "walk2";
            this.animations.play(animation);
        }
        return super.renderf(t);
    }
    statef(time) {
        let room = main_1.g.getRoom();
        if (this.collision) {
            let col = this.getFullCollisionBox();
            if (room.checkCollisions({
                width: col.width,
                height: 1,
                x: col.x,
                y: col.y - col.height / 2 - 1,
            }).length > 0) {
                this.state.jumping = false;
                this.state.max_times_airshot = Math.max(this.state.times_airshot, this.state.max_times_airshot);
                this.state.times_airshot = 0;
            }
            else {
                this.state.jumping = true;
            }
        }
        if (this.state.velocity.y > 0) {
            this.state.velocity.y = this.state.velocity.y - 0.4 * 16 / time;
            if (this.state.velocity.y < 0)
                this.state.velocity.y = 0;
        }
        if (this.state.velocity.y < 0) {
            this.state.velocity.y = this.state.velocity.y + 0.4 * 16 / time;
            if (this.state.velocity.y > 0)
                this.state.velocity.y = 0;
        }
        if (this.state.velocity.x > 0) {
            this.state.direction = direction.right;
            this.state.velocity.x = this.state.velocity.x - 0.4 * 16 / time;
            ;
            if (this.state.velocity.x < 0) {
                this.state.velocity.x = 0;
            }
        }
        else if (this.state.velocity.x < 0) {
            this.state.direction = direction.left;
            this.state.velocity.x = this.state.velocity.x + 0.4 * 16 / time;
            ;
            if (this.state.velocity.x > 0) {
                this.state.velocity.x = 0;
            }
        }
    }
}
exports.Goomba = Goomba;


/***/ }),

/***/ "./src/game/objects/Gun.ts":
/*!*********************************!*\
  !*** ./src/game/objects/Gun.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Gun = void 0;
const platformer_obj_1 = __webpack_require__(/*! ./abstract/platformer_obj */ "./src/game/objects/abstract/platformer_obj.ts");
const main_1 = __webpack_require__(/*! ../main */ "./src/game/main.ts");
const math_1 = __webpack_require__(/*! lib/math */ "./src/lib/math.ts");
class Gun extends platformer_obj_1.platformer_obj {
    constructor() {
        super(...arguments);
        this.sprite_url = "./sprites/folder/gun.png";
        this.height = 50;
        this.width = 20;
        this.collision = false;
        this.render = true;
        this.gravity = false;
        this.tags = ["gun"];
    }
    statef(t) {
        if (this.player) {
            let angle = this.player.angleTowardsPoint(this.player.state.pointing_towards);
            let rot = math_1.rotation_length(50, angle);
            this.state.rotation = angle;
            this.state.position = {
                x: rot.x + this.player.state.position.x,
                y: rot.y + this.player.state.position.y
            };
        }
        else {
            let room = main_1.g.getRoom();
            this.player = this.parent.getItemsByTag("player")[0];
            this.cursor = room.getObjByTag("Cursor")[0];
        }
    }
}
exports.Gun = Gun;


/***/ }),

/***/ "./src/game/objects/Player.ts":
/*!************************************!*\
  !*** ./src/game/objects/Player.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Player = void 0;
const object_1 = __webpack_require__(/*! ../../lib/object */ "./src/lib/object.ts");
const ControlledPlayer_1 = __webpack_require__(/*! ./ControlledPlayer */ "./src/game/objects/ControlledPlayer.ts");
const Gun_1 = __webpack_require__(/*! ./Gun */ "./src/game/objects/Gun.ts");
const math_1 = __webpack_require__(/*! lib/math */ "./src/lib/math.ts");
const progress_bar_1 = __webpack_require__(/*! ./progress_bar */ "./src/game/objects/progress_bar.ts");
const van_1 = __webpack_require__(/*! src/van */ "./src/van.ts");
class Player extends object_1.composite_obj {
    constructor(state, parameters = van_1.copy(Player.default_params)) {
        super(state, parameters);
        this.enemy = true;
        this.state.health = 100;
        this.state.isRespawning = false;
        this.addItem(new ControlledPlayer_1.ControlledPlayer(state, parameters));
        this.addItem(new Gun_1.Gun({
            position: { x: state.position.x, y: state.position.y + 100 },
        }, parameters));
        this.addItem(new progress_bar_1.progress_bar({
            position: math_1.Vec.create(0, 0)
        }, {
            width: 100,
            height: 20,
            vert_offset: 0
        }));
    }
    statef(delta_time) {
        let controlled = this.cache("player", this.getItemsByTag("player")[0]);
        let health_bar = this.cache("health_bar", this.getItemsByTag("health_bar")[0]);
        let gun = this.cache("gun", this.getItemsByTag("gun")[0]);
        super.statef(delta_time);
        this.state.position = math_1.Vec.from(controlled.state.position);
        health_bar.state.position = math_1.Vec.add(this.state.position, math_1.Vec.create(0, 90));
        health_bar.state.percentage = this.state.health / 100;
        if (this.state.health <= 0 && !this.state.isRespawning) {
            this.render = false;
            controlled.render = false;
            controlled.collision = false;
            controlled.gravity = false;
            health_bar.render = false;
            gun.render = false;
            this.state.isRespawning = true;
            setTimeout(() => {
                controlled.state.position = math_1.Vec.from(this.params.respawn_point);
                this.state.health = 100;
                this.state.isRespawning = false;
                this.render = true;
                controlled.render = true;
                controlled.collision = true;
                controlled.gravity = true;
                health_bar.render = true;
                gun.render = true;
            }, this.params.respawn_time);
        }
    }
}
exports.Player = Player;
Player.default_params = {
    respawn_point: math_1.Vec.create(0, 0),
    respawn_time: 3000,
    id: "test"
};


/***/ }),

/***/ "./src/game/objects/VertBox.ts":
/*!*************************************!*\
  !*** ./src/game/objects/VertBox.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.VertBox = void 0;
const box_1 = __webpack_require__(/*! ./box */ "./src/game/objects/box.ts");
class VertBox extends box_1.box {
    constructor() {
        super(...arguments);
        this.sprite_url = "./sprites/box2.png";
        this.width = 64;
        this.height = 500;
        this.static = false;
        this.tick_state = false;
    }
}
exports.VertBox = VertBox;


/***/ }),

/***/ "./src/game/objects/abstract/platformer_obj.ts":
/*!*****************************************************!*\
  !*** ./src/game/objects/abstract/platformer_obj.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.platformer_obj_composite = exports.platformer_obj = void 0;
const object_1 = __webpack_require__(/*! ../../../lib/object */ "./src/lib/object.ts");
class platformer_obj extends object_1.gravity_obj {
    constructor(state, parameters) {
        super(state, parameters);
        this.enemy = false;
    }
    statef(a) {
        let state = this.state;
        if (state.health <= 0) {
            this.delete();
        }
    }
}
exports.platformer_obj = platformer_obj;
class platformer_obj_composite extends object_1.composite_obj {
    constructor(state) {
        super(state);
        this.enemy = false;
    }
    statef(a) {
        let state = this.state;
        if (state.health <= 0) {
            this.delete();
        }
    }
}
exports.platformer_obj_composite = platformer_obj_composite;


/***/ }),

/***/ "./src/game/objects/box.ts":
/*!*********************************!*\
  !*** ./src/game/objects/box.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.box = void 0;
const platformer_obj_1 = __webpack_require__(/*! ./abstract/platformer_obj */ "./src/game/objects/abstract/platformer_obj.ts");
const render_1 = __webpack_require__(/*! ../../lib/render */ "./src/lib/render.ts");
class box extends platformer_obj_1.platformer_obj {
    constructor() {
        super(...arguments);
        this.sprite_url = "./sprites/box.png";
        this.collision = true;
        this.height = 64;
        this.width = 500;
        this.gravity = false;
        this.enemy = false;
        this.tags = ["static"];
        this.static = false;
        this.tick_state = false;
        this.scale_type = render_1.scale_type.repeat;
    }
}
exports.box = box;


/***/ }),

/***/ "./src/game/objects/bullet.ts":
/*!************************************!*\
  !*** ./src/game/objects/bullet.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Rocket = exports.bullet = void 0;
const object_1 = __webpack_require__(/*! ../../lib/object */ "./src/lib/object.ts");
const main_1 = __webpack_require__(/*! ../main */ "./src/game/main.ts");
const math_1 = __webpack_require__(/*! lib/math */ "./src/lib/math.ts");
class bullet extends object_1.obj {
    constructor(state, params) {
        super(state, params);
        this.sprite_url = "./sprites/bullet.png";
        this.height = 20;
        this.width = 10;
        this.gravity = false;
        this.max_distance = 2000;
        this.tags = ["bullet"];
        this.state.damage = 5;
        this.state.distance = 0;
    }
    statef(time) {
        this.state.velocity = math_1.rotation_length(this.state.speed, this.state.rotation);
        this.state.distance += this.state.speed;
        if (this.state.distance > this.max_distance) {
            this.delete();
        }
    }
    registerControls() {
    }
}
exports.bullet = bullet;
class Rocket extends bullet {
    constructor(state, params) {
        super(state, params);
        this.sprite_url = "./sprites/folder/rocket.png";
        this.height = 67;
        this.width = 16;
        this.particle_timer = 0;
        this.particle_frequency = 32;
        this.max_distance = 5000;
        this.tags = ["Rocket"];
        this.hitbox = {
            x_offset: 0,
            y_offset: 0,
            width: 16,
            height: 16
        };
        this.state.speed = 15;
        this.state.damage = 20;
    }
    registerAudio() {
        this.audio.add("explosion", "./sounds/explosion2.mp3");
    }
    statef(time) {
        super.statef(time);
        if (this.particle_timer == 0) {
            let offset = math_1.rotation_length(30, this.state.rotation + 180);
            this.emitParticle("smoke", offset, 200, 16);
        }
        this.particle_timer += time;
        if (this.particle_timer > this.particle_frequency) {
            this.particle_timer = 0;
        }
        let room = main_1.g.state.current_room;
        let collisions = room.checkCollisions(this.getFullCollisionBox(), ["gun"]).filter((o) => o.id != this.params.owner);
        if (collisions.length > 0) {
            for (let collision of collisions) {
                let st = collision.state;
                if (collision.state.health) {
                    st.health -= this.state.damage;
                }
                if (collision.tags.indexOf("dummy") > -1) {
                    let dummy = collision;
                    if (dummy.state.jumping) {
                        dummy.state.times_airshot++;
                    }
                }
            }
            this.state.distance = this.max_distance;
            this.delete();
            let explosion_collisions = room.checkCollisions({
                x: this.state.position.x,
                y: this.state.position.y,
                width: 256,
                height: 256
            }, ["static"]);
            for (let collider of explosion_collisions) {
                let distance = this.distance(collider);
                let multiplyer = 1 - distance / 300;
                if (multiplyer < 0)
                    multiplyer = 0;
                let o_state = collider.state;
                let velocities = math_1.rotation_length(multiplyer * 80, this.angleTowards(collider));
                o_state.velocity.x += velocities.x * time / 16;
                o_state.velocity.y += velocities.y * time / 16;
                if (collider.tags.includes("player") && collider.tags.includes("local") && collider.id != this.params.owner) {
                    let o = collider.parent;
                    o.state.health -= this.state.damage * multiplyer;
                }
            }
            this.emitParticle("explosion", { x: 0, y: 0 }, 500, 0);
            this.audio.play("explosion", 0.2);
        }
    }
}
exports.Rocket = Rocket;


/***/ }),

/***/ "./src/game/objects/capture_area.ts":
/*!******************************************!*\
  !*** ./src/game/objects/capture_area.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.capture_area = void 0;
const object_1 = __webpack_require__(/*! lib/object */ "./src/lib/object.ts");
const van_1 = __webpack_require__(/*! src/van */ "./src/van.ts");
class capture_area extends object_1.obj {
    constructor(state, params = van_1.copy(capture_area.default_params)) {
        super(state, params);
        this.sprite_url = "./sprites/Error.png";
        this.height = 100;
        this.width = 100;
        this.collision = false;
        this.render = false;
        this.tick_state = false;
        this.tags.push("capture_area");
    }
    statef(time_delta) {
        super.statef(time_delta);
    }
    renderf(time_delta) {
        return super.renderf(time_delta);
    }
    register_animations() {
    }
    register_audio() {
    }
    register_controls() {
    }
}
exports.capture_area = capture_area;
capture_area.default_params = {};


/***/ }),

/***/ "./src/game/objects/placeholder.ts":
/*!*****************************************!*\
  !*** ./src/game/objects/placeholder.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.placeholder = void 0;
const object_1 = __webpack_require__(/*! ../../lib/object */ "./src/lib/object.ts");
class placeholder extends object_1.obj {
    constructor(state, params = placeholder.default_params) {
        super(state, params);
        this.sprite_url = "./sprites/Error.png";
        this.height = 100;
        this.width = 100;
        this.tags = [];
        this.collision = true;
        this.render = true;
    }
    statef(time_delta) {
    }
    renderf(time_delta) {
        return super.renderf(time_delta);
    }
    register_animations() {
    }
    register_audio() {
    }
    register_controls() {
    }
}
exports.placeholder = placeholder;
placeholder.default_params = {};


/***/ }),

/***/ "./src/game/objects/prefabs.ts":
/*!*************************************!*\
  !*** ./src/game/objects/prefabs.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.prefabs = void 0;
const box_1 = __webpack_require__(/*! ./box */ "./src/game/objects/box.ts");
const bullet_1 = __webpack_require__(/*! ./bullet */ "./src/game/objects/bullet.ts");
const capture_area_1 = __webpack_require__(/*! ./capture_area */ "./src/game/objects/capture_area.ts");
const ControlledPlayer_1 = __webpack_require__(/*! ./ControlledPlayer */ "./src/game/objects/ControlledPlayer.ts");
const Cursor_1 = __webpack_require__(/*! ./Cursor */ "./src/game/objects/Cursor.ts");
const Goomba_1 = __webpack_require__(/*! ./Goomba */ "./src/game/objects/Goomba.ts");
const Gun_1 = __webpack_require__(/*! ./Gun */ "./src/game/objects/Gun.ts");
const placeholder_1 = __webpack_require__(/*! ./placeholder */ "./src/game/objects/placeholder.ts");
const Player_1 = __webpack_require__(/*! ./Player */ "./src/game/objects/Player.ts");
const progress_bar_1 = __webpack_require__(/*! ./progress_bar */ "./src/game/objects/progress_bar.ts");
const VertBox_1 = __webpack_require__(/*! ./VertBox */ "./src/game/objects/VertBox.ts");
exports.prefabs = {
    box: box_1.box,
    bullet: bullet_1.bullet,
    capture_area: capture_area_1.capture_area,
    ControlledPlayer: ControlledPlayer_1.ControlledPlayer,
    Cursor: Cursor_1.Cursor,
    Goomba: Goomba_1.Goomba,
    Gun: Gun_1.Gun,
    placeholder: placeholder_1.placeholder,
    Player: Player_1.Player,
    progress_bar: progress_bar_1.progress_bar,
    VertBox: VertBox_1.VertBox,
};


/***/ }),

/***/ "./src/game/objects/progress_bar.ts":
/*!******************************************!*\
  !*** ./src/game/objects/progress_bar.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.progress_bar = void 0;
const object_1 = __webpack_require__(/*! ../../lib/object */ "./src/lib/object.ts");
const render_1 = __webpack_require__(/*! ../../lib/render */ "./src/lib/render.ts");
class progress_bar extends object_1.obj {
    constructor(state, params = progress_bar.default_params) {
        super(state, params);
        this.sprite_url = "./sprites/green.png";
        this.height = 1;
        this.width = 1;
        this.tags = [];
        this.collision = false;
        this.render = true;
        this.layer = 3;
        this.scale_type = render_1.scale_type.grow;
        this.state.percentage = 1;
        this.tags.push("health_bar");
    }
    statef(time_delta) {
        let parent = this.parent;
        this.state.position.y = parent.state.position.y + this.params.vert_offset;
        this.state.position.x = parent.state.position.x - ((1 - this.state.percentage) * this.params.width / 2);
        this.state.scaling.width = this.state.percentage * this.params.width;
        this.state.scaling.height = this.params.height;
    }
    renderf(time_delta) {
        return super.renderf(time_delta);
    }
    register_animations() {
    }
    register_audio() {
    }
    register_controls() {
    }
}
exports.progress_bar = progress_bar;
progress_bar.default_params = {
    width: 70,
    height: 10,
    vert_offset: 40
};


/***/ }),

/***/ "./src/game/rooms/Overworld.json":
/*!***************************************!*\
  !*** ./src/game/rooms/Overworld.json ***!
  \***************************************/
/*! exports provided: objects, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"objects\":[{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":-2588.5,\"y\":-3219},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":-1000,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":-500,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":1000,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":-2000,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":-1500,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":1500,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2000,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":500,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":0,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":2050,\"y\":-3200},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"Cursor\",\"state\":{\"position\":{\"x\":-2517.808346641197,\"y\":-2808.1089660472444},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{\"id\":\"Cursor\"}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":1550},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":-450},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":-450},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":-1450},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":-2450},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":-1450},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":1050},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":-1950},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":550},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":50},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":550},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":-950},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":1550},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":-950},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":-1950},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":1050},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":-2950},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":50},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2300,\"y\":-2950},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2880,\"y\":-2450},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"Goomba\",\"state\":{\"position\":{\"x\":-2591.9242069266074,\"y\":-3112.4606173247334},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":2315.2952174778884,\"y\":-1190.31464360274},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":0.8616151866740154,\"height\":24.76125857441096}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":48.44864709976173,\"y\":-1513.8132547382197},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1.993313707946636,\"height\":2.0463899025163332}},\"parameters\":{}},{\"type\":\"capture_area\",\"state\":{\"position\":{\"x\":50.18321223300791,\"y\":-1316.5642349596606},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":9.981841272786932,\"height\":2.959201432629011}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":1471.9912516154714,\"y\":-2230.0676011531964},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1.687961029923439,\"height\":0.7437369519832941}},\"parameters\":{}},{\"type\":\"box\",\"state\":{\"position\":{\"x\":-1117.2919773337371,\"y\":-2248.23044040163},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1.4630480167014666,\"height\":0.8024530271398813}},\"parameters\":{}},{\"type\":\"Player\",\"state\":{\"position\":{\"x\":-1779.6037537393186,\"y\":-1497.204287318658},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{\"id\":\"Player2\",\"respawn_point\":{\"x\":-2092.76,\"y\":-1233.61},\"respawn_time\":3000}},{\"type\":\"Player\",\"state\":{\"position\":{\"x\":2155.1424425887235,\"y\":-1835.748623060717},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1,\"height\":1}},\"parameters\":{\"id\":\"Player1\",\"respawn_point\":{\"x\":2064.8,\"y\":-1246.32},\"respawn_time\":3000}},{\"type\":\"VertBox\",\"state\":{\"position\":{\"x\":-2299.407315023192,\"y\":3334.0292275574093},\"velocity\":{\"x\":0,\"y\":0},\"rotation\":0,\"scaling\":{\"width\":1.0438413361169125,\"height\":6.663883089770363}},\"parameters\":{}}]}");

/***/ }),

/***/ "./src/game/rooms/Overworld.ts":
/*!*************************************!*\
  !*** ./src/game/rooms/Overworld.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Overworld = void 0;
const room_1 = __webpack_require__(/*! ../../lib/room */ "./src/lib/room.ts");
const math_1 = __webpack_require__(/*! lib/math */ "./src/lib/math.ts");
const controls_1 = __webpack_require__(/*! ../../lib/controls */ "./src/lib/controls.ts");
const hud_1 = __webpack_require__(/*! ../../lib/hud */ "./src/lib/hud.ts");
const van_1 = __webpack_require__(/*! ../../van */ "./src/van.ts");
const bullet_1 = __webpack_require__(/*! ../objects/bullet */ "./src/game/objects/bullet.ts");
const main_1 = __webpack_require__(/*! ../main */ "./src/game/main.ts");
const render_1 = __webpack_require__(/*! ../../lib/render */ "./src/lib/render.ts");
const json = __importStar(__webpack_require__(/*! ./Overworld.json */ "./src/game/rooms/Overworld.json"));
const Goomba_1 = __webpack_require__(/*! game/objects/Goomba */ "./src/game/objects/Goomba.ts");
const math_2 = __webpack_require__(/*! lib/math */ "./src/lib/math.ts");
class Overworld_HUD extends hud_1.HUD {
    setTextElements() {
        return [new hud_1.Text({
                position: {
                    x: 10,
                    y: van_1.GetViewportDimensions().height * 7 / 8
                },
                size: 30,
                font: "Alata",
                color: "white",
                align: "left",
                scaling: 1
            }, () => {
                return `Player 1:${(main_1.g.getRoom().state.player_captures[0] / 1000).toFixed(1)}`;
            }),
            new hud_1.Text({
                position: {
                    x: van_1.GetViewportDimensions().width - 100,
                    y: van_1.GetViewportDimensions().height * 7 / 8
                },
                size: 30,
                font: "Alata",
                color: "white",
                align: "right",
                scaling: 1
            }, () => {
                return `Player 1:${(main_1.g.getRoom().state.player_captures[1] / 1000).toFixed(1)}`;
            })];
    }
}
class Overworld extends room_1.room {
    constructor(game) {
        super(game, json);
        this.background_url = "./sprites/imD41l.jpg";
        this.proximity_map = new room_1.map_matrix(10000, 2500);
        this.players = [];
        this.player_index = 0;
        this.state = {
            player: undefined,
            paused: false,
            state_update_tick_counter: 0,
            player_captures: [150000, 150000]
        };
        game.state.cameras = [
            new render_1.Camera({
                x: 0,
                y: 0,
                dimensions: {
                    height: van_1.viewport.height,
                    width: van_1.viewport.width
                },
                scaling: 0.3,
                debug: false
            }, {
                x: 1,
                y: 0,
                width: 1,
                height: 1
            })
        ];
        game.state.cameras[0].hud = new Overworld_HUD();
    }
    parse_packet(type, data) {
        let other_player = 0;
        if (this.player_index == 0) {
            other_player = 1;
        }
        let target = this.players[other_player];
        switch (type) {
            case "rocket": {
                let { position, rotation, owner } = JSON.parse(data);
                this.addItem(new bullet_1.Rocket({
                    position,
                    rotation
                }, {
                    owner
                }));
                break;
            }
            case "mouse_position": {
                target.state.pointing_towards = JSON.parse(data);
                break;
            }
            case "status": {
                let { id, position, rotation, capture, player_id, health } = JSON.parse(data);
                let obj = this.getObj(id);
                let Player = obj.parent;
                Player.state.health = health;
                this.state.player_captures[player_id] = capture;
                obj.state.position = position;
                obj.state.rotation = rotation;
                break;
            }
            case "move": {
                let velocity;
                if (data == "left") {
                    if (target.state.velocity.x < -10) {
                        velocity = 0;
                    }
                    else {
                        velocity = -1;
                    }
                }
                else {
                    if (target.state.velocity.x > 10) {
                        velocity = 0;
                    }
                    else {
                        velocity = 1;
                    }
                }
                target.state.velocity.x += velocity;
                break;
            }
            case "inital_move": {
                if (data == "left") {
                    target.state.velocity.x -= 0.1;
                }
                else {
                    target.state.velocity.x += 0.1;
                }
                break;
            }
            case "jump": {
                target.state.velocity.y += 25;
                break;
            }
        }
    }
    initialize() {
        let controlled_players = this.getObjByTag("player");
        this.players = controlled_players;
        if (this.game.type == van_1.peer_connection.child) {
            this.player_index = 1;
        }
        this.players[this.player_index].tags.push("local");
    }
    getGame() {
        return this.game;
    }
    send_packet(type, data, id) {
        let g = this.game;
        if (g.type == van_1.peer_connection.child) {
            g.send_to_host(type, data);
        }
        else {
            g.send_to_all_peers(type, data);
        }
    }
    registerControls() {
        this.bindControl("Escape", controls_1.exec_type.once, () => {
            this.objects.forEach((e) => {
                e.state.position = math_2.Vec.scalar_sub(e.state.position, 200);
            });
        });
        this.bindControl("mouse0down", controls_1.exec_type.repeat, () => {
            let gun_inst = (this.players[this.player_index].parent.getItemsByTag("gun")[0]);
            //this.players[this.player_index].play("explosion", 0.4);
            if (gun_inst) {
                let muzzle = math_1.rotation_length(30, gun_inst.state.rotation);
                let position = {
                    x: gun_inst.state.position.x + muzzle.x,
                    y: gun_inst.state.position.y + muzzle.y
                };
                let bullet = new bullet_1.Rocket({
                    position: { x: position.x, y: position.y },
                    rotation: gun_inst.state.rotation,
                }, { owner: this.players[this.player_index].id });
                this.addItem(bullet);
                this.send_packet("rocket", JSON.stringify({
                    rotation: bullet.state.rotation,
                    position: bullet.state.position,
                    owner: this.players[this.player_index].id
                }));
            }
        }, 400);
        this.bindControl("KeyA", controls_1.exec_type.repeat, () => {
            if (this.players[this.player_index].state.velocity.x > -10) {
                this.players[this.player_index].state.velocity.x = this.players[this.player_index].state.velocity.x - 1;
                this.send_packet("move", "left");
            }
        });
        this.bindControl("KeyA", controls_1.exec_type.once, () => {
            this.players[this.player_index].state.direction = Goomba_1.direction.left;
            this.players[this.player_index].state.velocity.x = this.players[this.player_index].state.velocity.x - 0.1;
            this.send_packet("initial_move", "left");
        });
        this.bindControl("KeyD", controls_1.exec_type.repeat, () => {
            if (this.players[this.player_index].state.velocity.x < 10) {
                this.players[this.player_index].state.velocity.x = this.players[this.player_index].state.velocity.x + 1;
                this.send_packet("move", "right");
            }
        });
        this.bindControl("KeyD", controls_1.exec_type.once, () => {
            this.players[this.player_index].state.direction = Goomba_1.direction.right;
            this.players[this.player_index].state.velocity.x = this.players[this.player_index].state.velocity.x + 0.1;
            this.send_packet("initial_move", "right");
        });
        this.bindControl("Space", controls_1.exec_type.once, () => {
            if (!this.players[this.player_index].state.jumping) {
                this.players[this.player_index].state.velocity.y += 25;
                this.players[this.player_index].audio.play("slime", 0.1);
                this.send_packet("jump", "");
            }
        });
    }
    registerParticles() {
        this.particles["smoke"] = {
            sprite: "./sprites/folder/smoke.png",
            height: 64,
            width: 64
        };
        this.particles["explosion"] = {
            sprite: "./sprites/folder/explosion.png",
            height: 128,
            width: 128
        };
    }
    statef(time) {
        if (!this.state.paused) {
            for (let a = 0; a < this.objects.length; a++) {
                room_1.applyGravity(this.objects[a], -1 * time / 16, -15);
            }
            let target = this.cache("target", this.getObjByTag("dummy")[0]);
            let cursor = this.cache("Cursor", this.getObjByTag("Cursor")[0]);
            let cameras = main_1.g.state.cameras;
            cameras[0].state.position.x = this.players[this.player_index].state.position.x;
            cameras[0].state.position.y = this.players[this.player_index].state.position.y + (cameras[0].state.dimensions.height / 2 - this.players[this.player_index].height / 2);
            if (cursor) {
                cursor.collision = false;
                cursor.gravity = false;
                let mouse = controls_1.Poll_Mouse(this.game.state.cameras[0]);
                this.players[this.player_index].state.pointing_towards = cursor.state.position;
                this.send_packet("mouse_position", JSON.stringify(cursor.state.position));
                if (mouse) {
                    cursor.state.position.x = mouse.x;
                    cursor.state.position.y = mouse.y;
                }
            }
            let capture_area = this.cache("capture", this.getObjByTag("capture_area")[0]);
            for (let [index, player] of this.players.entries()) {
                if (player.collidesWithBox(capture_area.getFullCollisionBox())) {
                    this.state.player_captures[index] -= time;
                }
            }
            let game = this.game;
            if (this.state.state_update_tick_counter == 0) {
                let player = this.players[this.player_index];
                this.send_packet("status", JSON.stringify({
                    id: player.id,
                    player_id: this.player_index,
                    capture: this.state.player_captures[this.player_index],
                    health: player.parent.state.health,
                    position: player.state.position,
                    rotation: player.state.rotation
                }));
                this.state.state_update_tick_counter += time;
                if (this.state.state_update_tick_counter > 0) {
                    this.state.state_update_tick_counter = 0;
                }
            }
        }
        super.statef(time);
    }
}
exports.Overworld = Overworld;


/***/ }),

/***/ "./src/game/rooms/loading.json":
/*!*************************************!*\
  !*** ./src/game/rooms/loading.json ***!
  \*************************************/
/*! exports provided: objects, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"objects\":[]}");

/***/ }),

/***/ "./src/game/rooms/loading.ts":
/*!***********************************!*\
  !*** ./src/game/rooms/loading.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.loading = void 0;
const room_1 = __webpack_require__(/*! lib/room */ "./src/lib/room.ts");
const van_1 = __webpack_require__(/*! src/van */ "./src/van.ts");
const config = __importStar(__webpack_require__(/*! ./loading.json */ "./src/game/rooms/loading.json"));
const hud_1 = __webpack_require__(/*! lib/hud */ "./src/lib/hud.ts");
const math_1 = __webpack_require__(/*! lib/math */ "./src/lib/math.ts");
const render_1 = __webpack_require__(/*! lib/render */ "./src/lib/render.ts");
const controls_1 = __webpack_require__(/*! lib/controls */ "./src/lib/controls.ts");
const main_1 = __webpack_require__(/*! game/main */ "./src/game/main.ts");
let cfig = config;
class loading_hud extends hud_1.HUD {
    setTextElements() {
        return [
            new hud_1.Text({
                position: math_1.Vec.create(van_1.viewport.width / 2, 2 * van_1.viewport.height / 6),
                size: 33,
                scaling: 1,
                font: "Arial",
                color: "white"
            }, () => main_1.g.state.current_room.state.input),
            new hud_1.Text({
                position: math_1.Vec.create(van_1.viewport.width / 2, 4 * van_1.viewport.height / 6),
                size: 33,
                scaling: 1,
                font: "Arial",
                color: "white"
            }, () => ("Entering code:"))
        ];
    }
}
class hosting_hud extends hud_1.HUD {
    setTextElements() {
        return [
            new hud_1.Text({
                position: math_1.Vec.create(van_1.viewport.width / 2, 4 * van_1.viewport.height / 6),
                size: 33,
                scaling: 1,
                font: "Arial",
                color: "white"
            }, () => main_1.g.state.current_room.state.input),
            new hud_1.Text({
                position: math_1.Vec.create(van_1.viewport.width / 2, 2 * van_1.viewport.height / 6),
                size: 33,
                scaling: 1,
                font: "Arial",
                color: "white"
            }, () => (`Peers Connected:${main_1.g.getRoom().state.connected_peers}`))
        ];
    }
}
class loading extends room_1.room {
    constructor(game) {
        super(game, cfig);
        this.background_url = "./sprites/Error.png";
        this.render = false;
        this.state = {
            input: "",
            connected_peers: 0,
            hosting: false
        };
        this.cameras.push(new render_1.Camera({
            x: 0,
            y: 0,
            dimensions: van_1.viewport,
            scaling: 1
        }, {
            x: 0,
            y: 0,
            height: 1,
            width: 1
        }, new loading_hud()));
    }
    parse_packet(type, data) {
        switch (type) {
            case "connection": {
                if (data == "success") {
                    this.state.connected_peers++;
                }
            }
        }
    }
    registerControls() {
        let keys = [
            { key: "A", char: "a" },
            { key: "B", char: "b" },
            { key: "C", char: "c" },
            { key: "D", char: "d" },
            { key: "E", char: "e" },
            { key: "F", char: "f" },
            { key: "G", char: "g" },
            { key: "H", char: "h" },
            { key: "I", char: "i" },
            { key: "J", char: "j" },
            { key: "K", char: "k" },
            { key: "L", char: "l" },
            { key: "M", char: "m" },
            { key: "N", char: "n" },
            { key: "O", char: "o" },
            { key: "P", char: "p" },
            { key: "Q", char: "q" },
            { key: "R", char: "r" },
            { key: "S", char: "s" },
            { key: "T", char: "t" },
            { key: "U", char: "u" },
            { key: "V", char: "v" },
            { key: "W", char: "w" },
            { key: "X", char: "x" },
            { key: "Y", char: "y" },
            { key: "Z", char: "z" }
        ];
        let digits = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
        for (let e of keys) {
            this.bindControl(`Key${e.key}`, controls_1.exec_type.once, () => {
                this.state.input += e.char;
            });
        }
        for (let d of digits) {
            this.bindControl(`Digit${d}`, controls_1.exec_type.once, () => {
                this.state.input += d;
            });
        }
        this.bindControl("Backspace", controls_1.exec_type.once, () => {
            if (this.state.input.length > 0)
                this.state.input = this.state.input.slice(0, this.state.input.length - 1);
        });
        this.bindControl("Enter", controls_1.exec_type.once, () => __awaiter(this, void 0, void 0, function* () {
            let g = this.game;
            if (this.state.hosting) {
                console.log("loading");
                yield g.loadRoomString("Overworld");
            }
            else {
                g.connect(this.state.input);
            }
        }));
        this.bindControl("Tab", controls_1.exec_type.once, () => {
            let g = this.game;
            g.host();
            this.state.input = g.hosting_peer.id;
            this.state.hosting = true;
            this.cameras[0].hud = new hosting_hud();
        });
    }
    registerParticles() {
    }
    statef(delta_time) {
        super.statef(delta_time);
    }
}
exports.loading = loading;


/***/ }),

/***/ "./src/game/rooms/rooms.ts":
/*!*********************************!*\
  !*** ./src/game/rooms/rooms.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.rooms = void 0;
const loading_1 = __webpack_require__(/*! ./loading */ "./src/game/rooms/loading.ts");
const Overworld_1 = __webpack_require__(/*! ./Overworld */ "./src/game/rooms/Overworld.ts");
exports.rooms = {
    loading: loading_1.loading,
    Overworld: Overworld_1.Overworld,
};


/***/ }),

/***/ "./src/lib/audio.ts":
/*!**************************!*\
  !*** ./src/lib/audio.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.audio = void 0;
const debug_1 = __webpack_require__(/*! ./debug */ "./src/lib/debug.ts");
const van_1 = __webpack_require__(/*! ../van */ "./src/van.ts");
class audio {
    constructor() {
        this.sounds = {};
    }
    add(name, url) {
        let p = url;
        if (van_1.DEBUG) {
            p = debug_1.path.join(debug_1.root_path, url);
        }
        this.sounds[name] = new Audio(p);
    }
    load() {
        return __awaiter(this, void 0, void 0, function* () {
            let keys = Object.keys(this.sounds);
            let promises = keys.map((key) => {
                return new Promise((resolve, reject) => {
                    this.sounds[key].addEventListener("canplaythrough", (e) => {
                        resolve();
                    });
                });
            });
            try {
                let x = yield Promise.all(promises);
                return (x);
            }
            catch (e) {
                console.log(e);
            }
        });
    }
    play(name, volume) {
        let a = this.sounds[name];
        a.pause();
        a.currentTime = 0;
        a.volume = volume;
        a.play();
    }
}
exports.audio = audio;


/***/ }),

/***/ "./src/lib/collision.ts":
/*!******************************!*\
  !*** ./src/lib/collision.ts ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.velocityCollisionCheck = exports.check_collisions = exports.check_all_collisions = exports.check_all_objects = exports.getEncompassingBox = void 0;
const object_1 = __webpack_require__(/*! ../lib/object */ "./src/lib/object.ts");
var direction;
(function (direction) {
    direction[direction["left"] = 0] = "left";
    direction[direction["right"] = 1] = "right";
    direction[direction["up"] = 2] = "up";
    direction[direction["down"] = 3] = "down";
})(direction || (direction = {}));
function getEncompassingBox(objects) {
    let first_object = objects[0].getBoundingBox();
    let max_y = first_object.top_right.y;
    let max_x = first_object.top_right.x;
    let min_y = first_object.bottom_left.y;
    let min_x = first_object.bottom_left.x;
    for (let a = 1; a < objects.length; a++) {
        let object = objects[a].getBoundingBox();
        if (object.top_right.y > max_y)
            max_y = object.top_right.y;
        if (object.top_right.x > max_x)
            max_x = object.top_right.x;
        if (object.bottom_left.y < min_y)
            min_y = object.bottom_left.y;
        if (object.bottom_left.x < min_x)
            min_x = object.bottom_left.x;
    }
    return {
        x: min_x + (max_x - min_x) / 2,
        y: min_y + (max_y - min_y) / 2,
        height: max_y - min_y,
        width: max_x - min_x
    };
}
exports.getEncompassingBox = getEncompassingBox;
function check_all_objects(c, objs, exemption = []) {
    return objs.filter((a) => (!exemption.some((b) => a.tags.indexOf(b) !== -1) && a.collidesWithBox(c)));
}
exports.check_all_objects = check_all_objects;
function check_all_collisions(c, objs, exemption = []) {
    let matched = [];
    for (let a of objs) {
        if (!exemption.some((b) => a.tags.indexOf(b) !== -1) && a.collision && a.collidesWithBox(c)) {
            matched.push(a);
        }
    }
    return matched;
}
exports.check_all_collisions = check_all_collisions;
//Checks up to the first collision
function check_collisions(c, objs, exemption) {
    for (let a of objs) {
        if (a.id !== exemption && a.collision && a.collidesWithBox(c)) {
            return a;
        }
    }
    return null;
}
exports.check_collisions = check_collisions;
function velocity_max(velocity, box, objs, exemption, dir) {
    let collision = check_collisions(box, objs, exemption);
    if (collision == null) {
        return velocity;
    }
    else {
        let collider = collision;
        let origin = object_1.getId(objs, exemption);
        let orig_st = origin.state;
        let collider_st = collider.state;
        let orig_col = origin.getFullCollisionBox();
        let collider_col = collider.getFullCollisionBox();
        if (dir == direction.left) {
            return (orig_col.x - orig_col.width / 2) - (collider_col.x + collider_col.width / 2);
        }
        else if (dir == direction.right) {
            return (collider_col.x - collider_col.width / 2) - (orig_col.x + orig_col.width / 2);
        }
        else if (dir == direction.down) {
            return (orig_col.y - orig_col.height / 2) - (collider_col.y + collider_col.height / 2);
        }
        else if (dir == direction.up) {
            return (collider_col.y - collider_col.height / 2) - (orig_col.y + orig_col.height / 2);
        }
    }
}
function velocityCollisionCheck(object, list) {
    list = [...list];
    let ob = object;
    let st = object.state;
    let x_vel = st.velocity.x;
    let y_vel = st.velocity.y;
    if (x_vel == 0 && y_vel == 0)
        return;
    if (!ob.collision) {
        ob.state.position.x += ob.state.velocity.x;
        ob.state.position.y += ob.state.velocity.y;
        return;
    }
    let col_box = ob.getFullCollisionBox();
    if (x_vel > 0) {
        let box = {
            x: col_box.x + col_box.width / 2 + x_vel / 2,
            y: col_box.y,
            width: x_vel,
            height: col_box.height
        };
        let vel = velocity_max(st.velocity.x, box, list, ob.id, direction.right);
        if (vel > 0) {
            st.position.x = st.position.x + vel;
        }
        else {
            st.velocity.x = 0;
        }
    }
    else if (x_vel < 0) {
        let box = {
            x: x_vel / 2 + col_box.x - col_box.width / 2,
            y: col_box.y,
            width: -1 * x_vel,
            height: col_box.height
        };
        let vel = velocity_max(st.velocity.x, box, list, ob.id, direction.left);
        if (vel < 0) {
            st.position.x = st.position.x + vel;
        }
        else {
            st.velocity.x = 0;
        }
    }
    if (y_vel > 0) {
        let box = {
            x: col_box.x,
            y: col_box.y + col_box.height / 2 + y_vel / 2,
            width: col_box.width,
            height: y_vel
        };
        let vel = velocity_max(st.velocity.y, box, list, ob.id, direction.up);
        if (vel > 0) {
            st.position.y = st.position.y + vel;
        }
        else {
            st.velocity.y = 0;
        }
    }
    else if (y_vel < 0) {
        let box = {
            x: col_box.x,
            y: y_vel / 2 + col_box.y - col_box.height / 2,
            width: col_box.width,
            height: -1 * y_vel
        };
        let vel = velocity_max(st.velocity.y, box, list, ob.id, direction.down);
        if (vel < 0) {
            st.position.y = st.position.y + vel;
        }
        else {
            st.velocity.y = 0;
        }
    }
}
exports.velocityCollisionCheck = velocityCollisionCheck;


/***/ }),

/***/ "./src/lib/controls.ts":
/*!*****************************!*\
  !*** ./src/lib/controls.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Bind = exports.exec_type = exports.Unbind = exports.ExecuteRepeatBinds = exports.Poll_Mouse = exports.debug_binds = exports.btype = exports.held_keys = void 0;
const main_1 = __webpack_require__(/*! ../game/main */ "./src/game/main.ts");
const van_1 = __webpack_require__(/*! ../van */ "./src/van.ts");
const debug_1 = __webpack_require__(/*! ./debug */ "./src/lib/debug.ts");
let target = document.getElementById("target");
/*
export function init_click_handler(game:game<unknown>){
  window.addEventListener("click",(e)=>{
    
    let mouse = Poll_Mouse(game.state.cameras[0]);
    if(!mouse){
      return
    }
    let box:collision_box = {
      x:mouse.x,
      y:mouse.y,
      height:1,
      width:1
    };
    
  let d:bind[];
  if(DEBUG){
    if(debug_state.last_clicked && debug_state.last_clicked.id == "debug_target"){
      d = [...debug_binds];
    }
    else if(!PAUSED && debug_state.last_clicked && debug_state.last_clicked.id == "target"){
      d= [...all_binds]
    }
    else{
      d = [];
    }
  }
  else{
    d = [...all_binds];
  }
    for(let a = 0;a < d.length;a++){
      let selected = d[a];
      if(selected.type === btype.mouse && selected.key === "mouse1" && selected.execute == exec_type.once){
        if(selected.obj !== undefined){
          if(selected.obj.collidesWithBox(box)){
            selected.function();
          }
        }
        else{
          selected.function();
        }
      }
    }
  })
}
*/
let was_valid = false;
window.addEventListener("mousedown", (e) => {
    e.preventDefault();
    let d;
    function within_Canvas(canvas) {
        let wratio = parseFloat(window.getComputedStyle(canvas).width) / van_1.GetViewportDimensions().width;
        let vratio = parseFloat(window.getComputedStyle(canvas).height) / van_1.GetViewportDimensions().height;
        let bounds = canvas.getBoundingClientRect();
        if (x > bounds.left && x < bounds.right && y < bounds.bottom && y > bounds.top) {
            return true;
        }
    }
    if (van_1.DEBUG) {
        if (debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "debug_target" && within_Canvas(main_1.g.state.canvases[1])) {
            d = [...exports.debug_binds];
        }
        else if (!van_1.PAUSED && debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "target" && within_Canvas(main_1.g.state.canvases[0])) {
            d = [...all_binds];
        }
        else {
            d = [];
        }
    }
    else {
        d = [...all_binds];
    }
    for (let a = 0; a < d.length; a++) {
        let selected = d[a];
        if (selected.type === btype.mouse && selected.key === ("mouse" + e.button + "down") && !selected.executed) {
            if (selected.execute === exec_type.once) {
                selected.function();
            }
            else if (selected.execute === exec_type.repeat) {
                selected.repeat_timer.active = true;
            }
            selected.executed = true;
        }
        if (selected.type === btype.mouse && (selected.key === ("mouse" + e.button + "up") || selected.key == "mouseup") && selected.executed && selected.execute === exec_type.once) {
            selected.executed = false;
        }
        else if (selected.type === btype.mouse && (selected.key === ("mouse" + e.button + "up") || selected.key == "mouseup") && selected.executed && selected.execute === exec_type.repeat) {
            let g = [...repeat_binds];
            for (let a = 0; a < g.length; a++) {
                if (g[a].bind.id === selected.id) {
                    selected.executed = false;
                    g[a].active = false;
                    break;
                }
            }
        }
    }
});
window.addEventListener("mouseup", (e) => {
    e.preventDefault();
    let d;
    if (van_1.DEBUG) {
        if (debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "debug_target") {
            d = [...exports.debug_binds];
        }
        else if (!van_1.PAUSED && debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "target") {
            d = [...all_binds];
        }
        else {
            d = [];
        }
    }
    else {
        d = [...all_binds];
    }
    for (let a = 0; a < d.length; a++) {
        let selected = d[a];
        if (selected.type === btype.mouse && selected.key === ("mouse" + e.button + "up") && !selected.executed) {
            if (selected.execute === exec_type.once) {
                selected.function();
            }
            else if (selected.execute === exec_type.repeat) {
                selected.repeat_timer.active = true;
            }
            selected.executed = true;
        }
        if (selected.type === btype.mouse && (selected.key === ("mouse" + e.button + "down") || selected.key == "mousedown") && selected.executed && selected.execute === exec_type.once) {
            selected.executed = false;
        }
        else if (selected.type === btype.mouse && (selected.key === ("mouse" + e.button + "down") || selected.key == "mousedown") && selected.executed && selected.execute === exec_type.repeat) {
            let g = [...repeat_binds];
            for (let a = 0; a < g.length; a++) {
                if (g[a].bind.id === selected.id) {
                    selected.executed = false;
                    g[a].active = false;
                    break;
                }
            }
        }
    }
});
exports.held_keys = {};
window.addEventListener("wheel", (e) => {
    let code;
    e.preventDefault();
    if (e.deltaY < 0) {
        code = "scrollup";
    }
    else if (e.deltaY > 0) {
        code = "scrolldown";
    }
    let d;
    if (van_1.DEBUG) {
        if (debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "debug_target") {
            d = [...exports.debug_binds];
        }
        else if (!van_1.PAUSED && debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "target") {
            d = [...all_binds];
        }
        else {
            d = [];
        }
    }
    else {
        d = [...all_binds];
    }
    for (let a = 0; a < d.length; a++) {
        let selected = d[a];
        if (selected.type === btype.mouse && selected.key === code) {
            if (selected.execute === exec_type.once) {
                selected.function();
            }
        }
    }
});
window.addEventListener("keydown", (e) => {
    exports.held_keys[e.code] = true;
    if (e.code == "Tab") {
        e.preventDefault();
    }
    let d;
    if (van_1.DEBUG) {
        if (debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "debug_target") {
            d = [...exports.debug_binds];
        }
        else if (!van_1.PAUSED && debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "target") {
            d = [...all_binds];
        }
        else {
            d = [];
        }
    }
    else {
        d = [...all_binds];
    }
    for (let a = 0; a < d.length; a++) {
        let selected = d[a];
        if (selected.type === btype.keyboard && selected.key === e.code && !selected.executed) {
            if (selected.execute === exec_type.once) {
                selected.function();
            }
            else if (selected.execute === exec_type.repeat) {
                for (let c of repeat_binds) {
                    if (c.bind.id == selected.id) {
                        c.active = true;
                        break;
                    }
                }
            }
            selected.executed = true;
        }
    }
});
window.addEventListener("keyup", (e) => {
    exports.held_keys[e.code] = false;
    let d;
    if (van_1.DEBUG) {
        if (debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "debug_target") {
            d = [...exports.debug_binds];
        }
        else if (!van_1.PAUSED && debug_1.debug_state.last_clicked && debug_1.debug_state.last_clicked.id == "target") {
            d = [...all_binds];
        }
        else {
            d = [];
        }
    }
    else {
        d = [...all_binds];
    }
    for (let a = 0; a < d.length; a++) {
        let selected = d[a];
        if (selected.type === btype.keyboard && selected.key === e.code && selected.executed) {
            if (selected.execute === exec_type.once) {
                selected.executed = false;
            }
            else if (selected.execute === exec_type.repeat) {
                let g = [...repeat_binds];
                for (let a = 0; a < g.length; a++) {
                    if (g[a].bind.id === selected.id) {
                        selected.executed = false;
                        g[a].active = false;
                        break;
                    }
                }
            }
        }
    }
});
let tracker = document.getElementById("target");
window.addEventListener("mousemove", (e) => {
    var rect = e.target.getBoundingClientRect();
    //console.log(e.target)
    last_x = x;
    last_y = y;
    x = e.clientX; //x position within the element.
    y = e.clientY; //y position within the element.
});
var btype;
(function (btype) {
    btype[btype["mouse"] = 0] = "mouse";
    btype[btype["keyboard"] = 1] = "keyboard";
})(btype = exports.btype || (exports.btype = {}));
let x = 0;
let y = 0;
let last_x = 0;
let last_y = 0;
let binds = {};
exports.debug_binds = [];
let mouseBinds = {};
let bind_count = 0;
let all_binds = [];
let repeat_binds = [];
function Poll_Mouse(camera, canvas = main_1.g.state.canvases[0]) {
    let height = van_1.GetViewportDimensions().height;
    let wratio = parseFloat(window.getComputedStyle(canvas).width) / van_1.GetViewportDimensions().width;
    let vratio = parseFloat(window.getComputedStyle(canvas).height) / van_1.GetViewportDimensions().height;
    let bounds = canvas.getBoundingClientRect();
    if (x > bounds.left && x < bounds.right && y < bounds.bottom && y > bounds.top) {
        return ({
            x: ((x - bounds.left - camera.state.viewport.x) / wratio / camera.state.scaling + camera.state.position.x - camera.state.dimensions.width / camera.state.scaling / 2),
            y: ((height - (y - bounds.top) / vratio) / camera.state.scaling + camera.state.position.y - camera.state.dimensions.height / camera.state.scaling / 2 - camera.state.viewport.y)
        });
    }
    return undefined;
}
exports.Poll_Mouse = Poll_Mouse;
function ExecuteRepeatBinds(b) {
    for (let a of repeat_binds) {
        if (a.bind.execute === exec_type.repeat && a.timer == 0 && a.active) {
            a.bind.function();
        }
        if (a.active || (!a.active && a.timer != 0))
            a.timer += b;
        if (a.timer > a.interval) {
            a.timer = 0;
        }
    }
}
exports.ExecuteRepeatBinds = ExecuteRepeatBinds;
function Unbind(bind_id) {
    for (let a = 0; a < all_binds.length; a++) {
        if (all_binds[a].id == bind_id) {
            all_binds.splice(a, 1);
            break;
        }
    }
    for (let a = 0; a < repeat_binds.length; a++) {
        if (repeat_binds[a].bind.id == bind_id) {
            repeat_binds.splice(a, 1);
            break;
        }
    }
}
exports.Unbind = Unbind;
var exec_type;
(function (exec_type) {
    exec_type[exec_type["once"] = 0] = "once";
    exec_type[exec_type["repeat"] = 1] = "repeat";
})(exec_type = exports.exec_type || (exports.exec_type = {}));
let id = 0;
function Bind(keyname, func, type, interval, object) {
    if (keyname.slice(0, 5) === "mouse" || keyname.slice(0, 6) === "scroll") {
        let b = {
            key: keyname,
            type: btype.mouse,
            id,
            function: func,
            obj: object,
            execute: type,
            executed: false,
            interval
        };
        if (type == exec_type.repeat) {
            b.repeat_timer = {
                bind: b,
                timer: 0,
                interval,
                active: false
            };
            repeat_binds.push(b.repeat_timer);
        }
        all_binds.push(b);
    }
    else {
        let b = {
            key: keyname,
            type: btype.keyboard,
            id,
            function: func,
            execute: type,
            executed: false,
            interval
        };
        if (type == exec_type.repeat) {
            b.repeat_timer = {
                bind: b,
                timer: 0,
                interval,
                active: false
            };
            repeat_binds.push(b.repeat_timer);
        }
        all_binds.push(b);
    }
    id++;
    return id - 1;
}
exports.Bind = Bind;


/***/ }),

/***/ "./src/lib/debug.ts":
/*!**************************!*\
  !*** ./src/lib/debug.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.debug_setup = exports.debug_state = exports.debug_update_prefabs = exports.debug_update_obj_list = exports.debug_update_properties_element = exports.debug_update_room_list = exports.debug_statef = exports.Debug_hud = exports.root_path = exports.project_path = exports.path = void 0;
const van_1 = __webpack_require__(/*! ../van */ "./src/van.ts");
let fs;
let ipcRenderer;
const prefabs_1 = __webpack_require__(/*! ../game/objects/prefabs */ "./src/game/objects/prefabs.ts");
exports.project_path = "";
exports.root_path = "";
if (van_1.DEBUG) {
    exports.path = window.require("path");
    fs = window.require("fs");
    ipcRenderer = window.require("electron").ipcRenderer;
    exports.project_path = ipcRenderer.sendSync('path-request', 'ping')[0];
    exports.root_path = exports.path.join(exports.project_path, "..");
}
const object_template_1 = __webpack_require__(/*! ./templates/object_template */ "./src/lib/templates/object_template.ts");
const room_template_1 = __webpack_require__(/*! ./templates/room_template */ "./src/lib/templates/room_template.ts");
const main_1 = __webpack_require__(/*! ../game/main */ "./src/game/main.ts");
const rooms_1 = __webpack_require__(/*! ../game/rooms/rooms */ "./src/game/rooms/rooms.ts");
const controls_1 = __webpack_require__(/*! ../lib/controls */ "./src/lib/controls.ts");
const hud_1 = __webpack_require__(/*! ../lib/hud */ "./src/lib/hud.ts");
const render_1 = __webpack_require__(/*! ../lib/render */ "./src/lib/render.ts");
class Debug_hud extends hud_1.HUD {
    setTextElements() {
        return [
            new hud_1.Text({
                position: {
                    x: 10,
                    y: van_1.viewport.height - 24
                },
                size: 22,
                font: "Alata",
                color: "white",
                align: "left",
                scaling: 1
            }, () => exports.debug_state.render_delta_time > 0 ? Math.round(1000 / exports.debug_state.render_delta_time) + "" : ""),
            new hud_1.Text({
                position: {
                    x: 10,
                    y: 10
                },
                size: 22,
                font: "Alata",
                color: "white",
                align: "left",
                scaling: 1
            }, () => `X:${exports.debug_state.camera.state.position.x.toFixed(0)}`),
            new hud_1.Text({
                position: {
                    x: 10,
                    y: 32
                },
                size: 22,
                font: "Alata",
                color: "white",
                align: "left",
                scaling: 1
            }, () => `Y:${exports.debug_state.camera.state.position.y.toFixed(0)}`),
            new hud_1.Text({
                position: {
                    x: van_1.viewport.width - 10,
                    y: 32
                },
                size: 22,
                font: "Alata",
                color: "white",
                align: "right",
                scaling: 1
            }, () => {
                let mouse = controls_1.Poll_Mouse(exports.debug_state.camera, exports.debug_state.target);
                if (mouse) {
                    return `${mouse.x.toFixed(0)}:X`;
                }
                return `:X`;
            }),
            new hud_1.Text({
                position: {
                    x: van_1.viewport.width - 10,
                    y: 10
                },
                size: 22,
                font: "Alata",
                color: "white",
                align: "right",
                scaling: 1
            }, () => {
                let mouse = controls_1.Poll_Mouse(exports.debug_state.camera, exports.debug_state.target);
                if (mouse) {
                    return `${mouse.y.toFixed(0)}:Y`;
                }
                return `:Y`;
            }),
            new hud_1.Text({
                position: {
                    x: van_1.viewport.width - 10,
                    y: van_1.viewport.height - 24
                },
                size: 22,
                font: "Alata",
                color: "white",
                align: "right",
                scaling: 1
            }, () => {
                return `${main_1.g.state.current_room.constructor.name}.ts`;
            })
        ];
    }
}
exports.Debug_hud = Debug_hud;
function debug_statef(t) {
    let mouse = controls_1.Poll_Mouse(exports.debug_state.camera, exports.debug_state.target);
    if (exports.debug_state.camera.hud) {
        exports.debug_state.camera.hud.statef(t);
    }
    if (!van_1.PAUSED) {
        debug_update_properties_element();
    }
    if (mouse) {
        if (exports.debug_state.selected_element) {
            if (van_1.PAUSED && controls_1.held_keys["ControlLeft"] && exports.debug_state.current_action.property == "scaling") {
                let dist = {
                    x: Math.abs(mouse.x - exports.debug_state.selected_element.state.position.x),
                    y: Math.abs(mouse.y - exports.debug_state.selected_element.state.position.y)
                };
                exports.debug_state.selected_element.state.scaling.width = (2 * dist.x) / exports.debug_state.selected_element.width;
                exports.debug_state.selected_element.state.scaling.height = (2 * dist.y) / exports.debug_state.selected_element.height;
            }
            else {
                let st = exports.debug_state.selected_element.state;
                st.position.x = mouse.x - exports.debug_state.selected_element_offset.x,
                    st.position.y = mouse.y - exports.debug_state.selected_element_offset.y;
            }
        }
        if (van_1.PAUSED && exports.debug_state.rotation_element) {
            exports.debug_state.rotation_element.state.rotation = exports.debug_state.rotation_element.angleTowardsPoint(mouse);
        }
        if (exports.debug_state.middle_position) {
            let diff_y = mouse.y - exports.debug_state.middle_position.y;
            let diff_x = mouse.x - exports.debug_state.middle_position.x;
            exports.debug_state.camera.state.position.x = exports.debug_state.camera.state.position.x + -1 * diff_x;
            exports.debug_state.camera.state.position.y = exports.debug_state.camera.state.position.y + -1 * diff_y;
        }
    }
}
exports.debug_statef = debug_statef;
function debug_update_room_list() {
    let list = document.getElementById("room_list");
    list.textContent = '';
    for (let room_name of Object.keys(rooms_1.rooms)) {
        let para = document.createElement("p");
        para.appendChild(document.createTextNode(room_name));
        para.classList.add("room_list_item");
        para.addEventListener("click", (e) => {
            main_1.g.loadRoomString(room_name);
        });
        list.appendChild(para);
    }
}
exports.debug_update_room_list = debug_update_room_list;
let properties_elements = undefined;
if (van_1.DEBUG) {
    properties_elements = {
        pos_x: document.getElementById("pos_x"),
        pos_y: document.getElementById("pos_y"),
        vel_x: document.getElementById("vel_x"),
        vel_y: document.getElementById("vel_y"),
        rot: document.getElementById("rot"),
        sca_x: document.getElementById("sca_x"),
        sca_y: document.getElementById("sca_y"),
        render: document.getElementById("render"),
        collision: document.getElementById("collision"),
        tags: document.getElementById("tags"),
        layer: document.getElementById("layer")
    };
    let inputs = document.getElementsByTagName("input");
    for (let a = 0; a < inputs.length; a++) {
        inputs[a].addEventListener("click", (e) => {
            inputs[a].focus();
        });
    }
    let focused;
    let debug_target = document.getElementById("debug_target");
    debug_target.addEventListener("click", (e) => {
        for (let a = 0; a < inputs.length; a++) {
            inputs[a].blur();
        }
    });
    let target = document.getElementById("target");
    target.addEventListener("click", (e) => {
        for (let a = 0; a < inputs.length; a++) {
            inputs[a].blur();
        }
    });
    properties_elements.pos_x.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        let new_val = parseFloat(properties_elements.pos_x.value) || 0;
        exports.debug_state.actions_stack.push({
            property: "position",
            element: ele,
            new: JSON.stringify({ x: new_val, y: ele.state.position.y }),
            old: JSON.stringify(ele.state.position)
        });
        ele.state.position.x = new_val;
    });
    properties_elements.pos_y.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        let new_val = parseFloat(properties_elements.pos_y.value) || 0;
        exports.debug_state.actions_stack.push({
            property: "position",
            element: ele,
            new: JSON.stringify({ x: ele.state.position.x, y: new_val }),
            old: JSON.stringify(ele.state.position)
        });
        ele.state.position.y = new_val;
    });
    properties_elements.vel_x.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        ele.state.velocity.x = parseFloat(properties_elements.vel_x.value) || 0;
    });
    properties_elements.vel_y.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        ele.state.velocity.y = parseFloat(properties_elements.vel_y.value) || 0;
    });
    properties_elements.rot.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        let new_val = parseFloat(properties_elements.rot.value) || 0;
        exports.debug_state.actions_stack.push({
            property: "rotation",
            element: ele,
            new: JSON.stringify(new_val),
            old: JSON.stringify(ele.state.rotation)
        });
        ele.state.rotation = new_val;
    });
    properties_elements.sca_x.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        let new_val = parseFloat(properties_elements.sca_x.value) || 0;
        exports.debug_state.actions_stack.push({
            property: "scaling",
            element: ele,
            new: JSON.stringify({ width: new_val, height: ele.state.scaling.height }),
            old: JSON.stringify(ele.state.scaling)
        });
        ele.state.scaling.width = new_val;
    });
    properties_elements.sca_y.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        let new_val = parseFloat(properties_elements.sca_y.value) || 0;
        exports.debug_state.actions_stack.push({
            property: "scaling",
            element: ele,
            new: JSON.stringify({ width: ele.state.scaling.width, height: new_val }),
            old: JSON.stringify(ele.state.scaling)
        });
        ele.state.scaling.height = new_val;
    });
    properties_elements.render.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        ele.render = properties_elements.render.checked;
    });
    properties_elements.collision.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        ele.collision = properties_elements.collision.checked;
    });
    properties_elements.tags.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        ele.tags = properties_elements.tags.value.split(",");
    });
    properties_elements.layer.addEventListener("input", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        ele.layer = parseInt(properties_elements.layer.value);
    });
    document.getElementById("delete_element").addEventListener("click", (e) => {
        let ele = exports.debug_state.selected_properties_element;
        ele.delete();
    });
}
function debug_update_properties_element() {
    if (exports.debug_state.selected_properties_element) {
        let ele = exports.debug_state.selected_properties_element;
        document.getElementById("obj_name").innerHTML = ele.constructor.name;
        properties_elements.pos_x.value = "" + ele.state.position.x.toFixed(2);
        properties_elements.pos_y.value = "" + ele.state.position.y.toFixed(2);
        properties_elements.vel_x.value = "" + ele.state.velocity.x.toFixed(2);
        properties_elements.vel_y.value = "" + ele.state.velocity.y.toFixed(2);
        properties_elements.rot.value = "" + ele.state.rotation.toFixed(2);
        properties_elements.sca_x.value = "" + ele.state.scaling.width.toFixed(2);
        properties_elements.sca_y.value = "" + ele.state.scaling.height.toFixed(2);
        properties_elements.tags.value = "" + ele.tags.join(",");
        properties_elements.render.checked = ele.render;
        properties_elements.collision.checked = ele.collision;
        properties_elements.layer.value = "" + ele.layer;
        let list = document.getElementById("params_list");
        list.textContent = '';
        for (let k of Object.keys(ele.params)) {
            let p = document.createElement("p");
            let span = document.createElement("span");
            span.appendChild(document.createTextNode(k));
            let input = document.createElement("input");
            if (typeof ele.params[k] === "boolean") {
                input.setAttribute("type", "checkbox");
            }
            else if (typeof ele.params[k] === "number") {
                input.setAttribute("type", "number");
            }
            else if (typeof ele.params[k] === "string") {
                input.setAttribute("type", "text");
            }
            input.setAttribute("id", k);
            input.setAttribute("value", (JSON.stringify(ele.params[k])));
            input.addEventListener("click", (e) => {
                input.focus();
            });
            input.addEventListener("input", (e) => {
                let ele = exports.debug_state.selected_properties_element;
                let val = input.value;
                if (!isNaN(val)) {
                    ele.params[k] = parseFloat(val);
                }
                else if (val == "true") {
                    ele.params[k] = true;
                }
                else if (val == "false") {
                    ele.params[k] = false;
                }
                else {
                    try {
                        let parsed = JSON.parse(val);
                        ele.params[k] = JSON.parse(val);
                    }
                    catch (e) {
                    }
                }
            });
            p.appendChild(span);
            p.append(input);
            list.append(p);
        }
    }
}
exports.debug_update_properties_element = debug_update_properties_element;
function debug_update_obj_list() {
    let list = document.getElementById("objects_list");
    list.textContent = '';
    if (main_1.g.getRoom()) {
        for (let obj of main_1.g.getRoom().objects.slice().reverse()) {
            let para = document.createElement("p");
            para.appendChild(document.createTextNode(obj.constructor.name));
            para.classList.add("object_list_item");
            para.addEventListener("click", (e) => {
                if (exports.debug_state.selected_properties_element == obj) {
                    exports.debug_state.camera.state.position = Object.assign({}, obj.state.position);
                }
                else {
                    exports.debug_state.selected_properties_element = obj;
                    debug_update_properties_element();
                }
            });
            list.appendChild(para);
        }
    }
}
exports.debug_update_obj_list = debug_update_obj_list;
function debug_update_prefabs() {
    return __awaiter(this, void 0, void 0, function* () {
        let pres = Object.keys(prefabs_1.prefabs).map((o) => __awaiter(this, void 0, void 0, function* () {
            let a = (new prefabs_1.prefabs[o]({
                position: { x: 0, y: 0 },
                velocity: { x: 0, y: 0 },
                rotation: 0,
                scaling: { width: 1, height: 1 }
            }));
            yield a.load();
            a.render = true;
            let objs = a.combinedObjects();
            for (let obj of objs) {
                obj.UnbindAll();
            }
            let r = a.renderf(0);
            return {
                prefab: prefabs_1.prefabs[o],
                name: a.constructor.name,
                rendered: r
            };
        }));
        let a = yield Promise.all(pres);
        let target = document.getElementById("prefab_target");
        target.textContent = '';
        for (let prefab of a) {
            let div = document.createElement("div");
            let para = document.createElement("p");
            para.appendChild(document.createTextNode(prefab.name));
            div.appendChild(para);
            if (Array.isArray(prefab.rendered)) {
            }
            else {
                div.append(prefab.rendered.sprite.sprite_sheet);
            }
            div.classList.add("prefab_box");
            div.addEventListener("mousedown", () => __awaiter(this, void 0, void 0, function* () {
                let val = {
                    position: { x: exports.debug_state.camera.state.position.x, y: exports.debug_state.camera.state.position.y },
                    velocity: { x: 0, y: 0 },
                    rotation: 0,
                    scaling: { width: 1, height: 1 }
                };
                let obj = (new prefab.prefab(val));
                yield main_1.g.state.current_room.addItems(obj.combinedObjects());
            }));
            target.append(div);
        }
    });
}
exports.debug_update_prefabs = debug_update_prefabs;
exports.debug_setup = () => {
    exports.debug_state = {
        target: document.getElementById("debug_target"),
        camera: new render_1.Camera({
            x: 0,
            y: 0,
            dimensions: {
                height: van_1.viewport.height,
                width: van_1.viewport.width
            },
            scaling: 1,
            debug: true
        }, {
            x: 1,
            y: 0,
            width: 1,
            height: 1
        }),
        last_clicked: undefined,
        selected_element: undefined,
        selected_element_offset: undefined,
        rotation_element: undefined,
        middle_position: undefined,
        click_position: undefined,
        selected_properties_element: undefined,
        selected_element_initial_scaling: { width: 1, height: 1 },
        actions_stack: [],
        render_delta_time: 0,
        current_action: undefined
    };
    exports.debug_state.camera.hud = new Debug_hud();
    controls_1.debug_binds.push({
        key: "mouse0down",
        type: controls_1.btype.mouse,
        id: 0,
        function: () => {
            if (exports.debug_state.selected_element) {
                exports.debug_state.selected_element = null;
            }
            else {
                let mouse = controls_1.Poll_Mouse(exports.debug_state.camera, exports.debug_state.target);
                if (!mouse) {
                    return;
                }
                exports.debug_state.click_position = mouse;
                let all_clicked = main_1.g.getRoom().checkObjectsPoint(mouse);
                let clicked;
                let filtered = all_clicked.filter((ele) => ele == exports.debug_state.selected_properties_element);
                if (filtered.length > 0) {
                    clicked = filtered[0];
                }
                else {
                    clicked = all_clicked.sort((a, b) => (b.layer - a.layer))[0];
                }
                if (clicked) {
                    if (controls_1.held_keys["ControlLeft"]) {
                        exports.debug_state.current_action = {
                            element: clicked,
                            property: "scaling",
                            old: JSON.stringify(clicked.state.scaling),
                            new: undefined
                        };
                    }
                    else {
                        exports.debug_state.current_action = {
                            element: clicked,
                            property: "position",
                            old: JSON.stringify(clicked.state.position),
                            new: undefined
                        };
                    }
                    exports.debug_state.selected_properties_element = clicked;
                    debug_update_properties_element();
                    exports.debug_state.selected_element = clicked;
                    exports.debug_state.selected_element_initial_scaling = clicked.state.scaling;
                    exports.debug_state.selected_element_offset = {
                        x: mouse.x - clicked.state.position.x,
                        y: mouse.y - clicked.state.position.y
                    };
                }
            }
        },
        execute: controls_1.exec_type.once,
        camera: exports.debug_state.camera
    });
    controls_1.debug_binds.push({
        key: "mouse1up",
        type: controls_1.btype.mouse,
        id: 5,
        function: () => {
            exports.debug_state.middle_position = undefined;
        },
        execute: controls_1.exec_type.once,
        camera: exports.debug_state.camera
    });
    controls_1.debug_binds.push({
        key: "mouse1down",
        type: controls_1.btype.mouse,
        id: 6,
        function: () => {
            let mouse = controls_1.Poll_Mouse(exports.debug_state.camera, exports.debug_state.target);
            if (!mouse) {
                return;
            }
            exports.debug_state.middle_position = mouse;
        },
        execute: controls_1.exec_type.once,
        camera: exports.debug_state.camera
    });
    controls_1.debug_binds.push({
        key: "mouse0up",
        type: controls_1.btype.mouse,
        id: 1,
        function: () => {
            if (exports.debug_state.selected_element) {
                if (exports.debug_state.current_action.property == "scaling") {
                    exports.debug_state.current_action.new = JSON.stringify(exports.debug_state.selected_element.state.scaling);
                }
                else if (exports.debug_state.current_action.property == "position") {
                    exports.debug_state.current_action.new = JSON.stringify(exports.debug_state.selected_element.state.position);
                }
                exports.debug_state.actions_stack.push(exports.debug_state.current_action);
            }
            exports.debug_state.selected_element = undefined;
            debug_update_properties_element();
        },
        execute: controls_1.exec_type.once,
        camera: exports.debug_state.camera
    });
    controls_1.debug_binds.push({
        key: "mouse2down",
        type: controls_1.btype.mouse,
        id: 3,
        function: () => {
            if (exports.debug_state.rotation_element) {
                exports.debug_state.rotation_element = null;
            }
            else {
                let mouse = controls_1.Poll_Mouse(exports.debug_state.camera, exports.debug_state.target);
                if (!mouse) {
                    return;
                }
                let clicked = main_1.g.getRoom().checkObjectsPoint(mouse)[0];
                if (clicked) {
                    exports.debug_state.rotation_element = clicked;
                    exports.debug_state.current_action = {
                        element: exports.debug_state.rotation_element,
                        property: "rotation",
                        old: JSON.stringify(exports.debug_state.rotation_element.state.rotation),
                        new: undefined
                    };
                }
            }
        },
        execute: controls_1.exec_type.once,
        camera: exports.debug_state.camera
    });
    controls_1.debug_binds.push({
        key: "mouse2up",
        type: controls_1.btype.mouse,
        id: 4,
        function: () => {
            exports.debug_state.current_action.new = JSON.stringify(exports.debug_state.rotation_element.state.rotation);
            exports.debug_state.actions_stack.push(exports.debug_state.current_action);
            exports.debug_state.rotation_element = undefined;
        },
        execute: controls_1.exec_type.once,
        camera: exports.debug_state.camera
    });
    let left_func = () => {
        let shift_held = controls_1.held_keys["ShiftLeft"] ? 1 : 0;
        if (exports.debug_state.last_clicked.id == "debug_target")
            exports.debug_state.camera.state.position.x = exports.debug_state.camera.state.position.x - ((5 + shift_held * 5) * (1 / exports.debug_state.camera.state.scaling));
    };
    let right_func = () => {
        let shift_held = controls_1.held_keys["ShiftLeft"] ? 1 : 0;
        if (exports.debug_state.last_clicked.id == "debug_target")
            exports.debug_state.camera.state.position.x = exports.debug_state.camera.state.position.x + ((5 + shift_held * 5) * (1 / exports.debug_state.camera.state.scaling));
    };
    let down_func = () => {
        let shift_held = controls_1.held_keys["ShiftLeft"] ? 1 : 0;
        if (!controls_1.held_keys["ControlLeft"] && exports.debug_state.last_clicked.id == "debug_target")
            exports.debug_state.camera.state.position.y = exports.debug_state.camera.state.position.y - ((5 + shift_held * 5) * (1 / exports.debug_state.camera.state.scaling));
    };
    let up_func = () => {
        let shift_held = controls_1.held_keys["ShiftLeft"] ? 1 : 0;
        if (exports.debug_state.last_clicked.id == "debug_target")
            exports.debug_state.camera.state.position.y = exports.debug_state.camera.state.position.y + ((5 + shift_held * 5) * (1 / exports.debug_state.camera.state.scaling));
    };
    let scroll_up = () => {
        if (exports.debug_state.last_clicked.id == "debug_target" && exports.debug_state.camera.state.scaling < 0.05)
            exports.debug_state.camera.state.scaling = exports.debug_state.camera.state.scaling + 0.01;
        else if (exports.debug_state.last_clicked.id == "debug_target")
            exports.debug_state.camera.state.scaling = exports.debug_state.camera.state.scaling + 0.05;
    };
    let save_func = () => {
        let ctrl_held = controls_1.held_keys["ControlLeft"];
        if (ctrl_held && van_1.PAUSED) {
            let name = main_1.g.getRoom().constructor.name;
            let a = exports.path.join(`${exports.project_path}`, `../rooms/${name}.json`);
            try {
                fs.writeFileSync(a, JSON.stringify(main_1.g.getRoom().exportStateConfig()));
            }
            catch (e) {
                console.log(e);
                console.log("ERROR WRITING ROOM INFO FILE.");
                alert("Error");
            }
            alert("Saved");
        }
        else if (ctrl_held && !van_1.PAUSED) {
            alert("pause to enable saving.");
        }
    };
    let scroll_down = () => {
        if (exports.debug_state.last_clicked.id == "debug_target" && exports.debug_state.camera.state.scaling > 0.05)
            exports.debug_state.camera.state.scaling = exports.debug_state.camera.state.scaling - 0.05;
        else if (exports.debug_state.last_clicked.id == "debug_target" && exports.debug_state.camera.state.scaling > 0.01)
            exports.debug_state.camera.state.scaling = exports.debug_state.camera.state.scaling - 0.01;
    };
    let undo_func = () => {
        if (controls_1.held_keys["ControlLeft"]) {
            let curr = exports.debug_state.actions_stack.pop();
            if (curr) {
                if (curr.property == "position") {
                    curr.element.state.position = JSON.parse(curr.old);
                }
                else if (curr.property === "rotation") {
                    curr.element.state.rotation = JSON.parse(curr.old);
                }
                else if (curr.property === "scaling") {
                    curr.element.state.scaling = JSON.parse(curr.old);
                }
            }
        }
    };
    controls_1.debug_binds.push({
        key: "KeyA",
        type: controls_1.btype.keyboard,
        id: controls_1.Bind("KeyA", left_func, controls_1.exec_type.repeat, 1),
        function: left_func,
        execute: controls_1.exec_type.repeat
    });
    controls_1.debug_binds.push({
        key: "KeyD",
        type: controls_1.btype.keyboard,
        id: controls_1.Bind("KeyD", right_func, controls_1.exec_type.repeat, 1),
        function: right_func,
        execute: controls_1.exec_type.repeat
    });
    controls_1.debug_binds.push({
        key: "KeyW",
        type: controls_1.btype.keyboard,
        id: controls_1.Bind("KeyW", up_func, controls_1.exec_type.repeat, 1),
        function: up_func,
        execute: controls_1.exec_type.repeat
    });
    controls_1.debug_binds.push({
        key: "KeyS",
        type: controls_1.btype.keyboard,
        id: controls_1.Bind("KeyS", down_func, controls_1.exec_type.repeat, 1),
        function: down_func,
        execute: controls_1.exec_type.repeat
    });
    controls_1.debug_binds.push({
        key: "scrollup",
        type: controls_1.btype.mouse,
        id: controls_1.Bind("scrollup", scroll_up, controls_1.exec_type.once, 1),
        function: scroll_up,
        execute: controls_1.exec_type.once
    });
    controls_1.debug_binds.push({
        key: "scrolldown",
        type: controls_1.btype.mouse,
        id: controls_1.Bind("scrolldown", scroll_down, controls_1.exec_type.once, 1),
        function: scroll_down,
        execute: controls_1.exec_type.once
    });
    controls_1.debug_binds.push({
        key: "KeyS",
        type: controls_1.btype.keyboard,
        id: controls_1.Bind("KeyS", save_func, controls_1.exec_type.once, 1),
        function: save_func,
        execute: controls_1.exec_type.once
    });
    controls_1.debug_binds.push({
        key: "KeyZ",
        type: controls_1.btype.keyboard,
        id: controls_1.Bind("KeyZ", undo_func, controls_1.exec_type.once, 1),
        function: undo_func,
        execute: controls_1.exec_type.once
    });
    window.addEventListener("click", (e) => {
        if (e.target instanceof HTMLElement) {
            exports.debug_state.last_clicked = e.target;
        }
    });
    let pause_button = document.getElementById("pause_button");
    pause_button.addEventListener("click", (e) => {
        van_1.setPaused(!van_1.PAUSED);
        if (van_1.PAUSED) {
            pause_button.innerHTML = "UNPAUSE";
        }
        else {
            pause_button.innerHTML = "PAUSE";
        }
    });
    let obj_button = document.getElementById("new_object_button");
    let room_button = document.getElementById("new_room_button");
    room_button.addEventListener("click", (e) => {
        let file_path = ipcRenderer.sendSync('object-path-request', "rooms");
        if (file_path) {
            let full_name = exports.path.parse(file_path).base;
            let new_name = full_name.substr(0, full_name.length - 3);
            let path_to_write = exports.path.join(`${file_path}`, "..", new_name + ".ts");
            fs.writeFileSync(path_to_write, room_template_1.room_template.split("template").join(new_name));
            path_to_write = exports.path.join(`${file_path}`, "..", new_name + ".json");
            fs.writeFileSync(path_to_write, `
    {
      "objects":[]
    }
    `);
        }
    });
    obj_button.addEventListener("click", (e) => {
        let file_path = ipcRenderer.sendSync('object-path-request', "objects");
        if (file_path) {
            let full_name = exports.path.parse(file_path).base;
            let new_name = full_name.substr(0, full_name.length - 3);
            let path_to_write = exports.path.join(`${file_path}`, "..", new_name + ".ts");
            fs.writeFileSync(path_to_write, object_template_1.object_template.split("template").join(new_name));
        }
    });
};


/***/ }),

/***/ "./src/lib/hud.ts":
/*!************************!*\
  !*** ./src/lib/hud.ts ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Text = exports.HUD = void 0;
class HUD {
    constructor() {
        this.graphic_elements = [];
        this.text_elements = [];
        this.text_elements.push(...this.setTextElements());
        this.graphic_elements.push(...this.setGraphicElements());
    }
    statef(a) {
        for (let x of this.graphic_elements) {
            x.statef(a);
        }
        for (let x of this.text_elements) {
            x.statef(a);
        }
    }
    setTextElements() {
        return [];
    }
    setGraphicElements() {
        return [];
    }
}
exports.HUD = HUD;
class Text {
    constructor(node, getFunc) {
        if (!node.align) {
            node.align = "center";
        }
        this.state = node;
        if (!this.state.text) {
            this.state.text = "";
        }
        this.getFunc = getFunc;
    }
    statef(a) {
        this.state.text = this.getFunc();
    }
    renderf(a) {
        let { size, color, font, text, max_width, align } = this.state;
        return {
            size,
            color,
            font,
            text,
            max_width,
            align
        };
    }
}
exports.Text = Text;


/***/ }),

/***/ "./src/lib/math.ts":
/*!*************************!*\
  !*** ./src/lib/math.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Vec = exports.rotation_length = exports.angle_towards = exports.getRandInt = void 0;
function getRandInt(min, max) {
    return Math.floor(Math.random() * (max - min)) + min;
}
exports.getRandInt = getRandInt;
function angle_towards(target1, target2) {
    return 90 - Math.atan2((target1.y - target2.y), (target1.x - target2.x)) * 180 / Math.PI;
}
exports.angle_towards = angle_towards;
//Finds the side lengths of a triangle if given the  angle (in degrees)
//along with the length of the hypotenuse
function rotation_length(length, degree) {
    let a_len = length * Math.sin(degree * Math.PI / 180);
    let b_len = length * Math.cos(degree * Math.PI / 180);
    return {
        x: a_len,
        y: b_len
    };
}
exports.rotation_length = rotation_length;
class Vec {
    static from(a) {
        return Vec.create(a.x, a.y);
    }
    static add(a, b) {
        return { x: a.x + b.x, y: a.y + b.y };
    }
    static sub(a, b) {
        return { x: a.x - b.x, y: a.y - b.y };
    }
    static scalar_divide(a, b) {
        return { x: a.x / b, y: a.y / b };
    }
    static scalar_add(a, b) {
        return { x: a.x + b, y: a.y + b };
    }
    static scalar_sub(a, b) {
        return { x: a.x - b, y: a.y - b };
    }
    static scalar_mod(a, b) {
        return { x: a.x % b, y: a.y % b };
    }
    static scalar_mult(a, b) {
        return { x: a.x * b, y: a.y * b };
    }
    static func(a, b) {
        let arr = [a.x, a.y].map(b);
        return Vec.create(arr[0], arr[1]);
    }
    static distance(a, b) {
        return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));
    }
    static create(x, y) {
        return { x, y };
    }
}
exports.Vec = Vec;


/***/ }),

/***/ "./src/lib/object.ts":
/*!***************************!*\
  !*** ./src/lib/object.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.gravity_obj = exports.static_obj = exports.composite_obj = exports.obj = exports.getId = void 0;
const render_1 = __webpack_require__(/*! ./render */ "./src/lib/render.ts");
const controls_1 = __webpack_require__(/*! ./controls */ "./src/lib/controls.ts");
const audio_1 = __webpack_require__(/*! ./audio */ "./src/lib/audio.ts");
const van_1 = __webpack_require__(/*! ../van */ "./src/van.ts");
const math_1 = __webpack_require__(/*! ./math */ "./src/lib/math.ts");
const debug_1 = __webpack_require__(/*! ../lib/debug */ "./src/lib/debug.ts");
function getId(a, id) {
    for (let b = 0; b < a.length; b++) {
        if (a[b].id == id) {
            return a[b];
        }
    }
    return undefined;
}
exports.getId = getId;
//This counter tracks the global number of objects created so far
//an object's id (if not overwritten) will be a unique integer, which
//uses this counter.
let counter = 0;
class animations {
    constructor() {
        this.animations = {};
        //Tracks the time passed since the current animation
        //has started playing
        this.animation_tracker = 0;
        this.animating = false;
    }
    //defines an animation that can be played using the play method
    //the keyframes are an array of tuples in the 
    //format of [(time for this sprite to show), sprite]
    add(name, keyframes, length) {
        this.animations[name] = [keyframes, length];
    }
    play(name, callback) {
        this.current = name;
        this.callback = callback;
        this.animation_tracker = 0;
    }
    renderf(t) {
        let curr_animation = this.animations[this.current][0];
        let length = this.animations[this.current][1];
        let index = 0;
        for (; index < curr_animation.length - 1; index++) {
            let keyframe_time = curr_animation[index][0];
            let next_keyframe_time = curr_animation[index + 1][0];
            if (this.animation_tracker >= keyframe_time && this.animation_tracker < next_keyframe_time) {
                this.animation_tracker = this.animation_tracker + t;
                this.animating = true;
                //Returns the raw sprite that's correct to show at this time
                return curr_animation[index][1];
            }
        }
        if (this.animation_tracker >= length) {
            this.animation_tracker = 0;
            this.animating = false;
            if (this.callback) {
                this.callback();
            }
        }
        else {
            this.animation_tracker += t;
        }
        //Returns the last appropriate frame until the animation is over.
        return curr_animation[index][1];
    }
}
class obj {
    constructor(state, params = obj.default_params) {
        //Url to the object's individual sprite, or all of its sprites
        //bundled into a spritesheet
        this.sprite_url = "./sprites/Error.png";
        this.render_type = render_1.render_type.sprite;
        this.collision = false;
        this.tags = [];
        //tags are used to exclude or include objects when checking for collisions,
        //and for object identification / classification in scripts
        this.render = true;
        this.animations = new animations();
        this.audio = new audio_1.audio();
        //Last render time, used to calculate delta_time
        this.last_render = 0;
        //Params are options for the object, that do not rely on state
        // For example, the side of a piece in chess.
        this.params = {};
        this.static = false;
        this.layer = 1;
        this.save_to_file = true;
        this.tick_state = true;
        this.scale_type = render_1.scale_type.grow;
        this.proximity_boxes = new Set();
        this.text_nodes = [];
        this.cache_entries = {};
        this.id = "" + counter;
        this.binds = [];
        counter++;
        this.params = Object.assign({}, params);
        this.registerControls();
        this.registerAudio();
        let position_proxy = (pos) => new Proxy(pos, {
            "set": (target, prop, reciever) => {
                if (prop == "y" || prop == "x") {
                    if (target[prop] == reciever) {
                        return true;
                    }
                    let room = this.game.getRoom();
                    let offset = 0;
                    if (prop == "y") {
                        offset = this.getFullCollisionBox().height / 2;
                    }
                    else if (prop == "x") {
                        offset = this.getFullCollisionBox().width / 2;
                    }
                    if (reciever > 0) {
                        offset = -offset;
                    }
                    if (reciever > room.proximity_map.length / 2 + offset) {
                        reciever = room.proximity_map.length / 2 + offset;
                    }
                    if (reciever < -room.proximity_map.length / 2 + offset) {
                        reciever = -room.proximity_map.length / 2 + offset;
                    }
                    target[prop] = this.x_proxy(reciever);
                    this.recalculateProxBoxes();
                    if (this.static) {
                        this.game.redrawStatics();
                    }
                }
                return true;
            }
        });
        let scaling_proxy = (a) => new Proxy(a, {
            "set": (target, prop, reciever) => {
                if (prop == "width" || prop == "height") {
                    target[prop] = reciever;
                    this.recalculateProxBoxes();
                    if (this.static) {
                        this.game.redrawStatics();
                    }
                }
                return true;
            }
        });
        //Creates a copy of the passed in initial state to avoid 
        //Updating the saved state of the room
        this.state = JSON.parse(JSON.stringify(state));
        if (!state.velocity) {
            this.state.velocity = math_1.Vec.create(0, 0);
        }
        if (!state.scaling) {
            this.state.scaling = { height: 1, width: 1 };
        }
        if (!state.rotation) {
            this.state.rotation = 0;
        }
        this.state = new Proxy(this.state, {
            "set": (target, prop, reciever) => {
                if (prop == "position") {
                    let res = reciever;
                    let vec = math_1.Vec.create(res.x, res.y);
                    target[prop] = position_proxy(vec);
                    if (this.game && this.game.getRoom()) {
                        this.recalculateProxBoxes();
                        if (this.static) {
                            this.game.redrawStatics();
                        }
                    }
                }
                else if (prop == "scaling") {
                    let res = reciever;
                    let dim = { width: res.width, height: res.height };
                    target[prop] = scaling_proxy(dim);
                    if (this.game && this.game.getRoom()) {
                        this.recalculateProxBoxes();
                        if (this.static) {
                            this.game.redrawStatics();
                        }
                    }
                }
                else {
                    target[prop] = reciever;
                }
                return true;
            }
        });
        this.state.position = position_proxy(this.state.position);
        this.state.scaling = scaling_proxy(this.state.scaling);
        this.params = params;
    }
    getState() {
        return this.state;
    }
    //Animations should be registered using this.animations.add in this method
    registerAnimations() {
    }
    //Sounds should be registered using this.audio.add in this method.
    registerAudio() {
    }
    defaultParams() {
        return van_1.copy(this.defaultParams);
    }
    x_proxy(val) {
        return val;
    }
    y_proxy(val) {
        return val;
    }
    recalculateProxBoxes() {
        let bounds = this.getBoundingBox();
        let prox_map = this.game.getRoom().proximity_map;
        let boxes = prox_map.getBoxLocations(this);
        for (let cord of this.proximity_boxes) {
            prox_map.remove(cord, this);
        }
        for (let cord of boxes) {
            prox_map.add(cord, this);
        }
    }
    getRoom() {
        return this.game.getRoom();
    }
    load() {
        let _this = this;
        return new Promise((resolve, reject) => {
            let a = new Image();
            let p = this.sprite_url;
            if (van_1.DEBUG) {
                p = debug_1.path.join(debug_1.root_path, this.sprite_url);
            }
            a.src = p;
            a.onload = (() => __awaiter(this, void 0, void 0, function* () {
                _this.sprite_sheet = a;
                _this.registerAnimations();
                yield this.audio.load();
                resolve();
            }));
        });
    }
    //Within normal objects, this just returns an array that contains the object.
    //This method is overwritten by composite objects, which returns every object
    //that the composite object contains. This simplifies the backend work, as each
    //object returns an array of atleast one object.
    combinedObjects() {
        return [this];
    }
    getBoundingBox() {
        let coll_box = this.getFullCollisionBox();
        return {
            top_right: {
                x: coll_box.x + coll_box.width / 2,
                y: coll_box.y + coll_box.height / 2
            },
            bottom_left: {
                x: coll_box.x - coll_box.width / 2,
                y: coll_box.y - coll_box.height / 2
            }
        };
    }
    //Distance from one object to another.
    distance(target) {
        return math_1.Vec.distance(this.state.position, target.state.position);
    }
    applyForce(vel) {
        this.state.velocity.x += vel.x;
        this.state.velocity.y += vel.y;
    }
    angleTowards(a) {
        return this.angleTowardsPoint(a.state.position);
    }
    angleTowardsPoint(target) {
        return 90 - Math.atan2((target.y - this.state.position.y), (target.x - this.state.position.x)) * 180 / Math.PI;
    }
    bindControl(key, x, func, interval = 1) {
        this.binds.push(controls_1.Bind(key, func, x, interval, this));
    }
    //This method is where controls and keybinds should
    //be defined using bindControl
    registerControls() {
    }
    statef(time) {
        for (let node of this.text_nodes) {
            node.statef(time);
        }
    }
    delete() {
        for (let a of this.binds) {
            controls_1.Unbind(a);
        }
        for (let cord of this.proximity_boxes) {
            this.game.getRoom().proximity_map.remove(cord, this);
        }
        this.game.getRoom().deleteItem(this.id);
        if (this.static) {
            this.game.redrawStatics();
        }
    }
    UnbindAll() {
        for (let a of this.binds) {
            controls_1.Unbind(a);
        }
    }
    //Returns the collision box of the object
    //Does not have to correspond to the object's sprite's size 
    //A composite object instead returns the bounding box that 
    //contains every one of its contained objects
    getFullCollisionBox() {
        //If a developer defined hitbox exists, use that, otherwise
        //generate it using the sprite width / height
        if (this.hitbox) {
            return {
                x: this.state.position.x,
                y: this.state.position.y,
                width: this.hitbox.width * this.state.scaling.width,
                height: this.hitbox.height * this.state.scaling.height
            };
        }
        else {
            return {
                x: this.state.position.x,
                y: this.state.position.y,
                width: this.width * this.state.scaling.width,
                height: this.height * this.state.scaling.height
            };
        }
    }
    //This is another methods, similar to getCombined
    //Just returns an array containing the object's collision box
    //Overwritten in composite objects to return every object's collision box
    //within the composite obect.
    getAllCollisionBoxes() {
        return [this.getFullCollisionBox()];
    }
    cache(key, value) {
        if (!this.cache_entries[key]) {
            this.cache_entries[key] = value;
        }
        return this.cache_entries[key];
    }
    //Checks to see if an object actually collides with the provided box.
    //A box represents an area within the game space
    //Checking for collisions is trivial currently, as all hitboxes are axis aligned
    //But implementing a more complicated physics engine would make this method's impl.
    //significatly more complex.
    collidesWithBox(other_object) {
        let collides_horrizontally = false, collides_vertically = false;
        let hbox = this.hitbox;
        if (!this.hitbox) {
            hbox = {
                x_offset: 0,
                y_offset: 0,
                width: this.width,
                height: this.height
            };
        }
        let object_bounds = {
            left: (this.state.position.x + hbox.x_offset - hbox.width * this.state.scaling.width / 2),
            right: (this.state.position.x + hbox.x_offset + hbox.width * this.state.scaling.width / 2),
            top: (this.state.position.y + hbox.y_offset + hbox.height * this.state.scaling.height / 2),
            bottom: (this.state.position.y + hbox.y_offset - hbox.height * this.state.scaling.height / 2)
        };
        let other_object_bounds = {
            left: (other_object.x - other_object.width / 2),
            right: (other_object.x + other_object.width / 2),
            top: (other_object.y + other_object.height / 2),
            bottom: (other_object.y - other_object.height / 2)
        };
        //We can compare the sides of the boxes to see if they overlap
        //We check once for hoizontal overlap, then vertical.
        if ((object_bounds.left >= other_object_bounds.left && object_bounds.left < other_object_bounds.right) || (other_object_bounds.left > object_bounds.left && other_object_bounds.left < object_bounds.right)) {
            collides_horrizontally = true;
        }
        else {
            return false;
        }
        if ((object_bounds.bottom >= other_object_bounds.bottom && object_bounds.bottom < other_object_bounds.top) || (other_object_bounds.bottom > object_bounds.bottom && other_object_bounds.bottom < object_bounds.top)) {
            collides_vertically = true;
        }
        else {
            return false;
        }
        return collides_horrizontally && collides_vertically;
    }
    //The particle must be registered in the room's registerParticles method 
    //The name parameter should correspond to the key of a particle
    emitParticle(name, offset, lifetime, range) {
        let room = this.game.getRoom();
        let st = this.state;
        let final_position = {
            x: st.position.x + offset.x,
            y: st.position.y + offset.y
        };
        room.emitParticle(name, final_position, lifetime, range);
    }
    //Internal method that keeps calculates the delta_time
    //Also converts individual sprites into arrays of one sprite.
    renderTrack(time) {
        let rendered = this.renderf(time - this.last_render);
        let final;
        this.last_render = time;
        if (Array.isArray(rendered))
            final = rendered;
        else {
            final = [rendered];
        }
        return final;
    }
    //Most objects should not be overwritting the renderf method
    //Returns the appropriate sprite for the object
    renderf(time) {
        //If the object doesn't have registered animations, or isn't playing one
        //We have to create the sprite here.
        if (Object.keys(this.animations.animations).length == 0 || !this.animations.current) {
            if (!this.sprite_sheet) {
                return {
                    sprite: undefined,
                    x: this.state.position.x,
                    y: this.state.position.y
                };
            }
            let sprite_height = this.height;
            let sprite_width = this.width;
            //Technically we don't need to define an object height and width
            //If the sprite_url points to a single static sprite, as we can just pull
            //the dimensions from the image
            if (this.height == undefined) {
                sprite_height = this.sprite_sheet.height;
            }
            if (this.width == undefined) {
                sprite_width = this.sprite_sheet.width;
            }
            return {
                sprite: {
                    sprite_sheet: this.sprite_sheet,
                    left: 0,
                    top: 0,
                    sprite_width: sprite_width,
                    sprite_height: sprite_height,
                    opacity: this.opacity || 1
                },
                x: this.state.position.x,
                y: this.state.position.y
            };
        }
        return {
            sprite: this.animations.renderf(time),
            x: this.state.position.x,
            y: this.state.position.y
        };
    }
}
exports.obj = obj;
obj.default_params = {};
class composite_obj extends obj {
    constructor(pos, params) {
        super(pos, params);
        this.objects = [];
        this.render = false;
        this.registered = false;
        this.collision = false;
        this.statics = [];
    }
    load() {
        const _super = Object.create(null, {
            load: { get: () => super.load }
        });
        return __awaiter(this, void 0, void 0, function* () {
            yield _super.load.call(this);
            yield Promise.all([...this.objects.map((a) => a.load()), ...this.statics.map(a => a.obj.load())]);
        });
    }
    combinedObjects() {
        let combined = [...this.objects, ...this.statics.map(a => a.obj)];
        return [...combined, this];
    }
    getItemsByTag(tag) {
        return this.combinedObjects().filter((a) => a.tags.indexOf(tag) > -1);
    }
    addItem(a, list = this.objects) {
        a.parent = this;
        list.push(...a.combinedObjects());
    }
    addItems(a, list = this.objects) {
        for (let o of a) {
            this.addItem(o, list);
        }
    }
    getAllCollisionBoxes() {
        let arr = [];
        for (let obj of [...this.statics.map(a => a.obj), ...this.objects]) {
            let created_box = obj.getAllCollisionBoxes();
            if (Array.isArray(created_box)) {
                arr.push(...created_box);
            }
            else {
                arr.push(created_box);
            }
        }
        return arr;
    }
    delete() {
        for (let a of this.objects) {
            a.delete();
        }
        for (let a of this.statics) {
            a.obj.delete();
        }
        super.delete();
    }
    collidesWithBox(a) {
        for (let obj of this.objects) {
            if (obj.collidesWithBox(a))
                return true;
        }
        for (let o of this.statics) {
            if (o.obj.collidesWithBox(a))
                return true;
        }
        return false;
    }
}
exports.composite_obj = composite_obj;
class static_obj {
    constructor() {
        this.sprite_url = "";
    }
}
exports.static_obj = static_obj;
class gravity_obj extends obj {
    constructor() {
        super(...arguments);
        this.gravity = true;
    }
}
exports.gravity_obj = gravity_obj;


/***/ }),

/***/ "./src/lib/render.ts":
/*!***************************!*\
  !*** ./src/lib/render.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.rect_renderer = exports.stroked_rect_renderer = exports.line_renderer = exports.sprite_renderer = exports.canvas_renderer = exports.text_renderer = exports.hud_text_renderer = exports.scale_type = exports.render_type = exports.Camera = void 0;
const van_1 = __webpack_require__(/*! ../van */ "./src/van.ts");
const math_1 = __webpack_require__(/*! ./math */ "./src/lib/math.ts");
class Camera {
    constructor(props, v, hud = undefined) {
        this.state = {
            scaling: props.scaling,
            position: {
                x: props.x,
                y: props.y
            },
            dimensions: props.dimensions,
            viewport: {
                x: v.x,
                y: v.y,
                width: v.width * props.dimensions.width,
                height: v.height * props.dimensions.height
            },
            debug: props.debug,
            hud,
            target_pos: undefined,
            start_pos: undefined,
            easing_time: 0,
            current_time: 0,
            speed: 0
        };
        this.hud = hud;
    }
    statef(delta_time) {
        if (this.state.target_pos) {
            let t = this.state.current_time / this.state.easing_time;
            let distance = math_1.Vec.distance(this.state.position, this.state.target_pos);
            let coeff;
            if (t <= 0.5) {
                coeff = 2 * t * t;
            }
            else {
                t -= 0.5;
                coeff = 2 * t * (1 - t) + 0.5;
            }
            let angle = math_1.angle_towards(this.state.target_pos, this.state.position);
            let velocity = math_1.rotation_length(2 * this.state.speed * delta_time, angle);
            velocity = math_1.Vec.scalar_mult(velocity, coeff);
            this.state.position = math_1.Vec.add(this.state.position, velocity);
            this.state.current_time += delta_time;
            if (this.state.current_time > this.state.easing_time) {
                this.state.position = math_1.Vec.from(this.state.target_pos);
                this.state.target_pos = undefined;
            }
        }
    }
    set x(x) {
        this.state.position.x = x;
    }
    set y(y) {
        this.state.position.y = y;
    }
    get x() {
        return this.state.position.x;
    }
    get y() {
        return this.state.position.y;
    }
    moveTo(pos, time) {
        this.state.speed = math_1.Vec.distance(this.state.position, pos) / time;
        this.state.target_pos = pos;
        this.state.start_pos = math_1.Vec.from(this.state.position);
        this.state.easing_time = time;
        this.state.current_time = 0;
    }
}
exports.Camera = Camera;
var render_type;
(function (render_type) {
    render_type[render_type["text"] = 0] = "text";
    render_type[render_type["sprite"] = 1] = "sprite";
    render_type[render_type["rect"] = 2] = "rect";
    render_type[render_type["stroke_rect"] = 3] = "stroke_rect";
})(render_type = exports.render_type || (exports.render_type = {}));
var scale_type;
(function (scale_type) {
    scale_type[scale_type["grow"] = 0] = "grow";
    scale_type[scale_type["repeat"] = 1] = "repeat";
})(scale_type = exports.scale_type || (exports.scale_type = {}));
exports.hud_text_renderer = (r, s) => {
    let vheight = van_1.GetViewportDimensions().height;
    r.context.font = `${s.font.size}px ${s.font.font}`;
    r.context.fillStyle = s.font.color;
    r.context.textAlign = s.font.align;
    if (s.font.max_width) {
        r.context.fillText(s.font.text, s.x, vheight - s.y, s.font.max_width);
    }
    else {
        r.context.fillText(s.font.text, s.x, vheight - s.y);
    }
};
exports.text_renderer = (r, s) => {
    let camera = r.camera;
    let vheight = r.camera.state.dimensions.height;
    let final_x = ((s.x - camera.state.position.x + camera.state.dimensions.width * (1 / r.camera.state.scaling) / 2) * r.camera.state.scaling);
    let final_y = ((vheight - s.y * camera.state.scaling - camera.state.dimensions.height / 2 + camera.state.position.y * camera.state.scaling));
    r.context.font = `${s.font.size * r.camera.state.scaling}px ${s.font.font}`;
    r.context.fillStyle = s.font.color;
    r.context.textAlign = s.font.align;
    r.context.save();
    r.context.translate(final_x, final_y);
    if (s.font.max_width) {
        r.context.fillText(s.font.text, 0, 0, s.font.max_width);
    }
    else {
        r.context.fillText(s.font.text, 0, 0);
    }
    r.context.restore();
};
exports.canvas_renderer = (r, a) => {
    let camera = r.camera;
    let vheight = r.camera.state.dimensions.height / r.camera.state.scaling;
    let final_x = ((a.x - camera.state.position.x + camera.state.dimensions.width * (1 / r.camera.state.scaling) / 2 - a.width * a.scale.width / 2) * r.camera.state.scaling);
    let final_y = ((vheight - a.y - camera.state.dimensions.height * (1 / r.camera.state.scaling) / 2 - a.height * a.scale.height / 2 + camera.state.position.y) * r.camera.state.scaling);
    let height = a.height * r.camera.state.scaling * a.scale.height;
    let width = a.width * r.camera.state.scaling * a.scale.width;
    r.context.save();
    r.context.translate(final_x + (width) / 2, final_y + height / 2);
    r.context.drawImage(a.canvas, -(width) / 2, -height / 2, width, height);
    r.context.restore();
};
exports.sprite_renderer = (r, s) => {
    let camera = r.camera;
    let vheight = r.camera.state.dimensions.height / r.camera.state.scaling;
    let final_x = ((s.x - camera.state.position.x + camera.state.dimensions.width * (1 / r.camera.state.scaling) / 2 - s.sprite.sprite_width * s.scale.width / 2) * r.camera.state.scaling);
    let final_y = ((vheight - s.y - camera.state.dimensions.height * (1 / r.camera.state.scaling) / 2 - s.sprite.sprite_height * s.scale.height / 2 + camera.state.position.y) * r.camera.state.scaling);
    let height = s.sprite.sprite_height * r.camera.state.scaling * s.scale.height;
    let width = s.sprite.sprite_width * r.camera.state.scaling * s.scale.width;
    r.context.save();
    r.context.globalAlpha = s.sprite.opacity;
    r.context.translate(final_x + (width) / 2, final_y + height / 2);
    let radians = s.rotation * (Math.PI / 180);
    r.context.rotate(radians);
    if (s.scale_type == scale_type.grow) {
        r.context.drawImage(s.sprite.sprite_sheet, s.sprite.left, s.sprite.top, s.sprite.sprite_width, s.sprite.sprite_height, -(width) / 2, -height / 2, width, height);
    }
    else if (s.scale_type == scale_type.repeat) {
        let one_width = s.sprite.sprite_width * r.camera.state.scaling;
        let one_height = s.sprite.sprite_height * r.camera.state.scaling;
        let total_hor_sprites = width / one_width;
        let total_ver_sprites = height / one_height;
        for (let a = 0; a < total_hor_sprites; a += 1) {
            for (let b = 0; b < total_ver_sprites; b += 1) {
                let new_width = one_width;
                let new_height = one_height;
                if ((a + 1) * one_width - width > 0) {
                    new_width = width % one_width;
                }
                if ((b + 1) * one_height - height > 0) {
                    new_height = height % one_height;
                }
                r.context.drawImage(s.sprite.sprite_sheet, s.sprite.left, s.sprite.top, new_width / (r.camera.state.scaling), new_height / (r.camera.state.scaling), -width / 2 + a * one_width, -height / 2 + b * one_height, new_width, new_height);
            }
        }
    }
    r.context.restore();
};
exports.line_renderer = (context, line, color, lineWidth, camera) => {
    let vheight = camera.state.dimensions.height / camera.state.scaling;
    let start_x = ((line.start.x - camera.state.position.x + camera.state.dimensions.width * (1 / camera.state.scaling) / 2) * camera.state.scaling);
    let start_y = ((vheight - line.start.y + camera.state.position.y - camera.state.dimensions.height * (1 / camera.state.scaling) / 2) * camera.state.scaling);
    let end_x = ((line.end.x - camera.state.position.x + camera.state.dimensions.width * (1 / camera.state.scaling) / 2) * camera.state.scaling);
    let end_y = ((vheight - line.end.y + camera.state.position.y - camera.state.dimensions.height * (1 / camera.state.scaling) / 2) * camera.state.scaling);
    context.beginPath();
    context.strokeStyle = color;
    context.lineWidth = lineWidth * camera.state.scaling;
    context.moveTo(start_x, start_y);
    context.lineTo(end_x, end_y);
    context.stroke();
};
exports.stroked_rect_renderer = (context, rect, x, y, color, lineWidth, camera) => {
    let vheight = camera.state.dimensions.height / camera.state.scaling;
    let final_x = ((x - camera.state.position.x + camera.state.dimensions.width * (1 / camera.state.scaling) / 2 - rect.width / 2) * camera.state.scaling);
    let final_y = ((vheight - y + camera.state.position.y - camera.state.dimensions.height * (1 / camera.state.scaling) / 2 - rect.height / 2) * camera.state.scaling);
    let height = rect.height * camera.state.scaling;
    let width = rect.width * camera.state.scaling;
    context.strokeStyle = color;
    context.lineWidth = lineWidth * camera.state.scaling;
    context.strokeRect(final_x, final_y, width, height);
};
exports.rect_renderer = (context, rect, x, y, color, lineWidth, camera) => {
    let vheight = camera.state.dimensions.height / camera.state.scaling;
    let final_x = ((x - camera.state.position.x + camera.state.dimensions.width * (1 / camera.state.scaling) / 2 - rect.width / 2) * camera.state.scaling);
    let final_y = ((vheight - y - rect.height / 2 - camera.state.dimensions.height * (1 / camera.state.scaling) / 2 + camera.state.position.y) * camera.state.scaling);
    let height = rect.height * camera.state.scaling;
    let width = rect.width * camera.state.scaling;
    context.strokeStyle = color;
    context.fillRect(final_x, final_y, width, height);
};


/***/ }),

/***/ "./src/lib/room.ts":
/*!*************************!*\
  !*** ./src/lib/room.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.p2p_room = exports.room = exports.map_matrix = exports.applyGravity = void 0;
const sprite_1 = __webpack_require__(/*! ./sprite */ "./src/lib/sprite.ts");
const collision_1 = __webpack_require__(/*! ./collision */ "./src/lib/collision.ts");
const van_1 = __webpack_require__(/*! ../van */ "./src/van.ts");
const controls_1 = __webpack_require__(/*! ./controls */ "./src/lib/controls.ts");
const audio_1 = __webpack_require__(/*! ./audio */ "./src/lib/audio.ts");
const debug_1 = __webpack_require__(/*! ../lib/debug */ "./src/lib/debug.ts");
const prefabs_1 = __webpack_require__(/*! ../game/objects/prefabs */ "./src/game/objects/prefabs.ts");
const math_1 = __webpack_require__(/*! lib/math */ "./src/lib/math.ts");
function applyGravity(ob, grav_const, grav_max) {
    if (ob.gravity && ob.state.velocity.y > grav_max) {
        ob.state.velocity.y += grav_const;
    }
}
exports.applyGravity = applyGravity;
class map_matrix {
    constructor(full_length, square_length) {
        this.internal_map = {};
        this.length = full_length;
        this.square_length = square_length;
    }
    ensure(a) {
        if (!this.internal_map[a.y]) {
            this.internal_map[a.y] = {};
        }
        if (!this.internal_map[a.y][a.x]) {
            this.internal_map[a.y][a.x] = new Map();
        }
        return this.internal_map[a.y][a.x];
    }
    get(a) {
        return this.ensure(a);
    }
    add(a, o) {
        let entry = this.ensure(a);
        entry.set(o.id, o);
        o.proximity_boxes.add(a);
    }
    exists(a) {
        if (!this.internal_map[a.y] || !this.internal_map[a.y][a.x])
            return false;
        return true;
    }
    remove(a, o) {
        let entry = this.internal_map[a.y][a.x];
        entry.delete(o.id);
        o.proximity_boxes.delete(a);
    }
    getObjectsFromBox(a) {
        return this.getObjectsFromCords(this.getCordsFromBox(a));
    }
    getObjectsFromCords(a) {
        let o = new Set();
        for (let v of a) {
            if (this.exists(v)) {
                let keys = this.internal_map[v.y][v.x].keys();
                for (let k of keys) {
                    let j = this.internal_map[v.y][v.x].get(k);
                    o.add(j);
                }
            }
        }
        return Array.from(o);
    }
    getCordsFromBox(a) {
        let bottom_left = math_1.Vec.create(a.x - a.width / 2, a.y - a.height / 2);
        let top_right = math_1.Vec.create(a.x + a.width / 2, a.y + a.height / 2);
        return this.getCordsFromBoundingBox({ bottom_left, top_right });
    }
    getCordsFromBoundingBox(a) {
        let box = a;
        let bot_left = math_1.Vec.scalar_divide(math_1.Vec.scalar_add(box.bottom_left, this.length / 2), this.square_length);
        let top_right = math_1.Vec.scalar_divide(math_1.Vec.scalar_add(box.top_right, this.length / 2), this.square_length);
        bot_left = math_1.Vec.func(bot_left, (a) => Math.max(0, a));
        top_right = math_1.Vec.func(top_right, (a) => Math.min(this.length / this.square_length, a));
        let min = math_1.Vec.func(bot_left, (a) => Math.floor(a));
        let max = math_1.Vec.func(top_right, (a) => Math.ceil(a));
        let totals = math_1.Vec.sub(max, min);
        let all_boxes = [];
        let cord = math_1.Vec.func(math_1.Vec.scalar_divide(math_1.Vec.scalar_add(math_1.Vec.func(box.bottom_left, (a) => Math.max(a, -this.length / 2)), this.length / 2), this.square_length), (a) => Math.floor(a));
        for (let a = 0; a < totals.y; a++) {
            for (let b = 0; b < totals.x; b++) {
                let new_vec = math_1.Vec.add(math_1.Vec.create(b, a), cord);
                new_vec = math_1.Vec.func(new_vec, (a) => Math.floor(a));
                all_boxes.push(new_vec);
            }
        }
        return all_boxes;
    }
    getBoxLocations(o) {
        let box = o.getBoundingBox();
        let cords = this.getCordsFromBoundingBox(box);
        return cords;
    }
}
exports.map_matrix = map_matrix;
class room {
    constructor(game, config) {
        this.objects = [];
        //This object contains particle definitions
        this.particles = {};
        //This array is what actually contains the particles
        //that exists within the room.
        this.particles_arr = [];
        this.binds = [];
        this.audio = new audio_1.audio();
        //These text nodes exists in the actual room space, rather than
        //on the hud layer.
        this.render = true;
        this.text_nodes = [];
        this.proximity_map = new map_matrix(10000, 1000);
        this.cameras = [];
        this.cache_entries = {};
        this.game = game;
        this.config = config;
    }
    exportStateConfig() {
        let config = { objects: [] };
        let filtered = this.objects.filter((obj) => obj.save_to_file && !obj.parent);
        for (let o of filtered) {
            //If an object has a parent object, it's a descendent of a composite object
            //The parent will spawn this object when it's instantiated, so we do
            //not have to save this instance.
            config.objects.push({
                type: o.constructor.name,
                state: {
                    position: math_1.Vec.scalar_add(o.state.position, 0),
                    velocity: math_1.Vec.scalar_add(o.state.velocity, 0),
                    rotation: o.state.rotation,
                    scaling: o.state.scaling
                },
                parameters: o.params
            });
        }
        return config;
    }
    //This handles the loading of all room sprites, and
    //any objects it contains.
    load() {
        let _this = this;
        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {
            let a = new Image();
            let to_await = this.objects.map((a) => a.load());
            yield Promise.all(to_await);
            let p = this.background_url;
            if (van_1.DEBUG) {
                p = debug_1.path.join(debug_1.root_path, this.background_url);
            }
            a.src = p;
            a.onerror = (() => {
                throw new Error("Loading Error:" + this.background_url);
            });
            a.onload = (() => __awaiter(this, void 0, void 0, function* () {
                _this.background = a;
                yield this.audio.load();
                resolve();
            }));
        }));
    }
    initialize() {
    }
    //This is used while loading objects from file, it's used to dynamically load
    //objects from the room's json. If adding items within code, it's better to create
    //new instances of objects through addItem
    addItemStateConfig(config) {
        return __awaiter(this, void 0, void 0, function* () {
            if (prefabs_1.prefabs[config.type]) {
                let new_obj = (new prefabs_1.prefabs[config.type](Object.assign({}, config.state), config.parameters));
                yield this.addItems(new_obj.combinedObjects());
            }
            else {
                console.log("UNKNOWN TYPE ATTEMPTED TO LOAD: " + config.type);
            }
        });
    }
    //Adds the passed item to the room.
    addItem(o, list = this.objects) {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.addItems([...o.combinedObjects()], list);
        });
    }
    //Adds every item in the passed array to the room.
    addItems(o, list = this.objects) {
        return __awaiter(this, void 0, void 0, function* () {
            for (let ob of o) {
                ob.game = this.game;
            }
            yield Promise.all(o.map((a) => a.load()));
            if (list == this.objects) {
                for (let ob of o) {
                    let cords = this.proximity_map.getBoxLocations(ob);
                    for (let cord of cords) {
                        this.proximity_map.add(cord, ob);
                    }
                }
            }
            list.push(...o);
            if (this.game.state.current_room && o.some((o) => o.static)) {
                this.game.redrawStatics();
            }
            if (van_1.DEBUG && list === this.objects) {
                debug_1.debug_update_obj_list();
            }
        });
    }
    //Deletes the item and removes it from the room's object list
    deleteItem(id, list = this.objects) {
        for (let a = 0; a < list.length; a++) {
            if (list[a].id === id) {
                list.splice(a, 1);
                a--;
            }
        }
        if (van_1.DEBUG && list === this.objects) {
            debug_1.debug_update_obj_list();
        }
    }
    //Any particles that are needed in the room should be added to the particle array here.
    registerParticles() {
    }
    //Adds a bind that is executed when the passed key is activated
    //key examples: mouse0down KeyAdown KeyLup
    bindControl(key, x, func, interval = 1) {
        this.binds.push(controls_1.Bind(key, func, x, interval));
    }
    //Checks for objects that have collision at the passed point
    checkCollisionsPoint(pos, exempt, list = this.objects) {
        return this.checkCollisions({ x: pos.x, y: pos.y, height: 0, width: 0 }, exempt, list);
    }
    //Checks for any objects at the passed point
    checkObjectsPoint(pos, exempt, list = this.objects) {
        return this.checkObjects({ x: pos.x, y: pos.y, height: 0, width: 0 }, exempt, list);
    }
    //Checks for collisions at the point that contain every tag within the second argument
    checkCollisionsPointInclusive(pos, tags, list = this.objects) {
        return this.checkCollisionsInclusive({ x: pos.x, y: pos.y, height: 0, width: 0 }, tags, list);
    }
    //Checks for any objects that contain every tag within the second argument
    checkObjectsPointInclusive(pos, tags, list = this.objects) {
        return this.checkObjectsInclusive({ x: pos.x, y: pos.y, height: 0, width: 0 }, tags, list);
    }
    //Checks for collisions in the box that contain the tags in the second argument
    checkCollisionsInclusive(box, tags, list = this.objects) {
        if (van_1.DEBUG) {
            van_1.render_collision_box(box);
        }
        if (list == this.objects) {
            list = this.proximity_map.getObjectsFromBox(box);
        }
        return list.filter(obj => obj.collision && obj.collidesWithBox(box) && tags.every((val) => obj.tags.includes(val)));
    }
    //Checks for any objects in the box that contain all tags in the second argument
    checkObjectsInclusive(box, tags, list = this.objects) {
        if (van_1.DEBUG) {
            van_1.render_collision_box(box);
        }
        if (list == this.objects) {
            list = this.proximity_map.getObjectsFromBox(box);
        }
        return list.filter((obj) => obj.collidesWithBox(box) && tags.every((val) => obj.tags.includes(val)));
    }
    //checks for objects with collision in the box that do not contain the tags in the second argument
    checkCollisions(box, exempt = [], list = this.objects) {
        if (van_1.DEBUG) {
            van_1.render_collision_box(box);
        }
        if (list == this.objects) {
            list = this.proximity_map.getObjectsFromBox(box);
        }
        return list.filter(obj => obj.collision && obj.collidesWithBox(box) && exempt.every((val) => !obj.tags.includes(val)));
    }
    //checks for  any objects in the box that do not contain the tags in the second argument
    checkObjects(box, exempt = [], list = this.objects) {
        if (van_1.DEBUG) {
            van_1.render_collision_box(box);
        }
        if (list == this.objects) {
            list = this.proximity_map.getObjectsFromBox(box);
        }
        return list.filter(obj => obj.collidesWithBox(box) && exempt.every((val) => !obj.tags.includes(val)));
    }
    //This method should be used to call bindControl and create any needed keyBindings
    registerControls() {
    }
    cleanup() {
    }
    cache(key, value) {
        if (!this.cache_entries[key]) {
            this.cache_entries[key] = value;
        }
        return this.cache_entries[key];
    }
    //The room's state updating function.
    statef(time) {
        for (let particle of this.particles_arr) {
            particle.statef(time);
        }
        for (let text_node of this.text_nodes) {
            text_node.statef(time);
        }
        let ticking_objects = this.objects.filter((o) => o.tick_state);
        for (let a = 0; a < ticking_objects.length; a++) {
            //This function checks the velocity of every object, and moves it into it's next location
            //provided that it can fit there.
            collision_1.velocityCollisionCheck(ticking_objects[a], this.objects);
            ticking_objects[a].statef(time);
        }
        for (let cam of this.cameras) {
            if (cam.hud) {
                cam.hud.statef(time);
            }
            cam.statef(time);
        }
    }
    emitParticle(name, pos, lifetime, pos_range) {
        let state = {
            position: math_1.Vec.func(pos, (a) => a + math_1.getRandInt(-pos_range, pos_range)),
            velocity: { x: 0, y: 0 },
            rotation: 0,
            scaling: { width: 1, height: 1 }
        };
        this.addItem(new sprite_1.Particle(this.particles[name], state, lifetime), this.particles_arr);
    }
    getObj(id) {
        for (let a = 0; a < this.objects.length; a++) {
            if (this.objects[a].id == id) {
                return this.objects[a];
            }
        }
        return null;
    }
    //Gets any objects that have the passed tag
    getObjByTag(tag) {
        return this.objects.filter((a) => a.tags.includes(tag));
    }
    //renders the room's sprite
    renderf(time) {
        return {
            sprite_sheet: this.background,
            left: 0,
            top: 0,
            sprite_height: this.background.height,
            sprite_width: this.background.width,
            opacity: 1
        };
    }
}
exports.room = room;
class p2p_room extends room {
    parse_packet(type, data, id) {
    }
}
exports.p2p_room = p2p_room;


/***/ }),

/***/ "./src/lib/sprite.ts":
/*!***************************!*\
  !*** ./src/lib/sprite.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.sprite_gen = exports.Particle = void 0;
const object_1 = __webpack_require__(/*! ./object */ "./src/lib/object.ts");
const math_1 = __webpack_require__(/*! ./math */ "./src/lib/math.ts");
class Particle extends object_1.obj {
    constructor(part, state, lifetime) {
        super(state);
        this.collision = false;
        this.state.position = math_1.Vec.create(this.state.position.x, this.state.position.y);
        this.state.lifetime = 0;
        this.sprite_url = part.sprite;
        this.height = part.height;
        this.width = part.width;
        this.max_lifetime = lifetime;
    }
    statef(time) {
        this.state.lifetime += time;
        if (this.state.lifetime > this.max_lifetime) {
            this.delete();
        }
    }
    delete() {
        let room = this.game.getRoom();
        room.deleteItem(this.id, room.particles_arr);
    }
    renderf(time) {
        if (!this.selected_sprite) {
            let sprites = sprite_gen(this.sprite_sheet, this.width, this.height);
            let random_row = math_1.getRandInt(0, sprites.length);
            let random_col = math_1.getRandInt(0, sprites[random_row].length);
            this.selected_sprite = sprites[random_row][random_col];
        }
        this.selected_sprite.opacity = 1 - this.state.lifetime / this.max_lifetime;
        return {
            x: this.state.position.x,
            y: this.state.position.y,
            sprite: this.selected_sprite
        };
    }
}
exports.Particle = Particle;
function sprite_gen(sprite_sheet, sprite_width, sprite_height) {
    let width = sprite_sheet.width;
    let height = sprite_sheet.height;
    let sprites = [];
    for (let b = 0; b < height; b += sprite_height) {
        sprites.push([]);
        for (let a = 0; a < width; a += sprite_width) {
            sprites[b / sprite_height].push({
                sprite_sheet,
                left: a,
                top: b,
                sprite_height,
                sprite_width,
                opacity: 1
            });
        }
    }
    return sprites;
}
exports.sprite_gen = sprite_gen;


/***/ }),

/***/ "./src/lib/templates/object_template.ts":
/*!**********************************************!*\
  !*** ./src/lib/templates/object_template.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.object_template = void 0;
exports.object_template = `import {obj} from "lib/object";
import { obj_state, Vector } from "lib/state";
import {copy} from "src/van";

export interface template_state extends obj_state{
    
}
    
export interface template_parameters{
    
}
    
export class template extends obj{
  sprite_url = "./sprites/Error.png";
  height = 100;
  width = 100;
  tags:Array<string>;
  collision = true;
  render = true;
  state:template_state;
  params:template_parameters;
  static default_params:template_parameters = {}
  constructor(state:obj_state,params:template_parameters = copy(template.default_params)){
    super(state,params);
  }
  statef(time_delta:number){
    super.statef(time_delta);
  }
  renderf(time_delta:number){
   return super.renderf(time_delta); 
  }
  register_animations(){
    
  }
  register_audio(){
    
  }
  register_controls(){
        
  }
}`;


/***/ }),

/***/ "./src/lib/templates/room_template.ts":
/*!********************************************!*\
  !*** ./src/lib/templates/room_template.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.room_template = void 0;
exports.room_template = `import { room } from "lib/room";
import { game } from "src/van";
import { state_config } from "lib/room";
import * as config from "./template.json";
let cfig = config as unknown as state_config;
interface template_state {

}

export class template extends room<template_state>{
  background_url = "./sprites/Error.png";
  render = true;
  constructor(game: game<unknown>) {
    super(game, cfig);
  }
  registerControls() {

  }
  registerParticles() {

  }
  statef(delta_time: number) {
    super.statef(delta_time);
  }

}`;


/***/ }),

/***/ "./src/van.ts":
/*!********************!*\
  !*** ./src/van.ts ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.peer_to_peer_game = exports.peer_connection = exports.game = exports.objects = exports.rooms = exports.copy = exports.render_line = exports.render_collision_box = exports.setPaused = exports.setDebug = exports.viewport = exports.GetViewportDimensions = exports.GetScreenDimensions = exports.PAUSED = exports.DEBUG = void 0;
exports.DEBUG = 'production' === 'dev';
exports.PAUSED = 'production' === 'dev';
const render_1 = __webpack_require__(/*! ./lib/render */ "./src/lib/render.ts");
const controls_1 = __webpack_require__(/*! ./lib/controls */ "./src/lib/controls.ts");
const debug_1 = __webpack_require__(/*! ./lib/debug */ "./src/lib/debug.ts");
const rooms_1 = __webpack_require__(/*! ./game/rooms/rooms */ "./src/game/rooms/rooms.ts");
const peerjs_1 = __importDefault(__webpack_require__(/*! peerjs */ "./node_modules/peerjs/dist/peerjs.min.js"));
let canvas_element = document.getElementById("target");
let context = canvas_element.getContext("2d");
let screen_width = window.innerWidth;
let screen_height = window.innerHeight;
//How often the game logic loop should run, in milliseconds
let logic_loop_interval = 1000 / 60;
let last_time = new Date();
let last_render_time = 0;
function GetScreenDimensions() {
    return ({
        width: screen_width,
        height: screen_height
    });
}
exports.GetScreenDimensions = GetScreenDimensions;
function GetViewportDimensions() {
    return ({
        height: canvas_element.height,
        width: canvas_element.width
    });
}
exports.GetViewportDimensions = GetViewportDimensions;
exports.viewport = {
    height: GetViewportDimensions().height,
    width: GetViewportDimensions().width
};
window.onresize = () => {
    exports.viewport.height = GetViewportDimensions().height;
    exports.viewport.width = GetViewportDimensions().width;
};
function setDebug(x) {
    exports.DEBUG = x;
}
exports.setDebug = setDebug;
function setPaused(x) {
    exports.PAUSED = x;
}
exports.setPaused = setPaused;
exports.render_collision_box = (a) => {
    boxes.push(a);
};
let lines = [];
exports.render_line = (a) => {
    lines.push(a);
};
let boxes = [];
exports.copy = (a) => {
    return JSON.parse(JSON.stringify(a));
};
exports.rooms = [];
class game {
    constructor(ctx, init_state) {
        this.prototypes = [];
        this.rooms = [];
        this.isRendering = false;
        this.state = {
            canvases: [canvas_element],
            logic: undefined,
            context: ctx,
            cameras: [],
            current_room: undefined,
            globals: init_state
        };
        this.offscreen_canvas = document.createElement("canvas");
        this.offscreen_context = this.offscreen_canvas.getContext("2d");
        this.static_canvas = document.createElement("canvas");
        this.static_context = this.static_canvas.getContext("2d");
        //DEBUG determines whether the game is running within the editor
        if (exports.DEBUG) {
            //Sets up some global debug state and the editor keybindings
            debug_1.debug_setup();
            this.state.canvases.push(debug_1.debug_state.target);
            //Initializes a separate logic loop solely for the editor
            //This separation allows for the editor to interact with the environment while
            //the actual room's state loop is paused.
            setInterval(() => {
                if (this.getRoom()) {
                    //This functions handles the editor interactions with the game environment
                    debug_1.debug_statef(16.66);
                }
            }, 16.66);
        }
        //Creates a onclick function on the window that handles element onclick functions
        //init_click_handler(this);
    }
    render(t) {
        //t is current render time
        let delta_time = t - last_render_time;
        last_render_time = t;
        let all_cameras = [...this.state.cameras, ...this.state.current_room.cameras];
        let editor_camera_index = -1;
        if (exports.DEBUG) {
            debug_1.debug_state.render_delta_time = delta_time;
            all_cameras = [...all_cameras, debug_1.debug_state.camera];
            editor_camera_index = all_cameras.length - 1;
            if (all_cameras.length === 1) {
                this.state.context.fillStyle = "white";
                this.state.context.font = "50px Arial";
                this.state.context.textAlign = "center";
                this.state.context.fillText("NO CAMERA", exports.viewport.width / 2, exports.viewport.height / 2);
            }
            //The editor camera is always the last camera inside the cameras array
            //the editor camera is rendered to a different canvas than the main game canvas
            //so we use the camera's index to check what canvas to render to
        }
        for (let a = 0; a < all_cameras.length; a++) {
            let camera = all_cameras[a];
            //We render the cameras contents to an offscreen canvas, then copy its contents
            //to the main canvas.
            //This allows us to avoid any math needed to determine sprites that are partially offscreen
            //as any offscreen sections of the sprites will not be copied over, rather than explicitly 
            //calculating the cutoffs
            this.offscreen_canvas.height = camera.state.dimensions.height;
            this.offscreen_canvas.width = camera.state.dimensions.width;
            this.offscreen_context.clearRect(0, 0, camera.state.dimensions.width, camera.state.dimensions.height);
            this.offscreen_context.fillStyle = "black";
            this.offscreen_context.fillRect(0, 0, camera.state.dimensions.width, camera.state.dimensions.height);
            //This collision box represents the camera's field of view in the game space
            //We use the room's checkObjects function to find any object that exists within this area
            //These objects are the objects that need to be rendered for this camera
            let camera_box = {
                x: camera.state.position.x,
                y: camera.state.position.y,
                width: camera.state.dimensions.width * (1 / camera.state.scaling),
                height: camera.state.dimensions.height * (1 / camera.state.scaling)
            };
            let room = this.state.current_room;
            //List of all particles within the camera's fov
            let cords = room.proximity_map.getCordsFromBox(camera_box);
            let to_check = room.proximity_map.getObjectsFromCords(cords);
            let particle_collides = this.state.current_room.checkObjects(camera_box, [], this.state.current_room.particles_arr);
            //List of all objects within the camera's fov
            let camera_colliders = [...this.state.current_room.checkObjects(camera_box, [], to_check), ...particle_collides];
            let render_args = {
                context: this.offscreen_context,
                camera: camera,
            };
            //Renders the room's background.
            if (this.state.current_room.render) {
                render_1.sprite_renderer(render_args, {
                    sprite: this.state.current_room.renderf(delta_time),
                    x: 0,
                    y: 0,
                    rotation: 0,
                    scale: {
                        width: 1,
                        height: 1
                    },
                    scale_type: render_1.scale_type.grow
                });
            }
            render_1.canvas_renderer(render_args, {
                canvas: this.static_canvas,
                width: this.state.current_room.proximity_map.length,
                height: this.state.current_room.proximity_map.length,
                x: 0,
                y: 0,
                scale: { width: 1, height: 1 }
            });
            //Array of hitboxes for each item in the room
            let hitboxes = [];
            camera_colliders = camera_colliders.filter((b) => b.render && !b.static).sort((a, b) => (a.layer - b.layer));
            for (let a of camera_colliders) {
                let rendered = a.renderTrack(t);
                //Objects can return either a sprite, or an array of sprites to simplify the API
                //For the user, and for use in composite objects(object that bundles other objects together)
                //Internally, we convert any single sprite into an array of one sprite.
                for (let positioned_sprite of rendered) {
                    render_1.sprite_renderer(render_args, {
                        sprite: positioned_sprite.sprite,
                        x: positioned_sprite.x,
                        y: positioned_sprite.y,
                        rotation: a.state.rotation,
                        scale: a.state.scaling,
                        scale_type: a.scale_type
                    });
                }
                for (let node of a.text_nodes) {
                    render_1.text_renderer(render_args, {
                        x: node.state.position.x,
                        y: node.state.position.y,
                        font: node.renderf(t)
                    });
                }
                //Hitboxes are rendered late in the render loop, to ensure objects don't overlap them
                //As we render objects, we add their hitboxes to this list
                if (exports.DEBUG && a.collision) {
                    hitboxes.push(...a.getAllCollisionBoxes());
                }
            }
            //This is a special class of object that exists in the game world
            for (let node of this.state.current_room.text_nodes) {
                render_1.text_renderer(render_args, {
                    x: node.state.position.x,
                    y: node.state.position.y,
                    font: node.renderf(t)
                });
            }
            if (camera.hud) {
                let graphics = camera.hud.graphic_elements;
                let text_elements = camera.hud.text_elements;
                //Renders static graphics that are a part of the hud
                for (let graphic of graphics) {
                    let rendered = graphic.renderTrack(t);
                    if (graphic.render) {
                        for (let positioned_sprite of rendered) {
                            render_1.sprite_renderer(render_args, {
                                sprite: positioned_sprite.sprite,
                                x: positioned_sprite.x,
                                y: positioned_sprite.y,
                                rotation: graphic.state.rotation,
                                scale: graphic.state.scaling,
                                scale_type: graphic.scale_type
                            });
                        }
                    }
                }
                for (let text of text_elements) {
                    render_1.hud_text_renderer(render_args, {
                        x: text.state.position.x,
                        y: text.state.position.y,
                        font: text.renderf(t)
                    });
                }
            }
            //If a camera is marked as a debug camera, we render the
            //  hitboxes, and potentially update the editor
            if (camera.state.debug) {
                let box;
                let boxes_copy = [...boxes];
                let lines_copy = [...lines];
                while (lines_copy.length > 0) {
                    let line = lines_copy.pop();
                    render_1.line_renderer(this.offscreen_context, line, "orange", 10, camera);
                }
                while (boxes_copy.length > 0) {
                    let box = boxes_copy.pop();
                    let rect = {
                        width: box.width,
                        height: box.height
                    };
                    render_1.stroked_rect_renderer(this.offscreen_context, rect, box.x, box.y, "#FF0000", 1, camera);
                }
                while (hitboxes.length > 0) {
                    let box = hitboxes.pop();
                    let rect = {
                        width: box.width,
                        height: box.height
                    };
                    render_1.stroked_rect_renderer(this.offscreen_context, rect, box.x, box.y, "#008000", 1, camera);
                }
                //Draws a special box around the currently selected element
                //inside the editor UI
                if (exports.DEBUG && debug_1.debug_state.selected_properties_element) {
                    let coll = debug_1.debug_state.selected_properties_element.getFullCollisionBox();
                    render_1.rect_renderer(this.offscreen_context, { width: 5, height: 5 }, coll.x, coll.y, "skyblue", 10, camera);
                    render_1.stroked_rect_renderer(this.offscreen_context, coll, coll.x, coll.y, "blue", 1, camera);
                }
                render_1.stroked_rect_renderer(this.offscreen_context, { width: this.state.current_room.proximity_map.length, height: this.state.current_room.proximity_map.length }, 0, 0, "purple", 10, camera);
            }
            //Separate canvas for the editor camera
            if (a !== editor_camera_index) {
                this.state.context.drawImage(this.offscreen_canvas, camera.state.viewport.x, camera.state.viewport.y);
            }
            else {
                debug_1.debug_state.target.getContext("2d").drawImage(this.offscreen_canvas, camera.state.viewport.x, camera.state.viewport.y);
            }
        }
        if (exports.DEBUG) {
            boxes = [];
            lines = [];
        }
        requestAnimationFrame((a) => {
            if (this.isRendering)
                this.render(a);
        });
    }
    start_logic(a) {
        //this is the room's state loop
        return window.setInterval(() => {
            let new_time = new Date();
            if (!exports.PAUSED) {
                let time_since = new_time.getTime() - last_time.getTime();
                let room = this.state.current_room;
                if (room) {
                    room.statef(time_since);
                    if (this.state.cameras) {
                        for (let cameras of this.state.cameras) {
                            if (cameras.hud) {
                                cameras.hud.statef(time_since);
                            }
                        }
                    }
                }
            }
            last_time = new_time;
            //This functions handles binds that occur on an interval
            controls_1.ExecuteRepeatBinds(a);
        }, a);
    }
    getRoom() {
        return this.state.current_room;
    }
    loadRoomString(x) {
        return __awaiter(this, void 0, void 0, function* () {
            //room list is a object that contains each room's class,
            //with the room's name as the key for class
            //This object is populated at compile time
            let loaded_room = false;
            for (let a of Object.keys(rooms_1.rooms)) {
                if (a == x) {
                    //this isn't particularly type-safe.
                    let new_room = new rooms_1.rooms[a](this);
                    yield this.loadRoom(new_room);
                    return;
                }
            }
            throw new Error("Attempted to load non-existing room.");
        });
    }
    redrawStatics() {
        let room_length = this.state.current_room.proximity_map.length;
        let statics = this.state.current_room.objects.filter(u => u.static);
        this.static_canvas.width = room_length;
        this.static_canvas.height = room_length;
        this.static_context.clearRect(0, 0, room_length, room_length);
        let static_cam = new render_1.Camera({
            x: 0,
            y: 0,
            dimensions: { height: room_length, width: room_length },
            scaling: 1,
            debug: false
        }, {
            x: 0,
            y: 0,
            width: 1,
            height: 1
        });
        statics.forEach((u) => {
            let rendered = u.renderTrack(u.last_render);
            for (let r of rendered) {
                render_1.sprite_renderer({
                    context: this.static_context,
                    camera: static_cam
                }, {
                    sprite: r.sprite,
                    x: r.x,
                    y: r.y,
                    rotation: u.state.rotation,
                    scale: u.state.scaling,
                    scale_type: u.scale_type
                });
            }
        });
    }
    loadRoom(x) {
        return __awaiter(this, void 0, void 0, function* () {
            //Clears the room's logic loop if one
            //Was already running
            this.isRendering = false;
            if (this.state.logic) {
                window.clearInterval(this.state.logic);
            }
            //This reference is used during initialization
            x.game = this;
            //Deletes each object in the room (which also unbinds their binds),
            //and unbinds the room's bindings.
            if (this.state.current_room !== undefined) {
                while (this.state.current_room.objects.length > 0) {
                    this.state.current_room.objects[0].delete();
                }
                for (let id of this.state.current_room.binds) {
                    controls_1.Unbind(id);
                }
            }
            yield x.load();
            for (let c of x.config.objects) {
                //This handles loading objects from the saved json file associated with each room.
                yield x.addItemStateConfig(c);
            }
            x.registerControls();
            x.registerParticles();
            this.state.current_room = x;
            this.state.current_room.initialize();
            this.redrawStatics();
            this.state.logic = this.start_logic(logic_loop_interval);
            if (exports.DEBUG) {
                debug_1.debug_update_room_list();
                debug_1.debug_update_prefabs();
                debug_1.debug_update_obj_list();
            }
            if (!this.isRendering) {
                this.isRendering = true;
                //This starts the render loop for the room
                this.render(0);
            }
        });
    }
}
exports.game = game;
var peer_connection;
(function (peer_connection) {
    peer_connection[peer_connection["child"] = 0] = "child";
    peer_connection[peer_connection["host"] = 1] = "host";
})(peer_connection = exports.peer_connection || (exports.peer_connection = {}));
class peer_to_peer_game extends game {
    constructor(ctx, init_state) {
        super(ctx, init_state);
        this.hosting_connections = [];
        this.hosting_peer = new peerjs_1.default();
    }
    connect(id) {
        const conn = this.hosting_peer.connect(id);
        this.peer_host = conn;
        this.type = peer_connection.child;
        conn.on("open", () => {
            conn.send(JSON.stringify({ type: "connection", recieved: "success" }));
        });
        conn.on("data", (data) => {
            let { type, recieved } = JSON.parse(data);
            this.recieve_from_host(type, recieved);
        });
    }
    host() {
        this.type = peer_connection.host;
        this.hosting_peer.on("connection", (connection) => {
            this.hosting_connections.push(connection);
            let id = this.hosting_connections.length - 1;
            connection.on("data", (data) => {
                let { type, recieved } = JSON.parse(data);
                this.recieve_from_peer(id, type, recieved);
            });
        });
    }
    send_to_peer(id, type, data) {
        this.hosting_connections[id].send(JSON.stringify({ type, data }));
    }
    send_to_all_peers(type, data) {
        for (let conn of this.hosting_connections) {
            conn.send(JSON.stringify({ type, recieved: data }));
        }
    }
    send_to_host(type, data) {
        this.peer_host.send(JSON.stringify({ type, recieved: data }));
    }
    recieve_from_peer(id, type, data) {
        this.state.current_room.parse_packet(type, data, id);
    }
    recieve_from_host(type, data) {
        switch (type) {
            case "change_room":
                this.loadRoomString(data);
        }
        if (this.state.current_room) {
            this.state.current_room.parse_packet(type, data, undefined);
        }
    }
    loadRoomString(x) {
        const _super = Object.create(null, {
            loadRoomString: { get: () => super.loadRoomString }
        });
        return __awaiter(this, void 0, void 0, function* () {
            this.send_to_all_peers("change_room", x);
            let result = yield _super.loadRoomString.call(this, x);
            if (this.type == peer_connection.child) {
                this.send_to_host("finished_change_room", "success");
            }
            return result;
        });
    }
}
exports.peer_to_peer_game = peer_to_peer_game;


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BlZXJqcy9kaXN0IHN5bmMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BlZXJqcy9kaXN0L3BlZXJqcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9vYmplY3RzL0NvbnRyb2xsZWRQbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9DdXJzb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9Hb29tYmEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9HdW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9WZXJ0Qm94LnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL29iamVjdHMvYWJzdHJhY3QvcGxhdGZvcm1lcl9vYmoudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9ib3gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9idWxsZXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9jYXB0dXJlX2FyZWEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9wbGFjZWhvbGRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9vYmplY3RzL3ByZWZhYnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvb2JqZWN0cy9wcm9ncmVzc19iYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvcm9vbXMvT3ZlcndvcmxkLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL3Jvb21zL2xvYWRpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvcm9vbXMvcm9vbXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9hdWRpby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvZGVidWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9odWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9tYXRoLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvb2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvcmVuZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvcm9vbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Nwcml0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3RlbXBsYXRlcy9vYmplY3RfdGVtcGxhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi90ZW1wbGF0ZXMvcm9vbV90ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmFuLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFD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QUM7Z0JBQzNCLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDN0I7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQztZQUNoRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDO2dCQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzdCO1FBQ0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzdCLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7WUFDdkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQztZQUFBLENBQUM7WUFDakUsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzNCO1NBQ0Y7YUFDSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQztZQUN0QyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxD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QztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQztZQUNsQixFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMs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QUksTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ25ELENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ25DLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ25DLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDcEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQ3ZFO1NBQ0k7UUFDSCxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDckQ7QUFDSCxDQUFDO0FBRVkscUJBQWEsR0FBRyxDQUFDLENBQWUsRUFBQyxDQUFhLEVBQUUsRUFBRTtJQUM3RCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3RCLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUM7SUFDL0MsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxSSxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzNJLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDbkMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLO0lBQ2xDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDakIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDcEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQ3pEO1NBQ0k7UUFDSCxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDdkM7SUFDRCxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3RCLENBQUM7QUFTWSx1QkFBZSxHQUFHLENBQUMsQ0FBZSxFQUFDLENBQWEsRUFBRSxFQUFFO0lBQy9ELElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDdEIsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUM7SUFDeEUsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4SyxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyTCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMs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LEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQ3BFLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvSSxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRTFKLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMzSSxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMs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QUFJLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUNELGlCQUFpQixDQUFDLEVBQVMsRUFBQyxJQUFXLEVBQUMsSUFBVztRQUNoRCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQXlCLENBQUMsWUFBWSxDQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUNELGlCQUFpQixDQUFDLElBQVcsRUFBQyxJQUFXO1FBQ3ZDLFFBQU8sSUFBSSxFQUFDO1lBQ1YsS0FBSyxhQUFhO2dCQUNoQixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQztTQUM1QjtRQUNELElBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUM7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUF5QixDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ3pFO0lBQ0gsQ0FBQztJQUNLLGNBQWMsQ0FBQyxDQUFROzs7OztZQUMzQixJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLElBQUksTUFBTSxHQUFHLE1BQU0sT0FBTSxjQUFjLFlBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0MsSUFBRyxJQUFJLENBQUMsSUFBSSxJQUFJLGVBQWUsQ0FBQyxLQUFLLEVBQUM7Z0JBQ3BDLElBQUksQ0FBQyxZQUFZLENBQUMsc0JBQXNCLEVBQUMsU0FBUyxDQUFDLENBQUM7YUFDckQ7WUFDRCxPQUFPLE1BQU0sQ0FBQztRQUNoQixDQUFDO0tBQUE7Q0FDRjtBQS9ERCw4Q0ErREMiLCJmaWxlIjoidmFuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvZ2FtZS9tYWluLnRzXCIpO1xuIiwiZnVuY3Rpb24gd2VicGFja0VtcHR5Q29udGV4dChyZXEpIHtcblx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdHRocm93IGU7XG59XG53ZWJwYWNrRW1wdHlDb250ZXh0LmtleXMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIFtdOyB9O1xud2VicGFja0VtcHR5Q29udGV4dC5yZXNvbHZlID0gd2VicGFja0VtcHR5Q29udGV4dDtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0VtcHR5Q29udGV4dDtcbndlYnBhY2tFbXB0eUNvbnRleHQuaWQgPSBcIi4vbm9kZV9tb2R1bGVzL3BlZXJqcy9kaXN0IHN5bmMgcmVjdXJzaXZlXCI7IiwicGFyY2VsUmVxdWlyZT1mdW5jdGlvbihlLHIsdCxuKXt2YXIgaSxvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHBhcmNlbFJlcXVpcmUmJnBhcmNlbFJlcXVpcmUsdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2Z1bmN0aW9uIGYodCxuKXtpZighclt0XSl7aWYoIWVbdF0pe3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIHBhcmNlbFJlcXVpcmUmJnBhcmNlbFJlcXVpcmU7aWYoIW4mJmkpcmV0dXJuIGkodCwhMCk7aWYobylyZXR1cm4gbyh0LCEwKTtpZih1JiZcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdSh0KTt2YXIgYz1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3QrXCInXCIpO3Rocm93IGMuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixjfXAucmVzb2x2ZT1mdW5jdGlvbihyKXtyZXR1cm4gZVt0XVsxXVtyXXx8cn0scC5jYWNoZT17fTt2YXIgbD1yW3RdPW5ldyBmLk1vZHVsZSh0KTtlW3RdWzBdLmNhbGwobC5leHBvcnRzLHAsbCxsLmV4cG9ydHMsdGhpcyl9cmV0dXJuIHJbdF0uZXhwb3J0cztmdW5jdGlvbiBwKGUpe3JldHVybiBmKHAucmVzb2x2ZShlKSl9fWYuaXNQYXJjZWxSZXF1aXJlPSEwLGYuTW9kdWxlPWZ1bmN0aW9uKGUpe3RoaXMuaWQ9ZSx0aGlzLmJ1bmRsZT1mLHRoaXMuZXhwb3J0cz17fX0sZi5tb2R1bGVzPWUsZi5jYWNoZT1yLGYucGFyZW50PW8sZi5yZWdpc3Rlcj1mdW5jdGlvbihyLHQpe2Vbcl09W2Z1bmN0aW9uKGUscil7ci5leHBvcnRzPXR9LHt9XX07Zm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspdHJ5e2YodFtjXSl9Y2F0Y2goZSl7aXx8KGk9ZSl9aWYodC5sZW5ndGgpe3ZhciBsPWYodFt0Lmxlbmd0aC0xXSk7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9bDpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KTpuJiYodGhpc1tuXT1sKX1pZihwYXJjZWxSZXF1aXJlPWYsaSl0aHJvdyBpO3JldHVybiBmfSh7XCJFZ0JoXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcbnZhciBlPXt9O2UudXNlQmxvYkJ1aWxkZXI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBCbG9iKFtdKSwhMX1jYXRjaChlKXtyZXR1cm4hMH19KCksZS51c2VBcnJheUJ1ZmZlclZpZXc9IWUudXNlQmxvYkJ1aWxkZXImJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiAwPT09bmV3IEJsb2IoW25ldyBVaW50OEFycmF5KFtdKV0pLnNpemV9Y2F0Y2goZSl7cmV0dXJuITB9fSgpLG1vZHVsZS5leHBvcnRzLmJpbmFyeUZlYXR1cmVzPWU7dmFyIHI9bW9kdWxlLmV4cG9ydHMuQmxvYkJ1aWxkZXI7ZnVuY3Rpb24gdCgpe3RoaXMuX3BpZWNlcz1bXSx0aGlzLl9wYXJ0cz1bXX1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYocj1tb2R1bGUuZXhwb3J0cy5CbG9iQnVpbGRlcj13aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcnx8d2luZG93Lk1TQmxvYkJ1aWxkZXJ8fHdpbmRvdy5CbG9iQnVpbGRlciksdC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUpe1wibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMuX3BpZWNlcy5wdXNoKGUpOih0aGlzLmZsdXNoKCksdGhpcy5fcGFydHMucHVzaChlKSl9LHQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7aWYodGhpcy5fcGllY2VzLmxlbmd0aD4wKXt2YXIgcj1uZXcgVWludDhBcnJheSh0aGlzLl9waWVjZXMpO2UudXNlQXJyYXlCdWZmZXJWaWV3fHwocj1yLmJ1ZmZlciksdGhpcy5fcGFydHMucHVzaChyKSx0aGlzLl9waWVjZXM9W119fSx0LnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXtpZih0aGlzLmZsdXNoKCksZS51c2VCbG9iQnVpbGRlcil7Zm9yKHZhciB0PW5ldyByLGk9MCx1PXRoaXMuX3BhcnRzLmxlbmd0aDtpPHU7aSsrKXQuYXBwZW5kKHRoaXMuX3BhcnRzW2ldKTtyZXR1cm4gdC5nZXRCbG9iKCl9cmV0dXJuIG5ldyBCbG9iKHRoaXMuX3BhcnRzKX0sbW9kdWxlLmV4cG9ydHMuQnVmZmVyQnVpbGRlcj10O1xufSx7fV0sXCJrZFBwXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcbnZhciB0PXJlcXVpcmUoXCIuL2J1ZmZlcmJ1aWxkZXJcIikuQnVmZmVyQnVpbGRlcixlPXJlcXVpcmUoXCIuL2J1ZmZlcmJ1aWxkZXJcIikuYmluYXJ5RmVhdHVyZXMsaT17dW5wYWNrOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0KS51bnBhY2soKX0scGFjazpmdW5jdGlvbih0KXt2YXIgZT1uZXcgbjtyZXR1cm4gZS5wYWNrKHQpLGUuZ2V0QnVmZmVyKCl9fTtmdW5jdGlvbiByKHQpe3RoaXMuaW5kZXg9MCx0aGlzLmRhdGFCdWZmZXI9dCx0aGlzLmRhdGFWaWV3PW5ldyBVaW50OEFycmF5KHRoaXMuZGF0YUJ1ZmZlciksdGhpcy5sZW5ndGg9dGhpcy5kYXRhQnVmZmVyLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gbigpe3RoaXMuYnVmZmVyQnVpbGRlcj1uZXcgdH1mdW5jdGlvbiB1KHQpe3ZhciBlPXQuY2hhckNvZGVBdCgwKTtyZXR1cm4gZTw9MjA0Nz9cIjAwXCI6ZTw9NjU1MzU/XCIwMDBcIjplPD0yMDk3MTUxP1wiMDAwMFwiOmU8PTY3MTA4ODYzP1wiMDAwMDBcIjpcIjAwMDAwMFwifWZ1bmN0aW9uIGEodCl7cmV0dXJuIHQubGVuZ3RoPjYwMD9uZXcgQmxvYihbdF0pLnNpemU6dC5yZXBsYWNlKC9bXlxcdTAwMDAtXFx1MDA3Rl0vZyx1KS5sZW5ndGh9bW9kdWxlLmV4cG9ydHM9aSxyLnByb3RvdHlwZS51bnBhY2s9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMudW5wYWNrX3VpbnQ4KCk7aWYoZTwxMjgpcmV0dXJuIGU7aWYoKDIyNF5lKTwzMilyZXR1cm4oMjI0XmUpLTMyO2lmKCh0PTE2MF5lKTw9MTUpcmV0dXJuIHRoaXMudW5wYWNrX3Jhdyh0KTtpZigodD0xNzZeZSk8PTE1KXJldHVybiB0aGlzLnVucGFja19zdHJpbmcodCk7aWYoKHQ9MTQ0XmUpPD0xNSlyZXR1cm4gdGhpcy51bnBhY2tfYXJyYXkodCk7aWYoKHQ9MTI4XmUpPD0xNSlyZXR1cm4gdGhpcy51bnBhY2tfbWFwKHQpO3N3aXRjaChlKXtjYXNlIDE5MjpyZXR1cm4gbnVsbDtjYXNlIDE5MzpyZXR1cm47Y2FzZSAxOTQ6cmV0dXJuITE7Y2FzZSAxOTU6cmV0dXJuITA7Y2FzZSAyMDI6cmV0dXJuIHRoaXMudW5wYWNrX2Zsb2F0KCk7Y2FzZSAyMDM6cmV0dXJuIHRoaXMudW5wYWNrX2RvdWJsZSgpO2Nhc2UgMjA0OnJldHVybiB0aGlzLnVucGFja191aW50OCgpO2Nhc2UgMjA1OnJldHVybiB0aGlzLnVucGFja191aW50MTYoKTtjYXNlIDIwNjpyZXR1cm4gdGhpcy51bnBhY2tfdWludDMyKCk7Y2FzZSAyMDc6cmV0dXJuIHRoaXMudW5wYWNrX3VpbnQ2NCgpO2Nhc2UgMjA4OnJldHVybiB0aGlzLnVucGFja19pbnQ4KCk7Y2FzZSAyMDk6cmV0dXJuIHRoaXMudW5wYWNrX2ludDE2KCk7Y2FzZSAyMTA6cmV0dXJuIHRoaXMudW5wYWNrX2ludDMyKCk7Y2FzZSAyMTE6cmV0dXJuIHRoaXMudW5wYWNrX2ludDY0KCk7Y2FzZSAyMTI6Y2FzZSAyMTM6Y2FzZSAyMTQ6Y2FzZSAyMTU6cmV0dXJuO2Nhc2UgMjE2OnJldHVybiB0PXRoaXMudW5wYWNrX3VpbnQxNigpLHRoaXMudW5wYWNrX3N0cmluZyh0KTtjYXNlIDIxNzpyZXR1cm4gdD10aGlzLnVucGFja191aW50MzIoKSx0aGlzLnVucGFja19zdHJpbmcodCk7Y2FzZSAyMTg6cmV0dXJuIHQ9dGhpcy51bnBhY2tfdWludDE2KCksdGhpcy51bnBhY2tfcmF3KHQpO2Nhc2UgMjE5OnJldHVybiB0PXRoaXMudW5wYWNrX3VpbnQzMigpLHRoaXMudW5wYWNrX3Jhdyh0KTtjYXNlIDIyMDpyZXR1cm4gdD10aGlzLnVucGFja191aW50MTYoKSx0aGlzLnVucGFja19hcnJheSh0KTtjYXNlIDIyMTpyZXR1cm4gdD10aGlzLnVucGFja191aW50MzIoKSx0aGlzLnVucGFja19hcnJheSh0KTtjYXNlIDIyMjpyZXR1cm4gdD10aGlzLnVucGFja191aW50MTYoKSx0aGlzLnVucGFja19tYXAodCk7Y2FzZSAyMjM6cmV0dXJuIHQ9dGhpcy51bnBhY2tfdWludDMyKCksdGhpcy51bnBhY2tfbWFwKHQpfX0sci5wcm90b3R5cGUudW5wYWNrX3VpbnQ4PWZ1bmN0aW9uKCl7dmFyIHQ9MjU1JnRoaXMuZGF0YVZpZXdbdGhpcy5pbmRleF07cmV0dXJuIHRoaXMuaW5kZXgrKyx0fSxyLnByb3RvdHlwZS51bnBhY2tfdWludDE2PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkKDIpLGU9MjU2KigyNTUmdFswXSkrKDI1NSZ0WzFdKTtyZXR1cm4gdGhpcy5pbmRleCs9MixlfSxyLnByb3RvdHlwZS51bnBhY2tfdWludDMyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkKDQpLGU9MjU2KigyNTYqKDI1Nip0WzBdK3RbMV0pK3RbMl0pK3RbM107cmV0dXJuIHRoaXMuaW5kZXgrPTQsZX0sci5wcm90b3R5cGUudW5wYWNrX3VpbnQ2ND1mdW5jdGlvbigpe3ZhciB0PXRoaXMucmVhZCg4KSxlPTI1NiooMjU2KigyNTYqKDI1NiooMjU2KigyNTYqKDI1Nip0WzBdK3RbMV0pK3RbMl0pK3RbM10pK3RbNF0pK3RbNV0pK3RbNl0pK3RbN107cmV0dXJuIHRoaXMuaW5kZXgrPTgsZX0sci5wcm90b3R5cGUudW5wYWNrX2ludDg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGFja191aW50OCgpO3JldHVybiB0PDEyOD90OnQtMjU2fSxyLnByb3RvdHlwZS51bnBhY2tfaW50MTY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVucGFja191aW50MTYoKTtyZXR1cm4gdDwzMjc2OD90OnQtNjU1MzZ9LHIucHJvdG90eXBlLnVucGFja19pbnQzMj1mdW5jdGlvbigpe3ZhciB0PXRoaXMudW5wYWNrX3VpbnQzMigpO3JldHVybiB0PE1hdGgucG93KDIsMzEpP3Q6dC1NYXRoLnBvdygyLDMyKX0sci5wcm90b3R5cGUudW5wYWNrX2ludDY0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51bnBhY2tfdWludDY0KCk7cmV0dXJuIHQ8TWF0aC5wb3coMiw2Myk/dDp0LU1hdGgucG93KDIsNjQpfSxyLnByb3RvdHlwZS51bnBhY2tfcmF3PWZ1bmN0aW9uKHQpe2lmKHRoaXMubGVuZ3RoPHRoaXMuaW5kZXgrdCl0aHJvdyBuZXcgRXJyb3IoXCJCaW5hcnlQYWNrRmFpbHVyZTogaW5kZXggaXMgb3V0IG9mIHJhbmdlIFwiK3RoaXMuaW5kZXgrXCIgXCIrdCtcIiBcIit0aGlzLmxlbmd0aCk7dmFyIGU9dGhpcy5kYXRhQnVmZmVyLnNsaWNlKHRoaXMuaW5kZXgsdGhpcy5pbmRleCt0KTtyZXR1cm4gdGhpcy5pbmRleCs9dCxlfSxyLnByb3RvdHlwZS51bnBhY2tfc3RyaW5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLHI9dGhpcy5yZWFkKHQpLG49MCx1PVwiXCI7bjx0OykoZT1yW25dKTwxMjg/KHUrPVN0cmluZy5mcm9tQ2hhckNvZGUoZSksbisrKTooMTkyXmUpPDMyPyhpPSgxOTJeZSk8PDZ8NjMmcltuKzFdLHUrPVN0cmluZy5mcm9tQ2hhckNvZGUoaSksbis9Mik6KGk9KDE1JmUpPDwxMnwoNjMmcltuKzFdKTw8Nnw2MyZyW24rMl0sdSs9U3RyaW5nLmZyb21DaGFyQ29kZShpKSxuKz0zKTtyZXR1cm4gdGhpcy5pbmRleCs9dCx1fSxyLnByb3RvdHlwZS51bnBhY2tfYXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPXRoaXMudW5wYWNrKCk7cmV0dXJuIGV9LHIucHJvdG90eXBlLnVucGFja19tYXA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LGk9MDtpPHQ7aSsrKXt2YXIgcj10aGlzLnVucGFjaygpLG49dGhpcy51bnBhY2soKTtlW3JdPW59cmV0dXJuIGV9LHIucHJvdG90eXBlLnVucGFja19mbG9hdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMudW5wYWNrX3VpbnQzMigpLGU9KHQ+PjIzJjI1NSktMTI3O3JldHVybigwPT09dD4+MzE/MTotMSkqKDgzODg2MDcmdHw4Mzg4NjA4KSpNYXRoLnBvdygyLGUtMjMpfSxyLnByb3RvdHlwZS51bnBhY2tfZG91YmxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51bnBhY2tfdWludDMyKCksZT10aGlzLnVucGFja191aW50MzIoKSxpPSh0Pj4yMCYyMDQ3KS0xMDIzO3JldHVybigwPT09dD4+MzE/MTotMSkqKCgxMDQ4NTc1JnR8MTA0ODU3NikqTWF0aC5wb3coMixpLTIwKStlKk1hdGgucG93KDIsaS01MikpfSxyLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW5kZXg7aWYoZSt0PD10aGlzLmxlbmd0aClyZXR1cm4gdGhpcy5kYXRhVmlldy5zdWJhcnJheShlLGUrdCk7dGhyb3cgbmV3IEVycm9yKFwiQmluYXJ5UGFja0ZhaWx1cmU6IHJlYWQgaW5kZXggb3V0IG9mIHJhbmdlXCIpfSxuLnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXJCdWlsZGVyLmdldEJ1ZmZlcigpfSxuLnByb3RvdHlwZS5wYWNrPWZ1bmN0aW9uKHQpe3ZhciBpPXR5cGVvZiB0O2lmKFwic3RyaW5nXCI9PT1pKXRoaXMucGFja19zdHJpbmcodCk7ZWxzZSBpZihcIm51bWJlclwiPT09aSlNYXRoLmZsb29yKHQpPT09dD90aGlzLnBhY2tfaW50ZWdlcih0KTp0aGlzLnBhY2tfZG91YmxlKHQpO2Vsc2UgaWYoXCJib29sZWFuXCI9PT1pKSEwPT09dD90aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDE5NSk6ITE9PT10JiZ0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDE5NCk7ZWxzZSBpZihcInVuZGVmaW5lZFwiPT09aSl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDE5Mik7ZWxzZXtpZihcIm9iamVjdFwiIT09aSl0aHJvdyBuZXcgRXJyb3IoJ1R5cGUgXCInK2krJ1wiIG5vdCB5ZXQgc3VwcG9ydGVkJyk7aWYobnVsbD09PXQpdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgxOTIpO2Vsc2V7dmFyIHI9dC5jb25zdHJ1Y3RvcjtpZihyPT1BcnJheSl0aGlzLnBhY2tfYXJyYXkodCk7ZWxzZSBpZihyPT1CbG9ifHxyPT1GaWxlfHx0IGluc3RhbmNlb2YgQmxvYnx8dCBpbnN0YW5jZW9mIEZpbGUpdGhpcy5wYWNrX2Jpbih0KTtlbHNlIGlmKHI9PUFycmF5QnVmZmVyKWUudXNlQXJyYXlCdWZmZXJWaWV3P3RoaXMucGFja19iaW4obmV3IFVpbnQ4QXJyYXkodCkpOnRoaXMucGFja19iaW4odCk7ZWxzZSBpZihcIkJZVEVTX1BFUl9FTEVNRU5UXCJpbiB0KWUudXNlQXJyYXlCdWZmZXJWaWV3P3RoaXMucGFja19iaW4obmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpKTp0aGlzLnBhY2tfYmluKHQuYnVmZmVyKTtlbHNlIGlmKHI9PU9iamVjdHx8ci50b1N0cmluZygpLnN0YXJ0c1dpdGgoXCJjbGFzc1wiKSl0aGlzLnBhY2tfb2JqZWN0KHQpO2Vsc2UgaWYocj09RGF0ZSl0aGlzLnBhY2tfc3RyaW5nKHQudG9TdHJpbmcoKSk7ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnRvQmluYXJ5UGFjayl0aHJvdyBuZXcgRXJyb3IoJ1R5cGUgXCInK3IudG9TdHJpbmcoKSsnXCIgbm90IHlldCBzdXBwb3J0ZWQnKTt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKHQudG9CaW5hcnlQYWNrKCkpfX19dGhpcy5idWZmZXJCdWlsZGVyLmZsdXNoKCl9LG4ucHJvdG90eXBlLnBhY2tfYmluPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RofHx0LmJ5dGVMZW5ndGh8fHQuc2l6ZTtpZihlPD0xNSl0aGlzLnBhY2tfdWludDgoMTYwK2UpO2Vsc2UgaWYoZTw9NjU1MzUpdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMTgpLHRoaXMucGFja191aW50MTYoZSk7ZWxzZXtpZighKGU8PTQyOTQ5NjcyOTUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbGVuZ3RoXCIpO3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjE5KSx0aGlzLnBhY2tfdWludDMyKGUpfXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQodCl9LG4ucHJvdG90eXBlLnBhY2tfc3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPWEodCk7aWYoZTw9MTUpdGhpcy5wYWNrX3VpbnQ4KDE3NitlKTtlbHNlIGlmKGU8PTY1NTM1KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjE2KSx0aGlzLnBhY2tfdWludDE2KGUpO2Vsc2V7aWYoIShlPD00Mjk0OTY3Mjk1KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGxlbmd0aFwiKTt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIxNyksdGhpcy5wYWNrX3VpbnQzMihlKX10aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKHQpfSxuLnByb3RvdHlwZS5wYWNrX2FycmF5PWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGU8PTE1KXRoaXMucGFja191aW50OCgxNDQrZSk7ZWxzZSBpZihlPD02NTUzNSl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIyMCksdGhpcy5wYWNrX3VpbnQxNihlKTtlbHNle2lmKCEoZTw9NDI5NDk2NzI5NSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsZW5ndGhcIik7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMjEpLHRoaXMucGFja191aW50MzIoZSl9Zm9yKHZhciBpPTA7aTxlO2krKyl0aGlzLnBhY2sodFtpXSl9LG4ucHJvdG90eXBlLnBhY2tfaW50ZWdlcj1mdW5jdGlvbih0KXtpZih0Pj0tMzImJnQ8PTEyNyl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDI1NSZ0KTtlbHNlIGlmKHQ+PTAmJnQ8PTI1NSl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIwNCksdGhpcy5wYWNrX3VpbnQ4KHQpO2Vsc2UgaWYodD49LTEyOCYmdDw9MTI3KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjA4KSx0aGlzLnBhY2tfaW50OCh0KTtlbHNlIGlmKHQ+PTAmJnQ8PTY1NTM1KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjA1KSx0aGlzLnBhY2tfdWludDE2KHQpO2Vsc2UgaWYodD49LTMyNzY4JiZ0PD0zMjc2Nyl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIwOSksdGhpcy5wYWNrX2ludDE2KHQpO2Vsc2UgaWYodD49MCYmdDw9NDI5NDk2NzI5NSl0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDIwNiksdGhpcy5wYWNrX3VpbnQzMih0KTtlbHNlIGlmKHQ+PS0yMTQ3NDgzNjQ4JiZ0PD0yMTQ3NDgzNjQ3KXRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjEwKSx0aGlzLnBhY2tfaW50MzIodCk7ZWxzZSBpZih0Pj0tMHg4MDAwMDAwMDAwMDAwMDAwJiZ0PD0weDgwMDAwMDAwMDAwMDAwMDApdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMTEpLHRoaXMucGFja19pbnQ2NCh0KTtlbHNle2lmKCEodD49MCYmdDw9MHgxMDAwMDAwMDAwMDAwMDAwMCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnRlZ2VyXCIpO3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjA3KSx0aGlzLnBhY2tfdWludDY0KHQpfX0sbi5wcm90b3R5cGUucGFja19kb3VibGU9ZnVuY3Rpb24odCl7dmFyIGU9MDt0PDAmJihlPTEsdD0tdCk7dmFyIGk9TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMikscj10L01hdGgucG93KDIsaSktMSxuPU1hdGguZmxvb3IocipNYXRoLnBvdygyLDUyKSksdT1NYXRoLnBvdygyLDMyKSxhPWU8PDMxfGkrMTAyMzw8MjB8bi91JjEwNDg1NzUscD1uJXU7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMDMpLHRoaXMucGFja19pbnQzMihhKSx0aGlzLnBhY2tfaW50MzIocCl9LG4ucHJvdG90eXBlLnBhY2tfb2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5rZXlzKHQpLmxlbmd0aDtpZihlPD0xNSl0aGlzLnBhY2tfdWludDgoMTI4K2UpO2Vsc2UgaWYoZTw9NjU1MzUpdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyMjIpLHRoaXMucGFja191aW50MTYoZSk7ZWxzZXtpZighKGU8PTQyOTQ5NjcyOTUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbGVuZ3RoXCIpO3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjIzKSx0aGlzLnBhY2tfdWludDMyKGUpfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJih0aGlzLnBhY2soaSksdGhpcy5wYWNrKHRbaV0pKX0sbi5wcm90b3R5cGUucGFja191aW50OD1mdW5jdGlvbih0KXt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKHQpfSxuLnByb3RvdHlwZS5wYWNrX3VpbnQxNj1mdW5jdGlvbih0KXt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKHQ+PjgpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjU1JnQpfSxuLnByb3RvdHlwZS5wYWNrX3VpbnQzMj1mdW5jdGlvbih0KXt2YXIgZT00Mjk0OTY3Mjk1JnQ7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoNDI3ODE5MDA4MCZlKT4+PjI0KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCgxNjcxMTY4MCZlKT4+PjE2KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg2NTI4MCZlKT4+PjgpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjU1JmUpfSxuLnByb3RvdHlwZS5wYWNrX3VpbnQ2ND1mdW5jdGlvbih0KXt2YXIgZT10L01hdGgucG93KDIsMzIpLGk9dCVNYXRoLnBvdygyLDMyKTt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg0Mjc4MTkwMDgwJmUpPj4+MjQpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDE2NzExNjgwJmUpPj4+MTYpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDY1MjgwJmUpPj4+OCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyNTUmZSksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoNDI3ODE5MDA4MCZpKT4+PjI0KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCgxNjcxMTY4MCZpKT4+PjE2KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg2NTI4MCZpKT4+PjgpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjU1JmkpfSxuLnByb3RvdHlwZS5wYWNrX2ludDg9ZnVuY3Rpb24odCl7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyNTUmdCl9LG4ucHJvdG90eXBlLnBhY2tfaW50MTY9ZnVuY3Rpb24odCl7dGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoNjUyODAmdCk+PjgpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjU1JnQpfSxuLnByb3RvdHlwZS5wYWNrX2ludDMyPWZ1bmN0aW9uKHQpe3RoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQodD4+PjI0JjI1NSksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoMTY3MTE2ODAmdCk+Pj4xNiksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoNjUyODAmdCk+Pj44KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKDI1NSZ0KX0sbi5wcm90b3R5cGUucGFja19pbnQ2ND1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKHQvTWF0aC5wb3coMiwzMikpLGk9dCVNYXRoLnBvdygyLDMyKTt0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg0Mjc4MTkwMDgwJmUpPj4+MjQpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDE2NzExNjgwJmUpPj4+MTYpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoKDY1MjgwJmUpPj4+OCksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgyNTUmZSksdGhpcy5idWZmZXJCdWlsZGVyLmFwcGVuZCgoNDI3ODE5MDA4MCZpKT4+PjI0KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCgxNjcxMTY4MCZpKT4+PjE2KSx0aGlzLmJ1ZmZlckJ1aWxkZXIuYXBwZW5kKCg2NTI4MCZpKT4+PjgpLHRoaXMuYnVmZmVyQnVpbGRlci5hcHBlbmQoMjU1JmkpfTtcbn0se1wiLi9idWZmZXJidWlsZGVyXCI6XCJFZ0JoXCJ9XSxcImlTeENcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gdChlKXtyZXR1cm4odD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5leHRyYWN0VmVyc2lvbj1vLGV4cG9ydHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQ9aSxleHBvcnRzLmRpc2FibGVMb2c9cyxleHBvcnRzLmRpc2FibGVXYXJuaW5ncz1hLGV4cG9ydHMubG9nPXUsZXhwb3J0cy5kZXByZWNhdGVkPWMsZXhwb3J0cy5kZXRlY3RCcm93c2VyPXAsZXhwb3J0cy5jb21wYWN0T2JqZWN0PWQsZXhwb3J0cy53YWxrU3RhdHM9bCxleHBvcnRzLmZpbHRlclN0YXRzPWI7dmFyIG49ITAscj0hMDtmdW5jdGlvbiBvKGUsdCxuKXt2YXIgcj1lLm1hdGNoKHQpO3JldHVybiByJiZyLmxlbmd0aD49biYmcGFyc2VJbnQocltuXSwxMCl9ZnVuY3Rpb24gaShlLHQsbil7aWYoZS5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsbz1yLmFkZEV2ZW50TGlzdGVuZXI7ci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUscil7aWYoZSE9PXQpcmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSk7dCYmcih0KX07cmV0dXJuIHRoaXMuX2V2ZW50TWFwPXRoaXMuX2V2ZW50TWFwfHx7fSx0aGlzLl9ldmVudE1hcFtyXT1pLG8uYXBwbHkodGhpcyxbZSxpXSl9O3ZhciBpPXIucmVtb3ZlRXZlbnRMaXN0ZW5lcjtyLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSxuKXtpZihlIT09dHx8IXRoaXMuX2V2ZW50TWFwfHwhdGhpcy5fZXZlbnRNYXBbbl0pcmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciByPXRoaXMuX2V2ZW50TWFwW25dO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRNYXBbbl0saS5hcHBseSh0aGlzLFtlLHJdKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJvblwiK3Qse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW1wiX29uXCIrdF19LHNldDpmdW5jdGlvbihlKXt0aGlzW1wiX29uXCIrdF0mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCx0aGlzW1wiX29uXCIrdF0pLGRlbGV0ZSB0aGlzW1wiX29uXCIrdF0pLGUmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0LHRoaXNbXCJfb25cIit0XT1lKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19ZnVuY3Rpb24gcyhlKXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIGU/bmV3IEVycm9yKFwiQXJndW1lbnQgdHlwZTogXCIrdChlKStcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihuPWUsZT9cImFkYXB0ZXIuanMgbG9nZ2luZyBkaXNhYmxlZFwiOlwiYWRhcHRlci5qcyBsb2dnaW5nIGVuYWJsZWRcIil9ZnVuY3Rpb24gYShlKXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIGU/bmV3IEVycm9yKFwiQXJndW1lbnQgdHlwZTogXCIrdChlKStcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihyPSFlLFwiYWRhcHRlci5qcyBkZXByZWNhdGlvbiB3YXJuaW5ncyBcIisoZT9cImRpc2FibGVkXCI6XCJlbmFibGVkXCIpKX1mdW5jdGlvbiB1KCl7aWYoXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P1widW5kZWZpbmVkXCI6dCh3aW5kb3cpKSl7aWYobilyZXR1cm47XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUubG9nJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGMoZSx0KXtyJiZjb25zb2xlLndhcm4oZStcIiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFwiK3QrXCIgaW5zdGVhZC5cIil9ZnVuY3Rpb24gcChlKXt2YXJ7bmF2aWdhdG9yOnR9PWUsbj17YnJvd3NlcjpudWxsLHZlcnNpb246bnVsbH07aWYodm9pZCAwPT09ZXx8IWUubmF2aWdhdG9yKXJldHVybiBuLmJyb3dzZXI9XCJOb3QgYSBicm93c2VyLlwiLG47aWYodC5tb3pHZXRVc2VyTWVkaWEpbi5icm93c2VyPVwiZmlyZWZveFwiLG4udmVyc2lvbj1vKHQudXNlckFnZW50LC9GaXJlZm94XFwvKFxcZCspXFwuLywxKTtlbHNlIGlmKHQud2Via2l0R2V0VXNlck1lZGlhfHwhMT09PWUuaXNTZWN1cmVDb250ZXh0JiZlLndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uJiYhZS5SVENJY2VHYXRoZXJlciluLmJyb3dzZXI9XCJjaHJvbWVcIixuLnZlcnNpb249byh0LnVzZXJBZ2VudCwvQ2hyb20oZXxpdW0pXFwvKFxcZCspXFwuLywyKTtlbHNlIGlmKHQubWVkaWFEZXZpY2VzJiZ0LnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyhcXGQrKS4oXFxkKykkLykpbi5icm93c2VyPVwiZWRnZVwiLG4udmVyc2lvbj1vKHQudXNlckFnZW50LC9FZGdlXFwvKFxcZCspLihcXGQrKSQvLDIpO2Vsc2V7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb258fCF0LnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSlyZXR1cm4gbi5icm93c2VyPVwiTm90IGEgc3VwcG9ydGVkIGJyb3dzZXIuXCIsbjtuLmJyb3dzZXI9XCJzYWZhcmlcIixuLnZlcnNpb249byh0LnVzZXJBZ2VudCwvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vLDEpLG4uc3VwcG9ydHNVbmlmaWVkUGxhbj1lLlJUQ1J0cFRyYW5zY2VpdmVyJiZcImN1cnJlbnREaXJlY3Rpb25cImluIGUuUlRDUnRwVHJhbnNjZWl2ZXIucHJvdG90eXBlfXJldHVybiBufWZ1bmN0aW9uIGYoZSl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBkKHQpe3JldHVybiBmKHQpP09iamVjdC5rZXlzKHQpLnJlZHVjZShmdW5jdGlvbihuLHIpe3ZhciBvPWYodFtyXSksaT1vP2QodFtyXSk6dFtyXSxzPW8mJiFPYmplY3Qua2V5cyhpKS5sZW5ndGg7cmV0dXJuIHZvaWQgMD09PWl8fHM/bjpPYmplY3QuYXNzaWduKG4sZSh7fSxyLGkpKX0se30pOnR9ZnVuY3Rpb24gbChlLHQsbil7dCYmIW4uaGFzKHQuaWQpJiYobi5zZXQodC5pZCx0KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IuZW5kc1dpdGgoXCJJZFwiKT9sKGUsZS5nZXQodFtyXSksbik6ci5lbmRzV2l0aChcIklkc1wiKSYmdFtyXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2woZSxlLmdldCh0KSxuKX0pfSkpfWZ1bmN0aW9uIGIoZSx0LG4pe3ZhciByPW4/XCJvdXRib3VuZC1ydHBcIjpcImluYm91bmQtcnRwXCIsbz1uZXcgTWFwO2lmKG51bGw9PT10KXJldHVybiBvO3ZhciBpPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7XCJ0cmFja1wiPT09ZS50eXBlJiZlLnRyYWNrSWRlbnRpZmllcj09PXQuaWQmJmkucHVzaChlKX0pLGkuZm9yRWFjaChmdW5jdGlvbih0KXtlLmZvckVhY2goZnVuY3Rpb24obil7bi50eXBlPT09ciYmbi50cmFja0lkPT09dC5pZCYmbChlLG4sbyl9KX0pLG99XG59LHt9XSxcInM2U05cIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltR2V0VXNlck1lZGlhPWk7dmFyIGU9dChyZXF1aXJlKFwiLi4vdXRpbHMuanNcIikpO2Z1bmN0aW9uIHIoKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwO3JldHVybiByPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gdChlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciB0PXIoKTtpZih0JiZ0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dmFyIG89e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpe3ZhciBhPW4/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm51bGw7YSYmKGEuZ2V0fHxhLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KG8saSxhKTpvW2ldPWVbaV19cmV0dXJuIG8uZGVmYXVsdD1lLHQmJnQuc2V0KGUsbyksb31mdW5jdGlvbiBvKGUpe3JldHVybihvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX12YXIgbj1lLmxvZztmdW5jdGlvbiBpKHIpe3ZhciB0PXImJnIubmF2aWdhdG9yO2lmKHQubWVkaWFEZXZpY2VzKXt2YXIgaT1lLmRldGVjdEJyb3dzZXIociksYT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT09byhlKXx8ZS5tYW5kYXRvcnl8fGUub3B0aW9uYWwpcmV0dXJuIGU7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7aWYoXCJyZXF1aXJlXCIhPT10JiZcImFkdmFuY2VkXCIhPT10JiZcIm1lZGlhU291cmNlXCIhPT10KXt2YXIgbj1cIm9iamVjdFwiPT09byhlW3RdKT9lW3RdOntpZGVhbDplW3RdfTt2b2lkIDAhPT1uLmV4YWN0JiZcIm51bWJlclwiPT10eXBlb2Ygbi5leGFjdCYmKG4ubWluPW4ubWF4PW4uZXhhY3QpO3ZhciBpPWZ1bmN0aW9uKGUscil7cmV0dXJuIGU/ZStyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Iuc2xpY2UoMSk6XCJkZXZpY2VJZFwiPT09cj9cInNvdXJjZUlkXCI6cn07aWYodm9pZCAwIT09bi5pZGVhbCl7ci5vcHRpb25hbD1yLm9wdGlvbmFsfHxbXTt2YXIgYT17fTtcIm51bWJlclwiPT10eXBlb2Ygbi5pZGVhbD8oYVtpKFwibWluXCIsdCldPW4uaWRlYWwsci5vcHRpb25hbC5wdXNoKGEpLChhPXt9KVtpKFwibWF4XCIsdCldPW4uaWRlYWwsci5vcHRpb25hbC5wdXNoKGEpKTooYVtpKFwiXCIsdCldPW4uaWRlYWwsci5vcHRpb25hbC5wdXNoKGEpKX12b2lkIDAhPT1uLmV4YWN0JiZcIm51bWJlclwiIT10eXBlb2Ygbi5leGFjdD8oci5tYW5kYXRvcnk9ci5tYW5kYXRvcnl8fHt9LHIubWFuZGF0b3J5W2koXCJcIix0KV09bi5leGFjdCk6W1wibWluXCIsXCJtYXhcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2b2lkIDAhPT1uW2VdJiYoci5tYW5kYXRvcnk9ci5tYW5kYXRvcnl8fHt9LHIubWFuZGF0b3J5W2koZSx0KV09bltlXSl9KX19KSxlLmFkdmFuY2VkJiYoci5vcHRpb25hbD0oci5vcHRpb25hbHx8W10pLmNvbmNhdChlLmFkdmFuY2VkKSkscn0sYz1mdW5jdGlvbihlLHIpe2lmKGkudmVyc2lvbj49NjEpcmV0dXJuIHIoZSk7aWYoKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpJiZcIm9iamVjdFwiPT09byhlLmF1ZGlvKSl7dmFyIGM9ZnVuY3Rpb24oZSxyLHQpe3IgaW4gZSYmISh0IGluIGUpJiYoZVt0XT1lW3JdLGRlbGV0ZSBlW3JdKX07YygoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcImdvb2dBdXRvR2FpbkNvbnRyb2xcIiksYyhlLmF1ZGlvLFwibm9pc2VTdXBwcmVzc2lvblwiLFwiZ29vZ05vaXNlU3VwcHJlc3Npb25cIiksZS5hdWRpbz1hKGUuYXVkaW8pfWlmKGUmJlwib2JqZWN0XCI9PT1vKGUudmlkZW8pKXt2YXIgZD1lLnZpZGVvLmZhY2luZ01vZGU7ZD1kJiYoXCJvYmplY3RcIj09PW8oZCk/ZDp7aWRlYWw6ZH0pO3ZhciB1LHM9aS52ZXJzaW9uPDY2O2lmKGQmJihcInVzZXJcIj09PWQuZXhhY3R8fFwiZW52aXJvbm1lbnRcIj09PWQuZXhhY3R8fFwidXNlclwiPT09ZC5pZGVhbHx8XCJlbnZpcm9ubWVudFwiPT09ZC5pZGVhbCkmJighdC5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHN8fCF0Lm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpLmZhY2luZ01vZGV8fHMpKWlmKGRlbGV0ZSBlLnZpZGVvLmZhY2luZ01vZGUsXCJlbnZpcm9ubWVudFwiPT09ZC5leGFjdHx8XCJlbnZpcm9ubWVudFwiPT09ZC5pZGVhbD91PVtcImJhY2tcIixcInJlYXJcIl06XCJ1c2VyXCIhPT1kLmV4YWN0JiZcInVzZXJcIiE9PWQuaWRlYWx8fCh1PVtcImZyb250XCJdKSx1KXJldHVybiB0Lm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbihmdW5jdGlvbih0KXt2YXIgbz0odD10LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInZpZGVvaW5wdXRcIj09PWUua2luZH0pKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiB1LnNvbWUoZnVuY3Rpb24ocil7cmV0dXJuIGUubGFiZWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhyKX0pfSk7cmV0dXJuIW8mJnQubGVuZ3RoJiZ1LmluY2x1ZGVzKFwiYmFja1wiKSYmKG89dFt0Lmxlbmd0aC0xXSksbyYmKGUudmlkZW8uZGV2aWNlSWQ9ZC5leGFjdD97ZXhhY3Q6by5kZXZpY2VJZH06e2lkZWFsOm8uZGV2aWNlSWR9KSxlLnZpZGVvPWEoZS52aWRlbyksbihcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHIoZSl9KTtlLnZpZGVvPWEoZS52aWRlbyl9cmV0dXJuIG4oXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxyKGUpfSxkPWZ1bmN0aW9uKGUpe3JldHVybiBpLnZlcnNpb24+PTY0P2U6e25hbWU6e1Blcm1pc3Npb25EZW5pZWRFcnJvcjpcIk5vdEFsbG93ZWRFcnJvclwiLFBlcm1pc3Npb25EaXNtaXNzZWRFcnJvcjpcIk5vdEFsbG93ZWRFcnJvclwiLEludmFsaWRTdGF0ZUVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsRGV2aWNlc05vdEZvdW5kRXJyb3I6XCJOb3RGb3VuZEVycm9yXCIsQ29uc3RyYWludE5vdFNhdGlzZmllZEVycm9yOlwiT3ZlcmNvbnN0cmFpbmVkRXJyb3JcIixUcmFja1N0YXJ0RXJyb3I6XCJOb3RSZWFkYWJsZUVycm9yXCIsTWVkaWFEZXZpY2VGYWlsZWREdWVUb1NodXRkb3duOlwiTm90QWxsb3dlZEVycm9yXCIsTWVkaWFEZXZpY2VLaWxsU3dpdGNoT246XCJOb3RBbGxvd2VkRXJyb3JcIixUYWJDYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCIsU2NyZWVuQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwiLERldmljZUNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIn1bZS5uYW1lXXx8ZS5uYW1lLG1lc3NhZ2U6ZS5tZXNzYWdlLGNvbnN0cmFpbnQ6ZS5jb25zdHJhaW50fHxlLmNvbnN0cmFpbnROYW1lLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsodGhpcy5tZXNzYWdlJiZcIjogXCIpK3RoaXMubWVzc2FnZX19fTtpZih0LmdldFVzZXJNZWRpYT1mdW5jdGlvbihlLHIsbyl7YyhlLGZ1bmN0aW9uKGUpe3Qud2Via2l0R2V0VXNlck1lZGlhKGUscixmdW5jdGlvbihlKXtvJiZvKGQoZSkpfSl9KX0uYmluZCh0KSx0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe3ZhciB1PXQubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKHQubWVkaWFEZXZpY2VzKTt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSxmdW5jdGlvbihlKXtyZXR1cm4gdShlKS50aGVuKGZ1bmN0aW9uKHIpe2lmKGUuYXVkaW8mJiFyLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHxlLnZpZGVvJiYhci5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyByLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdG9wKCl9KSxuZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiByfSxmdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZChlKSl9KX0pfX19fVxufSx7XCIuLi91dGlscy5qc1wiOlwiaVN4Q1wifV0sXCJWSGE4XCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSxpKXtlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvci5tZWRpYURldmljZXN8fGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGk/ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1mdW5jdGlvbihhKXtyZXR1cm4gaShhKS50aGVuKGZ1bmN0aW9uKGkpe3ZhciB0PWEudmlkZW8mJmEudmlkZW8ud2lkdGgsbz1hLnZpZGVvJiZhLnZpZGVvLmhlaWdodCxkPWEudmlkZW8mJmEudmlkZW8uZnJhbWVSYXRlO3JldHVybiBhLnZpZGVvPXttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwiLGNocm9tZU1lZGlhU291cmNlSWQ6aSxtYXhGcmFtZVJhdGU6ZHx8M319LHQmJihhLnZpZGVvLm1hbmRhdG9yeS5tYXhXaWR0aD10KSxvJiYoYS52aWRlby5tYW5kYXRvcnkubWF4SGVpZ2h0PW8pLGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoYSl9KX06Y29uc29sZS5lcnJvcihcInNoaW1HZXREaXNwbGF5TWVkaWE6IGdldFNvdXJjZUlkIGFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uXCIpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1HZXREaXNwbGF5TWVkaWE9ZTtcbn0se31dLFwidUk1WFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1NZWRpYVN0cmVhbT1hLGV4cG9ydHMuc2hpbU9uVHJhY2s9YyxleHBvcnRzLnNoaW1HZXRTZW5kZXJzV2l0aER0bWY9cCxleHBvcnRzLnNoaW1HZXRTdGF0cz1kLGV4cG9ydHMuc2hpbVNlbmRlclJlY2VpdmVyR2V0U3RhdHM9aCxleHBvcnRzLnNoaW1BZGRUcmFja1JlbW92ZVRyYWNrV2l0aE5hdGl2ZT1mLGV4cG9ydHMuc2hpbUFkZFRyYWNrUmVtb3ZlVHJhY2s9bSxleHBvcnRzLnNoaW1QZWVyQ29ubmVjdGlvbj11LGV4cG9ydHMuZml4TmVnb3RpYXRpb25OZWVkZWQ9bCxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcInNoaW1HZXRVc2VyTWVkaWFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zaGltR2V0VXNlck1lZGlhfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwic2hpbUdldERpc3BsYXlNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLnNoaW1HZXREaXNwbGF5TWVkaWF9fSk7dmFyIGU9aShyZXF1aXJlKFwiLi4vdXRpbHMuanNcIikpLHQ9cmVxdWlyZShcIi4vZ2V0dXNlcm1lZGlhXCIpLHI9cmVxdWlyZShcIi4vZ2V0ZGlzcGxheW1lZGlhXCIpO2Z1bmN0aW9uIG4oKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwO3JldHVybiBuPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gaShlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciB0PW4oKTtpZih0JiZ0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dmFyIHI9e30saT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBzPWk/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOm51bGw7cyYmKHMuZ2V0fHxzLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsbyxzKTpyW29dPWVbb119cmV0dXJuIHIuZGVmYXVsdD1lLHQmJnQuc2V0KGUscikscn1mdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBzKGUpe3JldHVybihzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBhKGUpe2UuTWVkaWFTdHJlYW09ZS5NZWRpYVN0cmVhbXx8ZS53ZWJraXRNZWRpYVN0cmVhbX1mdW5jdGlvbiBjKHQpe2lmKFwib2JqZWN0XCIhPT1zKHQpfHwhdC5SVENQZWVyQ29ubmVjdGlvbnx8XCJvbnRyYWNrXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSllLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHQsXCJ0cmFja1wiLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zY2VpdmVyfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInRyYW5zY2VpdmVyXCIse3ZhbHVlOntyZWNlaXZlcjplLnJlY2VpdmVyfX0pLGV9KTtlbHNle09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29udHJhY2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbnRyYWNrJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29udHJhY2spLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb250cmFjaz1lKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KTt2YXIgcj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX29udHJhY2twb2x5fHwodGhpcy5fb250cmFja3BvbHk9ZnVuY3Rpb24ocil7ci5zdHJlYW0uYWRkRXZlbnRMaXN0ZW5lcihcImFkZHRyYWNrXCIsZnVuY3Rpb24obil7dmFyIGk7aT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM/ZS5nZXRSZWNlaXZlcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrJiZlLnRyYWNrLmlkPT09bi50cmFjay5pZH0pOnt0cmFjazpuLnRyYWNrfTt2YXIgbz1uZXcgRXZlbnQoXCJ0cmFja1wiKTtvLnRyYWNrPW4udHJhY2ssby5yZWNlaXZlcj1pLG8udHJhbnNjZWl2ZXI9e3JlY2VpdmVyOml9LG8uc3RyZWFtcz1bci5zdHJlYW1dLGUuZGlzcGF0Y2hFdmVudChvKX0pLHIuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGk7aT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM/ZS5nZXRSZWNlaXZlcnMoKS5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrJiZlLnRyYWNrLmlkPT09bi5pZH0pOnt0cmFjazpufTt2YXIgbz1uZXcgRXZlbnQoXCJ0cmFja1wiKTtvLnRyYWNrPW4sby5yZWNlaXZlcj1pLG8udHJhbnNjZWl2ZXI9e3JlY2VpdmVyOml9LG8uc3RyZWFtcz1bci5zdHJlYW1dLGUuZGlzcGF0Y2hFdmVudChvKX0pfSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbnRyYWNrcG9seSkpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19ZnVuY3Rpb24gcChlKXtpZihcIm9iamVjdFwiPT09cyhlKSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcImdldFNlbmRlcnNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSYmXCJjcmVhdGVEVE1GU2VuZGVyXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHJhY2s6dCxnZXQgZHRtZigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYoXCJhdWRpb1wiPT09dC5raW5kP3RoaXMuX2R0bWY9ZS5jcmVhdGVEVE1GU2VuZGVyKHQpOnRoaXMuX2R0bWY9bnVsbCksdGhpcy5fZHRtZn0sX3BjOmV9fTtpZighZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycyl7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLHRoaXMuX3NlbmRlcnMuc2xpY2UoKX07dmFyIHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSxuKXt2YXIgaT1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gaXx8KGk9dCh0aGlzLGUpLHRoaXMuX3NlbmRlcnMucHVzaChpKSksaX07dmFyIG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHQ9dGhpcy5fc2VuZGVycy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fc2VuZGVycy5zcGxpY2UodCwxKX19dmFyIGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt2YXIgcj10aGlzO3RoaXMuX3NlbmRlcnM9dGhpcy5fc2VuZGVyc3x8W10saS5hcHBseSh0aGlzLFtlXSksZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuX3NlbmRlcnMucHVzaCh0KHIsZSkpfSl9O3ZhciBvPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLG8uYXBwbHkodGhpcyxbZV0pLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9zZW5kZXJzLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PT1lfSk7ciYmdC5fc2VuZGVycy5zcGxpY2UodC5fc2VuZGVycy5pbmRleE9mKHIpLDEpfSl9fWVsc2UgaWYoXCJvYmplY3RcIj09PXMoZSkmJmUuUlRDUGVlckNvbm5lY3Rpb24mJlwiZ2V0U2VuZGVyc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUmJmUuUlRDUnRwU2VuZGVyJiYhKFwiZHRtZlwiaW4gZS5SVENSdHBTZW5kZXIucHJvdG90eXBlKSl7dmFyIGE9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWEuYXBwbHkodGhpcyxbXSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5fcGM9ZX0pLHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsXCJkdG1mXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYoXCJhdWRpb1wiPT09dGhpcy50cmFjay5raW5kP3RoaXMuX2R0bWY9dGhpcy5fcGMuY3JlYXRlRFRNRlNlbmRlcih0aGlzLnRyYWNrKTp0aGlzLl9kdG1mPW51bGwpLHRoaXMuX2R0bWZ9fSl9fWZ1bmN0aW9uIGQoZSl7aWYoZS5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLFtyLG4saV09YXJndW1lbnRzO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgcilyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoMD09PXQubGVuZ3RoJiYoMD09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpKXJldHVybiB0LmFwcGx5KHRoaXMsW10pO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLnJlc3VsdCgpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9e2lkOmUuaWQsdGltZXN0YW1wOmUudGltZXN0YW1wLHR5cGU6e2xvY2FsY2FuZGlkYXRlOlwibG9jYWwtY2FuZGlkYXRlXCIscmVtb3RlY2FuZGlkYXRlOlwicmVtb3RlLWNhbmRpZGF0ZVwifVtlLnR5cGVdfHxlLnR5cGV9O2UubmFtZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JbdF09ZS5zdGF0KHQpfSksdFtyLmlkXT1yfSksdH0scz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE1hcChPYmplY3Qua2V5cyhlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW3QsZVt0XV19KSl9O2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpe3JldHVybiB0LmFwcGx5KHRoaXMsW2Z1bmN0aW9uKGUpe24ocyhvKGUpKSl9LHJdKX1yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXt0LmFwcGx5KGUsW2Z1bmN0aW9uKGUpe3IocyhvKGUpKSl9LG5dKX0pLnRoZW4obixpKX19fWZ1bmN0aW9uIGgodCl7aWYoXCJvYmplY3RcIj09PXModCkmJnQuUlRDUGVlckNvbm5lY3Rpb24mJnQuUlRDUnRwU2VuZGVyJiZ0LlJUQ1J0cFJlY2VpdmVyKXtpZighKFwiZ2V0U3RhdHNcImluIHQuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpe3ZhciByPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7ciYmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ci5hcHBseSh0aGlzLFtdKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9wYz1lfSksdH0pO3ZhciBuPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO24mJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbigpe3ZhciBlPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLl9wYz10aGlzLGV9KSx0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cygpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIGUuZmlsdGVyU3RhdHMocix0LnRyYWNrLCEwKX0pfX1pZighKFwiZ2V0U3RhdHNcImluIHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSl7dmFyIGk9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzO2kmJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9aS5hcHBseSh0aGlzLFtdKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9wYz1lfSksdH0pLGUud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQodCxcInRyYWNrXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIuX3BjPWUuc3JjRWxlbWVudCxlfSksdC5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cygpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIGUuZmlsdGVyU3RhdHMocix0LnRyYWNrLCExKX0pfX1pZihcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUmJlwiZ2V0U3RhdHNcImluIHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKXt2YXIgbz10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0czt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0Lk1lZGlhU3RyZWFtVHJhY2spe3ZhciBlLHIsbixpPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbih0KXt0LnRyYWNrPT09aSYmKGU/bj0hMDplPXQpfSksdGhpcy5nZXRSZWNlaXZlcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrPT09aSYmKHI/bj0hMDpyPWUpLGUudHJhY2s9PT1pfSksbnx8ZSYmcj9Qcm9taXNlLnJlamVjdChuZXcgRE9NRXhjZXB0aW9uKFwiVGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgc2VuZGVyIG9yIHJlY2VpdmVyIGZvciB0aGUgdHJhY2suXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIikpOmU/ZS5nZXRTdGF0cygpOnI/ci5nZXRTdGF0cygpOlByb21pc2UucmVqZWN0KG5ldyBET01FeGNlcHRpb24oXCJUaGVyZSBpcyBubyBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKSl9cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX19fWZ1bmN0aW9uIGYoZSl7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxPYmplY3Qua2V5cyh0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF1bMF19KX07dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSxyKXtpZighcilyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fTt2YXIgbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tyLmlkXT8tMT09PXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbci5pZF0uaW5kZXhPZihuKSYmdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tyLmlkXS5wdXNoKG4pOnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbci5pZF09W3Isbl0sbn07dmFyIHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKHQuZ2V0U2VuZGVycygpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PT1lfSkpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpfSk7dmFyIG49dGhpcy5nZXRTZW5kZXJzKCk7ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGk9dGhpcy5nZXRTZW5kZXJzKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09bi5pbmRleE9mKGUpfSk7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tlLmlkXT1bZV0uY29uY2F0KGkpfTt2YXIgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGRlbGV0ZSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2UuaWRdLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGUmJk9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fc2hpbW1lZExvY2FsU3RyZWFtc1tyXS5pbmRleE9mKGUpOy0xIT09biYmdC5fc2hpbW1lZExvY2FsU3RyZWFtc1tyXS5zcGxpY2UobiwxKSwxPT09dC5fc2hpbW1lZExvY2FsU3RyZWFtc1tyXS5sZW5ndGgmJmRlbGV0ZSB0Ll9zaGltbWVkTG9jYWxTdHJlYW1zW3JdfSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIG0odCl7aWYodC5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHI9ZS5kZXRlY3RCcm93c2VyKHQpO2lmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrJiZyLnZlcnNpb24+PTY1KXJldHVybiBmKHQpO3ZhciBuPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtczt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bi5hcHBseSh0aGlzKTtyZXR1cm4gdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9LHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9yZXZlcnNlU3RyZWFtc1t0LmlkXX0pfTt2YXIgaT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7aWYodGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSx0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e30sZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKHIuZ2V0U2VuZGVycygpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PT1lfSkpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpfSksIXRoaXMuX3JldmVyc2VTdHJlYW1zW2UuaWRdKXt2YXIgbj1uZXcgdC5NZWRpYVN0cmVhbShlLmdldFRyYWNrcygpKTt0aGlzLl9zdHJlYW1zW2UuaWRdPW4sdGhpcy5fcmV2ZXJzZVN0cmVhbXNbbi5pZF09ZSxlPW59aS5hcHBseSh0aGlzLFtlXSl9O3ZhciBzPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSx0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e30scy5hcHBseSh0aGlzLFt0aGlzLl9zdHJlYW1zW2UuaWRdfHxlXSksZGVsZXRlIHRoaXMuX3JldmVyc2VTdHJlYW1zW3RoaXMuX3N0cmVhbXNbZS5pZF0/dGhpcy5fc3RyZWFtc1tlLmlkXS5pZDplLmlkXSxkZWxldGUgdGhpcy5fc3RyZWFtc1tlLmlkXX0sdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSxyKXt2YXIgbj10aGlzO2lmKFwiY2xvc2VkXCI9PT10aGlzLnNpZ25hbGluZ1N0YXRlKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24ncyBzaWduYWxpbmdTdGF0ZSBpcyAnY2xvc2VkJy5cIixcIkludmFsaWRTdGF0ZUVycm9yXCIpO3ZhciBpPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2lmKDEhPT1pLmxlbmd0aHx8IWlbMF0uZ2V0VHJhY2tzKCkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIGFkYXB0ZXIuanMgYWRkVHJhY2sgcG9seWZpbGwgb25seSBzdXBwb3J0cyBhIHNpbmdsZSAgc3RyZWFtIHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIHRyYWNrLlwiLFwiTm90U3VwcG9ydGVkRXJyb3JcIik7aWYodGhpcy5nZXRTZW5kZXJzKCkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjaz09PWV9KSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVHJhY2sgYWxyZWFkeSBleGlzdHMuXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIik7dGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSx0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e307dmFyIG89dGhpcy5fc3RyZWFtc1tyLmlkXTtpZihvKW8uYWRkVHJhY2soZSksUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe24uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiKSl9KTtlbHNle3ZhciBzPW5ldyB0Lk1lZGlhU3RyZWFtKFtlXSk7dGhpcy5fc3RyZWFtc1tyLmlkXT1zLHRoaXMuX3JldmVyc2VTdHJlYW1zW3MuaWRdPXIsdGhpcy5hZGRTdHJlYW0ocyl9cmV0dXJuIHRoaXMuZ2V0U2VuZGVycygpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PT1lfSl9LFtcImNyZWF0ZU9mZmVyXCIsXCJjcmVhdGVBbnN3ZXJcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXSxuPW8oe30sZSxmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHM7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXT9yLmFwcGx5KHRoaXMsW2Z1bmN0aW9uKHIpe3ZhciBuPXAoZSxyKTt0WzBdLmFwcGx5KG51bGwsW25dKX0sZnVuY3Rpb24oZSl7dFsxXSYmdFsxXS5hcHBseShudWxsLGUpfSxhcmd1bWVudHNbMl1dKTpyLmFwcGx5KHRoaXMsYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBwKGUsdCl9KX0pO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdPW5bZV19KTt2YXIgYT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmYXJndW1lbnRzWzBdLnR5cGU/KGFyZ3VtZW50c1swXT0oZT10aGlzLHQ9YXJndW1lbnRzWzBdLHI9dC5zZHAsT2JqZWN0LmtleXMoZS5fcmV2ZXJzZVN0cmVhbXN8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuX3JldmVyc2VTdHJlYW1zW3RdLGk9ZS5fc3RyZWFtc1tuLmlkXTtyPXIucmVwbGFjZShuZXcgUmVnRXhwKG4uaWQsXCJnXCIpLGkuaWQpfSksbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTp0LnR5cGUsc2RwOnJ9KSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cykpOmEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlLHQscn07dmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcImxvY2FsRGVzY3JpcHRpb25cIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwibG9jYWxEZXNjcmlwdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1jLmdldC5hcHBseSh0aGlzKTtyZXR1cm5cIlwiPT09ZS50eXBlP2U6cCh0aGlzLGUpfX0pLHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZihcImNsb3NlZFwiPT09dGhpcy5zaWduYWxpbmdTdGF0ZSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIFJUQ1BlZXJDb25uZWN0aW9uJ3Mgc2lnbmFsaW5nU3RhdGUgaXMgJ2Nsb3NlZCcuXCIsXCJJbnZhbGlkU3RhdGVFcnJvclwiKTtpZighZS5fcGMpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkFyZ3VtZW50IDEgb2YgUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2sgZG9lcyBub3QgaW1wbGVtZW50IGludGVyZmFjZSBSVENSdHBTZW5kZXIuXCIsXCJUeXBlRXJyb3JcIik7aWYoIShlLl9wYz09PXRoaXMpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJTZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgY29ubmVjdGlvbi5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LE9iamVjdC5rZXlzKHRoaXMuX3N0cmVhbXMpLmZvckVhY2goZnVuY3Rpb24obil7ci5fc3RyZWFtc1tuXS5nZXRUcmFja3MoKS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRyYWNrPT09dH0pJiYodD1yLl9zdHJlYW1zW25dKX0pLHQmJigxPT09dC5nZXRUcmFja3MoKS5sZW5ndGg/dGhpcy5yZW1vdmVTdHJlYW0odGhpcy5fcmV2ZXJzZVN0cmVhbXNbdC5pZF0pOnQucmVtb3ZlVHJhY2soZS50cmFjayksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpKSl9fWZ1bmN0aW9uIHAoZSx0KXt2YXIgcj10LnNkcDtyZXR1cm4gT2JqZWN0LmtleXMoZS5fcmV2ZXJzZVN0cmVhbXN8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuX3JldmVyc2VTdHJlYW1zW3RdLGk9ZS5fc3RyZWFtc1tuLmlkXTtyPXIucmVwbGFjZShuZXcgUmVnRXhwKGkuaWQsXCJnXCIpLG4uaWQpfSksbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTp0LnR5cGUsc2RwOnJ9KX19ZnVuY3Rpb24gdSh0KXt2YXIgcj1lLmRldGVjdEJyb3dzZXIodCk7aWYoIXQuUlRDUGVlckNvbm5lY3Rpb24mJnQud2Via2l0UlRDUGVlckNvbm5lY3Rpb24mJih0LlJUQ1BlZXJDb25uZWN0aW9uPXQud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pLHQuUlRDUGVlckNvbm5lY3Rpb24pe3IudmVyc2lvbjw1MyYmW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdLG49byh7fSxlLGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PWU/dC5SVENJY2VDYW5kaWRhdGU6dC5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXT1uW2VdfSk7dmFyIG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/ci52ZXJzaW9uPDc4JiZhcmd1bWVudHNbMF0mJlwiXCI9PT1hcmd1bWVudHNbMF0uY2FuZGlkYXRlP1Byb21pc2UucmVzb2x2ZSgpOm4uYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxQcm9taXNlLnJlc29sdmUoKSl9fX1mdW5jdGlvbiBsKHQpe2Uud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQodCxcIm5lZ290aWF0aW9ubmVlZGVkXCIsZnVuY3Rpb24oZSl7aWYoXCJzdGFibGVcIj09PWUudGFyZ2V0LnNpZ25hbGluZ1N0YXRlKXJldHVybiBlfSl9XG59LHtcIi4uL3V0aWxzLmpzXCI6XCJpU3hDXCIsXCIuL2dldHVzZXJtZWRpYVwiOlwiczZTTlwiLFwiLi9nZXRkaXNwbGF5bWVkaWFcIjpcIlZIYThcIn1dLFwiTloxQ1wiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmZpbHRlckljZVNlcnZlcnM9bjt2YXIgcj10KHJlcXVpcmUoXCIuLi91dGlsc1wiKSk7ZnVuY3Rpb24gZSgpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHI9bmV3IFdlYWtNYXA7cmV0dXJuIGU9ZnVuY3Rpb24oKXtyZXR1cm4gcn0scn1mdW5jdGlvbiB0KHIpe2lmKHImJnIuX19lc01vZHVsZSlyZXR1cm4gcjtpZihudWxsPT09cnx8XCJvYmplY3RcIiE9dHlwZW9mIHImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpcmV0dXJue2RlZmF1bHQ6cn07dmFyIHQ9ZSgpO2lmKHQmJnQuaGFzKHIpKXJldHVybiB0LmdldChyKTt2YXIgbj17fSx1PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGkgaW4gcilpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixpKSl7dmFyIGY9dT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsaSk6bnVsbDtmJiYoZi5nZXR8fGYuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobixpLGYpOm5baV09cltpXX1yZXR1cm4gbi5kZWZhdWx0PXIsdCYmdC5zZXQocixuKSxufWZ1bmN0aW9uIG4oZSx0KXt2YXIgbj0hMTtyZXR1cm4oZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKGUmJihlLnVybHN8fGUudXJsKSl7dmFyIHQ9ZS51cmxzfHxlLnVybDtlLnVybCYmIWUudXJscyYmci5kZXByZWNhdGVkKFwiUlRDSWNlU2VydmVyLnVybFwiLFwiUlRDSWNlU2VydmVyLnVybHNcIik7dmFyIHU9XCJzdHJpbmdcIj09dHlwZW9mIHQ7cmV0dXJuIHUmJih0PVt0XSksdD10LmZpbHRlcihmdW5jdGlvbihyKXtpZigwPT09ci5pbmRleE9mKFwic3R1bjpcIikpcmV0dXJuITE7dmFyIGU9ci5zdGFydHNXaXRoKFwidHVyblwiKSYmIXIuc3RhcnRzV2l0aChcInR1cm46W1wiKSYmci5pbmNsdWRlcyhcInRyYW5zcG9ydD11ZHBcIik7cmV0dXJuIGUmJiFuPyhuPSEwLCEwKTplJiYhbn0pLGRlbGV0ZSBlLnVybCxlLnVybHM9dT90WzBdOnQsISF0Lmxlbmd0aH19KX1cbn0se1wiLi4vdXRpbHNcIjpcImlTeENcIn1dLFwiWUh2aFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgcj17Z2VuZXJhdGVJZGVudGlmaWVyOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLDEwKX19O3IubG9jYWxDTmFtZT1yLmdlbmVyYXRlSWRlbnRpZmllcigpLHIuc3BsaXRMaW5lcz1mdW5jdGlvbihyKXtyZXR1cm4gci50cmltKCkuc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLnRyaW0oKX0pfSxyLnNwbGl0U2VjdGlvbnM9ZnVuY3Rpb24ocil7cmV0dXJuIHIuc3BsaXQoXCJcXG5tPVwiKS5tYXAoZnVuY3Rpb24ocixlKXtyZXR1cm4oZT4wP1wibT1cIityOnIpLnRyaW0oKStcIlxcclxcblwifSl9LHIuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ci5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiB0JiZ0WzBdfSxyLmdldE1lZGlhU2VjdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiB0LnNoaWZ0KCksdH0sci5tYXRjaFByZWZpeD1mdW5jdGlvbihlLHQpe3JldHVybiByLnNwbGl0TGluZXMoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiAwPT09ci5pbmRleE9mKHQpfSl9LHIucGFyc2VDYW5kaWRhdGU9ZnVuY3Rpb24ocil7Zm9yKHZhciBlLHQ9e2ZvdW5kYXRpb246KGU9MD09PXIuaW5kZXhPZihcImE9Y2FuZGlkYXRlOlwiKT9yLnN1YnN0cmluZygxMikuc3BsaXQoXCIgXCIpOnIuc3Vic3RyaW5nKDEwKS5zcGxpdChcIiBcIikpWzBdLGNvbXBvbmVudDpwYXJzZUludChlWzFdLDEwKSxwcm90b2NvbDplWzJdLnRvTG93ZXJDYXNlKCkscHJpb3JpdHk6cGFyc2VJbnQoZVszXSwxMCksaXA6ZVs0XSxhZGRyZXNzOmVbNF0scG9ydDpwYXJzZUludChlWzVdLDEwKSx0eXBlOmVbN119LG49ODtuPGUubGVuZ3RoO24rPTIpc3dpdGNoKGVbbl0pe2Nhc2VcInJhZGRyXCI6dC5yZWxhdGVkQWRkcmVzcz1lW24rMV07YnJlYWs7Y2FzZVwicnBvcnRcIjp0LnJlbGF0ZWRQb3J0PXBhcnNlSW50KGVbbisxXSwxMCk7YnJlYWs7Y2FzZVwidGNwdHlwZVwiOnQudGNwVHlwZT1lW24rMV07YnJlYWs7Y2FzZVwidWZyYWdcIjp0LnVmcmFnPWVbbisxXSx0LnVzZXJuYW1lRnJhZ21lbnQ9ZVtuKzFdO2JyZWFrO2RlZmF1bHQ6dFtlW25dXT1lW24rMV19cmV0dXJuIHR9LHIud3JpdGVDYW5kaWRhdGU9ZnVuY3Rpb24ocil7dmFyIGU9W107ZS5wdXNoKHIuZm91bmRhdGlvbiksZS5wdXNoKHIuY29tcG9uZW50KSxlLnB1c2goci5wcm90b2NvbC50b1VwcGVyQ2FzZSgpKSxlLnB1c2goci5wcmlvcml0eSksZS5wdXNoKHIuYWRkcmVzc3x8ci5pcCksZS5wdXNoKHIucG9ydCk7dmFyIHQ9ci50eXBlO3JldHVybiBlLnB1c2goXCJ0eXBcIiksZS5wdXNoKHQpLFwiaG9zdFwiIT09dCYmci5yZWxhdGVkQWRkcmVzcyYmci5yZWxhdGVkUG9ydCYmKGUucHVzaChcInJhZGRyXCIpLGUucHVzaChyLnJlbGF0ZWRBZGRyZXNzKSxlLnB1c2goXCJycG9ydFwiKSxlLnB1c2goci5yZWxhdGVkUG9ydCkpLHIudGNwVHlwZSYmXCJ0Y3BcIj09PXIucHJvdG9jb2wudG9Mb3dlckNhc2UoKSYmKGUucHVzaChcInRjcHR5cGVcIiksZS5wdXNoKHIudGNwVHlwZSkpLChyLnVzZXJuYW1lRnJhZ21lbnR8fHIudWZyYWcpJiYoZS5wdXNoKFwidWZyYWdcIiksZS5wdXNoKHIudXNlcm5hbWVGcmFnbWVudHx8ci51ZnJhZykpLFwiY2FuZGlkYXRlOlwiK2Uuam9pbihcIiBcIil9LHIucGFyc2VJY2VPcHRpb25zPWZ1bmN0aW9uKHIpe3JldHVybiByLnN1YnN0cigxNCkuc3BsaXQoXCIgXCIpfSxyLnBhcnNlUnRwTWFwPWZ1bmN0aW9uKHIpe3ZhciBlPXIuc3Vic3RyKDkpLnNwbGl0KFwiIFwiKSx0PXtwYXlsb2FkVHlwZTpwYXJzZUludChlLnNoaWZ0KCksMTApfTtyZXR1cm4gZT1lWzBdLnNwbGl0KFwiL1wiKSx0Lm5hbWU9ZVswXSx0LmNsb2NrUmF0ZT1wYXJzZUludChlWzFdLDEwKSx0LmNoYW5uZWxzPTM9PT1lLmxlbmd0aD9wYXJzZUludChlWzJdLDEwKToxLHQubnVtQ2hhbm5lbHM9dC5jaGFubmVscyx0fSxyLndyaXRlUnRwTWFwPWZ1bmN0aW9uKHIpe3ZhciBlPXIucGF5bG9hZFR5cGU7dm9pZCAwIT09ci5wcmVmZXJyZWRQYXlsb2FkVHlwZSYmKGU9ci5wcmVmZXJyZWRQYXlsb2FkVHlwZSk7dmFyIHQ9ci5jaGFubmVsc3x8ci5udW1DaGFubmVsc3x8MTtyZXR1cm5cImE9cnRwbWFwOlwiK2UrXCIgXCIrci5uYW1lK1wiL1wiK3IuY2xvY2tSYXRlKygxIT09dD9cIi9cIit0OlwiXCIpK1wiXFxyXFxuXCJ9LHIucGFyc2VFeHRtYXA9ZnVuY3Rpb24ocil7dmFyIGU9ci5zdWJzdHIoOSkuc3BsaXQoXCIgXCIpO3JldHVybntpZDpwYXJzZUludChlWzBdLDEwKSxkaXJlY3Rpb246ZVswXS5pbmRleE9mKFwiL1wiKT4wP2VbMF0uc3BsaXQoXCIvXCIpWzFdOlwic2VuZHJlY3ZcIix1cmk6ZVsxXX19LHIud3JpdGVFeHRtYXA9ZnVuY3Rpb24ocil7cmV0dXJuXCJhPWV4dG1hcDpcIisoci5pZHx8ci5wcmVmZXJyZWRJZCkrKHIuZGlyZWN0aW9uJiZcInNlbmRyZWN2XCIhPT1yLmRpcmVjdGlvbj9cIi9cIityLmRpcmVjdGlvbjpcIlwiKStcIiBcIityLnVyaStcIlxcclxcblwifSxyLnBhcnNlRm10cD1mdW5jdGlvbihyKXtmb3IodmFyIGUsdD17fSxuPXIuc3Vic3RyKHIuaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCI7XCIpLGE9MDthPG4ubGVuZ3RoO2ErKyl0WyhlPW5bYV0udHJpbSgpLnNwbGl0KFwiPVwiKSlbMF0udHJpbSgpXT1lWzFdO3JldHVybiB0fSxyLndyaXRlRm10cD1mdW5jdGlvbihyKXt2YXIgZT1cIlwiLHQ9ci5wYXlsb2FkVHlwZTtpZih2b2lkIDAhPT1yLnByZWZlcnJlZFBheWxvYWRUeXBlJiYodD1yLnByZWZlcnJlZFBheWxvYWRUeXBlKSxyLnBhcmFtZXRlcnMmJk9iamVjdC5rZXlzKHIucGFyYW1ldGVycykubGVuZ3RoKXt2YXIgbj1bXTtPYmplY3Qua2V5cyhyLnBhcmFtZXRlcnMpLmZvckVhY2goZnVuY3Rpb24oZSl7ci5wYXJhbWV0ZXJzW2VdP24ucHVzaChlK1wiPVwiK3IucGFyYW1ldGVyc1tlXSk6bi5wdXNoKGUpfSksZSs9XCJhPWZtdHA6XCIrdCtcIiBcIituLmpvaW4oXCI7XCIpK1wiXFxyXFxuXCJ9cmV0dXJuIGV9LHIucGFyc2VSdGNwRmI9ZnVuY3Rpb24ocil7dmFyIGU9ci5zdWJzdHIoci5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIiBcIik7cmV0dXJue3R5cGU6ZS5zaGlmdCgpLHBhcmFtZXRlcjplLmpvaW4oXCIgXCIpfX0sci53cml0ZVJ0Y3BGYj1mdW5jdGlvbihyKXt2YXIgZT1cIlwiLHQ9ci5wYXlsb2FkVHlwZTtyZXR1cm4gdm9pZCAwIT09ci5wcmVmZXJyZWRQYXlsb2FkVHlwZSYmKHQ9ci5wcmVmZXJyZWRQYXlsb2FkVHlwZSksci5ydGNwRmVlZGJhY2smJnIucnRjcEZlZWRiYWNrLmxlbmd0aCYmci5ydGNwRmVlZGJhY2suZm9yRWFjaChmdW5jdGlvbihyKXtlKz1cImE9cnRjcC1mYjpcIit0K1wiIFwiK3IudHlwZSsoci5wYXJhbWV0ZXImJnIucGFyYW1ldGVyLmxlbmd0aD9cIiBcIityLnBhcmFtZXRlcjpcIlwiKStcIlxcclxcblwifSksZX0sci5wYXJzZVNzcmNNZWRpYT1mdW5jdGlvbihyKXt2YXIgZT1yLmluZGV4T2YoXCIgXCIpLHQ9e3NzcmM6cGFyc2VJbnQoci5zdWJzdHIoNyxlLTcpLDEwKX0sbj1yLmluZGV4T2YoXCI6XCIsZSk7cmV0dXJuIG4+LTE/KHQuYXR0cmlidXRlPXIuc3Vic3RyKGUrMSxuLWUtMSksdC52YWx1ZT1yLnN1YnN0cihuKzEpKTp0LmF0dHJpYnV0ZT1yLnN1YnN0cihlKzEpLHR9LHIucGFyc2VTc3JjR3JvdXA9ZnVuY3Rpb24ocil7dmFyIGU9ci5zdWJzdHIoMTMpLnNwbGl0KFwiIFwiKTtyZXR1cm57c2VtYW50aWNzOmUuc2hpZnQoKSxzc3JjczplLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gcGFyc2VJbnQociwxMCl9KX19LHIuZ2V0TWlkPWZ1bmN0aW9uKGUpe3ZhciB0PXIubWF0Y2hQcmVmaXgoZSxcImE9bWlkOlwiKVswXTtpZih0KXJldHVybiB0LnN1YnN0cig2KX0sci5wYXJzZUZpbmdlcnByaW50PWZ1bmN0aW9uKHIpe3ZhciBlPXIuc3Vic3RyKDE0KS5zcGxpdChcIiBcIik7cmV0dXJue2FsZ29yaXRobTplWzBdLnRvTG93ZXJDYXNlKCksdmFsdWU6ZVsxXX19LHIuZ2V0RHRsc1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57cm9sZTpcImF1dG9cIixmaW5nZXJwcmludHM6ci5tYXRjaFByZWZpeChlK3QsXCJhPWZpbmdlcnByaW50OlwiKS5tYXAoci5wYXJzZUZpbmdlcnByaW50KX19LHIud3JpdGVEdGxzUGFyYW1ldGVycz1mdW5jdGlvbihyLGUpe3ZhciB0PVwiYT1zZXR1cDpcIitlK1wiXFxyXFxuXCI7cmV0dXJuIHIuZmluZ2VycHJpbnRzLmZvckVhY2goZnVuY3Rpb24ocil7dCs9XCJhPWZpbmdlcnByaW50OlwiK3IuYWxnb3JpdGhtK1wiIFwiK3IudmFsdWUrXCJcXHJcXG5cIn0pLHR9LHIuZ2V0SWNlUGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe3ZhciBuPXIuc3BsaXRMaW5lcyhlKTtyZXR1cm57dXNlcm5hbWVGcmFnbWVudDoobj1uLmNvbmNhdChyLnNwbGl0TGluZXModCkpKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIDA9PT1yLmluZGV4T2YoXCJhPWljZS11ZnJhZzpcIil9KVswXS5zdWJzdHIoMTIpLHBhc3N3b3JkOm4uZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiAwPT09ci5pbmRleE9mKFwiYT1pY2UtcHdkOlwiKX0pWzBdLnN1YnN0cigxMCl9fSxyLndyaXRlSWNlUGFyYW1ldGVycz1mdW5jdGlvbihyKXtyZXR1cm5cImE9aWNlLXVmcmFnOlwiK3IudXNlcm5hbWVGcmFnbWVudCtcIlxcclxcbmE9aWNlLXB3ZDpcIityLnBhc3N3b3JkK1wiXFxyXFxuXCJ9LHIucGFyc2VSdHBQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17Y29kZWNzOltdLGhlYWRlckV4dGVuc2lvbnM6W10sZmVjTWVjaGFuaXNtczpbXSxydGNwOltdfSxuPXIuc3BsaXRMaW5lcyhlKVswXS5zcGxpdChcIiBcIiksYT0zO2E8bi5sZW5ndGg7YSsrKXt2YXIgcz1uW2FdLGk9ci5tYXRjaFByZWZpeChlLFwiYT1ydHBtYXA6XCIrcytcIiBcIilbMF07aWYoaSl7dmFyIHA9ci5wYXJzZVJ0cE1hcChpKSxjPXIubWF0Y2hQcmVmaXgoZSxcImE9Zm10cDpcIitzK1wiIFwiKTtzd2l0Y2gocC5wYXJhbWV0ZXJzPWMubGVuZ3RoP3IucGFyc2VGbXRwKGNbMF0pOnt9LHAucnRjcEZlZWRiYWNrPXIubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1mYjpcIitzK1wiIFwiKS5tYXAoci5wYXJzZVJ0Y3BGYiksdC5jb2RlY3MucHVzaChwKSxwLm5hbWUudG9VcHBlckNhc2UoKSl7Y2FzZVwiUkVEXCI6Y2FzZVwiVUxQRkVDXCI6dC5mZWNNZWNoYW5pc21zLnB1c2gocC5uYW1lLnRvVXBwZXJDYXNlKCkpfX19cmV0dXJuIHIubWF0Y2hQcmVmaXgoZSxcImE9ZXh0bWFwOlwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuaGVhZGVyRXh0ZW5zaW9ucy5wdXNoKHIucGFyc2VFeHRtYXAoZSkpfSksdH0sci53cml0ZVJ0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49XCJcIjtuKz1cIm09XCIrZStcIiBcIixuKz10LmNvZGVjcy5sZW5ndGg+MD9cIjlcIjpcIjBcIixuKz1cIiBVRFAvVExTL1JUUC9TQVZQRiBcIixuKz10LmNvZGVjcy5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIHZvaWQgMCE9PXIucHJlZmVycmVkUGF5bG9hZFR5cGU/ci5wcmVmZXJyZWRQYXlsb2FkVHlwZTpyLnBheWxvYWRUeXBlfSkuam9pbihcIiBcIikrXCJcXHJcXG5cIixuKz1cImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixuKz1cImE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxyXFxuXCIsdC5jb2RlY3MuZm9yRWFjaChmdW5jdGlvbihlKXtuKz1yLndyaXRlUnRwTWFwKGUpLG4rPXIud3JpdGVGbXRwKGUpLG4rPXIud3JpdGVSdGNwRmIoZSl9KTt2YXIgYT0wO3JldHVybiB0LmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IubWF4cHRpbWU+YSYmKGE9ci5tYXhwdGltZSl9KSxhPjAmJihuKz1cImE9bWF4cHRpbWU6XCIrYStcIlxcclxcblwiKSxuKz1cImE9cnRjcC1tdXhcXHJcXG5cIix0LmhlYWRlckV4dGVuc2lvbnMmJnQuaGVhZGVyRXh0ZW5zaW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGUpe24rPXIud3JpdGVFeHRtYXAoZSl9KSxufSxyLnBhcnNlUnRwRW5jb2RpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG49W10sYT1yLnBhcnNlUnRwUGFyYW1ldGVycyhlKSxzPS0xIT09YS5mZWNNZWNoYW5pc21zLmluZGV4T2YoXCJSRURcIiksaT0tMSE9PWEuZmVjTWVjaGFuaXNtcy5pbmRleE9mKFwiVUxQRkVDXCIpLHA9ci5tYXRjaFByZWZpeChlLFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIucGFyc2VTc3JjTWVkaWEoZSl9KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuXCJjbmFtZVwiPT09ci5hdHRyaWJ1dGV9KSxjPXAubGVuZ3RoPjAmJnBbMF0uc3NyYyxvPXIubWF0Y2hQcmVmaXgoZSxcImE9c3NyYy1ncm91cDpGSURcIikubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLnN1YnN0cigxNykuc3BsaXQoXCIgXCIpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gcGFyc2VJbnQociwxMCl9KX0pO28ubGVuZ3RoPjAmJm9bMF0ubGVuZ3RoPjEmJm9bMF1bMF09PT1jJiYodD1vWzBdWzFdKSxhLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKFwiUlRYXCI9PT1yLm5hbWUudG9VcHBlckNhc2UoKSYmci5wYXJhbWV0ZXJzLmFwdCl7dmFyIGU9e3NzcmM6Yyxjb2RlY1BheWxvYWRUeXBlOnBhcnNlSW50KHIucGFyYW1ldGVycy5hcHQsMTApfTtjJiZ0JiYoZS5ydHg9e3NzcmM6dH0pLG4ucHVzaChlKSxzJiYoKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpLmZlYz17c3NyYzpjLG1lY2hhbmlzbTppP1wicmVkK3VscGZlY1wiOlwicmVkXCJ9LG4ucHVzaChlKSl9fSksMD09PW4ubGVuZ3RoJiZjJiZuLnB1c2goe3NzcmM6Y30pO3ZhciB1PXIubWF0Y2hQcmVmaXgoZSxcImI9XCIpO3JldHVybiB1Lmxlbmd0aCYmKHU9MD09PXVbMF0uaW5kZXhPZihcImI9VElBUzpcIik/cGFyc2VJbnQodVswXS5zdWJzdHIoNyksMTApOjA9PT11WzBdLmluZGV4T2YoXCJiPUFTOlwiKT8xZTMqcGFyc2VJbnQodVswXS5zdWJzdHIoNSksMTApKi45NS0xNmUzOnZvaWQgMCxuLmZvckVhY2goZnVuY3Rpb24ocil7ci5tYXhCaXRyYXRlPXV9KSksbn0sci5wYXJzZVJ0Y3BQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49ci5tYXRjaFByZWZpeChlLFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIucGFyc2VTc3JjTWVkaWEoZSl9KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuXCJjbmFtZVwiPT09ci5hdHRyaWJ1dGV9KVswXTtuJiYodC5jbmFtZT1uLnZhbHVlLHQuc3NyYz1uLnNzcmMpO3ZhciBhPXIubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1yc2l6ZVwiKTt0LnJlZHVjZWRTaXplPWEubGVuZ3RoPjAsdC5jb21wb3VuZD0wPT09YS5sZW5ndGg7dmFyIHM9ci5tYXRjaFByZWZpeChlLFwiYT1ydGNwLW11eFwiKTtyZXR1cm4gdC5tdXg9cy5sZW5ndGg+MCx0fSxyLnBhcnNlTXNpZD1mdW5jdGlvbihlKXt2YXIgdCxuPXIubWF0Y2hQcmVmaXgoZSxcImE9bXNpZDpcIik7aWYoMT09PW4ubGVuZ3RoKXJldHVybntzdHJlYW06KHQ9blswXS5zdWJzdHIoNykuc3BsaXQoXCIgXCIpKVswXSx0cmFjazp0WzFdfTt2YXIgYT1yLm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gci5wYXJzZVNzcmNNZWRpYShlKX0pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm5cIm1zaWRcIj09PXIuYXR0cmlidXRlfSk7cmV0dXJuIGEubGVuZ3RoPjA/e3N0cmVhbToodD1hWzBdLnZhbHVlLnNwbGl0KFwiIFwiKSlbMF0sdHJhY2s6dFsxXX06dm9pZCAwfSxyLnBhcnNlU2N0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LG49ci5wYXJzZU1MaW5lKGUpLGE9ci5tYXRjaFByZWZpeChlLFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiKTthLmxlbmd0aD4wJiYodD1wYXJzZUludChhWzBdLnN1YnN0cigxOSksMTApKSxpc05hTih0KSYmKHQ9NjU1MzYpO3ZhciBzPXIubWF0Y2hQcmVmaXgoZSxcImE9c2N0cC1wb3J0OlwiKTtpZihzLmxlbmd0aD4wKXJldHVybntwb3J0OnBhcnNlSW50KHNbMF0uc3Vic3RyKDEyKSwxMCkscHJvdG9jb2w6bi5mbXQsbWF4TWVzc2FnZVNpemU6dH07aWYoci5tYXRjaFByZWZpeChlLFwiYT1zY3RwbWFwOlwiKS5sZW5ndGg+MCl7dmFyIGk9ci5tYXRjaFByZWZpeChlLFwiYT1zY3RwbWFwOlwiKVswXS5zdWJzdHIoMTApLnNwbGl0KFwiIFwiKTtyZXR1cm57cG9ydDpwYXJzZUludChpWzBdLDEwKSxwcm90b2NvbDppWzFdLG1heE1lc3NhZ2VTaXplOnR9fX0sci53cml0ZVNjdHBEZXNjcmlwdGlvbj1mdW5jdGlvbihyLGUpe3ZhciB0PVtdO3JldHVybiB0PVwiRFRMUy9TQ1RQXCIhPT1yLnByb3RvY29sP1tcIm09XCIrci5raW5kK1wiIDkgXCIrci5wcm90b2NvbCtcIiBcIitlLnByb3RvY29sK1wiXFxyXFxuXCIsXCJjPUlOIElQNCAwLjAuMC4wXFxyXFxuXCIsXCJhPXNjdHAtcG9ydDpcIitlLnBvcnQrXCJcXHJcXG5cIl06W1wibT1cIityLmtpbmQrXCIgOSBcIityLnByb3RvY29sK1wiIFwiK2UucG9ydCtcIlxcclxcblwiLFwiYz1JTiBJUDQgMC4wLjAuMFxcclxcblwiLFwiYT1zY3RwbWFwOlwiK2UucG9ydCtcIiBcIitlLnByb3RvY29sK1wiIDY1NTM1XFxyXFxuXCJdLHZvaWQgMCE9PWUubWF4TWVzc2FnZVNpemUmJnQucHVzaChcImE9bWF4LW1lc3NhZ2Utc2l6ZTpcIitlLm1heE1lc3NhZ2VTaXplK1wiXFxyXFxuXCIpLHQuam9pbihcIlwiKX0sci5nZW5lcmF0ZVNlc3Npb25JZD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc3Vic3RyKDIsMjEpfSxyLndyaXRlU2Vzc2lvbkJvaWxlcnBsYXRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT12b2lkIDAhPT10P3Q6MjtyZXR1cm5cInY9MFxcclxcbm89XCIrKG58fFwidGhpc2lzYWRhcHRlcm9ydGNcIikrXCIgXCIrKGV8fHIuZ2VuZXJhdGVTZXNzaW9uSWQoKSkrXCIgXCIrYStcIiBJTiBJUDQgMTI3LjAuMC4xXFxyXFxucz0tXFxyXFxudD0wIDBcXHJcXG5cIn0sci53cml0ZU1lZGlhU2VjdGlvbj1mdW5jdGlvbihlLHQsbixhKXt2YXIgcz1yLndyaXRlUnRwRGVzY3JpcHRpb24oZS5raW5kLHQpO2lmKHMrPXIud3JpdGVJY2VQYXJhbWV0ZXJzKGUuaWNlR2F0aGVyZXIuZ2V0TG9jYWxQYXJhbWV0ZXJzKCkpLHMrPXIud3JpdGVEdGxzUGFyYW1ldGVycyhlLmR0bHNUcmFuc3BvcnQuZ2V0TG9jYWxQYXJhbWV0ZXJzKCksXCJvZmZlclwiPT09bj9cImFjdHBhc3NcIjpcImFjdGl2ZVwiKSxzKz1cImE9bWlkOlwiK2UubWlkK1wiXFxyXFxuXCIsZS5kaXJlY3Rpb24/cys9XCJhPVwiK2UuZGlyZWN0aW9uK1wiXFxyXFxuXCI6ZS5ydHBTZW5kZXImJmUucnRwUmVjZWl2ZXI/cys9XCJhPXNlbmRyZWN2XFxyXFxuXCI6ZS5ydHBTZW5kZXI/cys9XCJhPXNlbmRvbmx5XFxyXFxuXCI6ZS5ydHBSZWNlaXZlcj9zKz1cImE9cmVjdm9ubHlcXHJcXG5cIjpzKz1cImE9aW5hY3RpdmVcXHJcXG5cIixlLnJ0cFNlbmRlcil7dmFyIGk9XCJtc2lkOlwiK2EuaWQrXCIgXCIrZS5ydHBTZW5kZXIudHJhY2suaWQrXCJcXHJcXG5cIjtzKz1cImE9XCIraSxzKz1cImE9c3NyYzpcIitlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYytcIiBcIitpLGUuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgmJihzKz1cImE9c3NyYzpcIitlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LnNzcmMrXCIgXCIraSxzKz1cImE9c3NyYy1ncm91cDpGSUQgXCIrZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMrXCIgXCIrZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eC5zc3JjK1wiXFxyXFxuXCIpfXJldHVybiBzKz1cImE9c3NyYzpcIitlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYytcIiBjbmFtZTpcIityLmxvY2FsQ05hbWUrXCJcXHJcXG5cIixlLnJ0cFNlbmRlciYmZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmKHMrPVwiYT1zc3JjOlwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHguc3NyYytcIiBjbmFtZTpcIityLmxvY2FsQ05hbWUrXCJcXHJcXG5cIiksc30sci5nZXREaXJlY3Rpb249ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ci5zcGxpdExpbmVzKGUpLGE9MDthPG4ubGVuZ3RoO2ErKylzd2l0Y2goblthXSl7Y2FzZVwiYT1zZW5kcmVjdlwiOmNhc2VcImE9c2VuZG9ubHlcIjpjYXNlXCJhPXJlY3Zvbmx5XCI6Y2FzZVwiYT1pbmFjdGl2ZVwiOnJldHVybiBuW2FdLnN1YnN0cigyKX1yZXR1cm4gdD9yLmdldERpcmVjdGlvbih0KTpcInNlbmRyZWN2XCJ9LHIuZ2V0S2luZD1mdW5jdGlvbihlKXtyZXR1cm4gci5zcGxpdExpbmVzKGUpWzBdLnNwbGl0KFwiIFwiKVswXS5zdWJzdHIoMil9LHIuaXNSZWplY3RlZD1mdW5jdGlvbihyKXtyZXR1cm5cIjBcIj09PXIuc3BsaXQoXCIgXCIsMilbMV19LHIucGFyc2VNTGluZT1mdW5jdGlvbihlKXt2YXIgdD1yLnNwbGl0TGluZXMoZSlbMF0uc3Vic3RyKDIpLnNwbGl0KFwiIFwiKTtyZXR1cm57a2luZDp0WzBdLHBvcnQ6cGFyc2VJbnQodFsxXSwxMCkscHJvdG9jb2w6dFsyXSxmbXQ6dC5zbGljZSgzKS5qb2luKFwiIFwiKX19LHIucGFyc2VPTGluZT1mdW5jdGlvbihlKXt2YXIgdD1yLm1hdGNoUHJlZml4KGUsXCJvPVwiKVswXS5zdWJzdHIoMikuc3BsaXQoXCIgXCIpO3JldHVybnt1c2VybmFtZTp0WzBdLHNlc3Npb25JZDp0WzFdLHNlc3Npb25WZXJzaW9uOnBhcnNlSW50KHRbMl0sMTApLG5ldFR5cGU6dFszXSxhZGRyZXNzVHlwZTp0WzRdLGFkZHJlc3M6dFs1XX19LHIuaXNWYWxpZFNEUD1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8MD09PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdD1yLnNwbGl0TGluZXMoZSksbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0ubGVuZ3RoPDJ8fFwiPVwiIT09dFtuXS5jaGFyQXQoMSkpcmV0dXJuITE7cmV0dXJuITB9LFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1yKTtcbn0se31dLFwiTkoydVwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgZT1yZXF1aXJlKFwic2RwXCIpO2Z1bmN0aW9uIHQoZSl7cmV0dXJue2luYm91bmRydHA6XCJpbmJvdW5kLXJ0cFwiLG91dGJvdW5kcnRwOlwib3V0Ym91bmQtcnRwXCIsY2FuZGlkYXRlcGFpcjpcImNhbmRpZGF0ZS1wYWlyXCIsbG9jYWxjYW5kaWRhdGU6XCJsb2NhbC1jYW5kaWRhdGVcIixyZW1vdGVjYW5kaWRhdGU6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9W2UudHlwZV18fGUudHlwZX1mdW5jdGlvbiByKHQscixuLGEsaSl7dmFyIHM9ZS53cml0ZVJ0cERlc2NyaXB0aW9uKHQua2luZCxyKTtpZihzKz1lLndyaXRlSWNlUGFyYW1ldGVycyh0LmljZUdhdGhlcmVyLmdldExvY2FsUGFyYW1ldGVycygpKSxzKz1lLndyaXRlRHRsc1BhcmFtZXRlcnModC5kdGxzVHJhbnNwb3J0LmdldExvY2FsUGFyYW1ldGVycygpLFwib2ZmZXJcIj09PW4/XCJhY3RwYXNzXCI6aXx8XCJhY3RpdmVcIikscys9XCJhPW1pZDpcIit0Lm1pZCtcIlxcclxcblwiLHQucnRwU2VuZGVyJiZ0LnJ0cFJlY2VpdmVyP3MrPVwiYT1zZW5kcmVjdlxcclxcblwiOnQucnRwU2VuZGVyP3MrPVwiYT1zZW5kb25seVxcclxcblwiOnQucnRwUmVjZWl2ZXI/cys9XCJhPXJlY3Zvbmx5XFxyXFxuXCI6cys9XCJhPWluYWN0aXZlXFxyXFxuXCIsdC5ydHBTZW5kZXIpe3ZhciBvPXQucnRwU2VuZGVyLl9pbml0aWFsVHJhY2tJZHx8dC5ydHBTZW5kZXIudHJhY2suaWQ7dC5ydHBTZW5kZXIuX2luaXRpYWxUcmFja0lkPW87dmFyIGM9XCJtc2lkOlwiKyhhP2EuaWQ6XCItXCIpK1wiIFwiK28rXCJcXHJcXG5cIjtzKz1cImE9XCIrYyxzKz1cImE9c3NyYzpcIit0LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYytcIiBcIitjLHQuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgmJihzKz1cImE9c3NyYzpcIit0LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LnNzcmMrXCIgXCIrYyxzKz1cImE9c3NyYy1ncm91cDpGSUQgXCIrdC5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMrXCIgXCIrdC5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eC5zc3JjK1wiXFxyXFxuXCIpfXJldHVybiBzKz1cImE9c3NyYzpcIit0LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYytcIiBjbmFtZTpcIitlLmxvY2FsQ05hbWUrXCJcXHJcXG5cIix0LnJ0cFNlbmRlciYmdC5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmKHMrPVwiYT1zc3JjOlwiK3Quc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHguc3NyYytcIiBjbmFtZTpcIitlLmxvY2FsQ05hbWUrXCJcXHJcXG5cIiksc31mdW5jdGlvbiBuKGUsdCl7dmFyIHI9ITE7cmV0dXJuKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpLmZpbHRlcihmdW5jdGlvbihlKXtpZihlJiYoZS51cmxzfHxlLnVybCkpe3ZhciBuPWUudXJsc3x8ZS51cmw7ZS51cmwmJiFlLnVybHMmJmNvbnNvbGUud2FybihcIlJUQ0ljZVNlcnZlci51cmwgaXMgZGVwcmVjYXRlZCEgVXNlIHVybHMgaW5zdGVhZC5cIik7dmFyIGE9XCJzdHJpbmdcIj09dHlwZW9mIG47cmV0dXJuIGEmJihuPVtuXSksbj1uLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuaW5kZXhPZihcInR1cm46XCIpJiYtMSE9PWUuaW5kZXhPZihcInRyYW5zcG9ydD11ZHBcIikmJi0xPT09ZS5pbmRleE9mKFwidHVybjpbXCIpJiYhcj8ocj0hMCwhMCk6MD09PWUuaW5kZXhPZihcInN0dW46XCIpJiZ0Pj0xNDM5MyYmLTE9PT1lLmluZGV4T2YoXCI/dHJhbnNwb3J0PXVkcFwiKX0pLGRlbGV0ZSBlLnVybCxlLnVybHM9YT9uWzBdOm4sISFuLmxlbmd0aH19KX1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9e2NvZGVjczpbXSxoZWFkZXJFeHRlbnNpb25zOltdLGZlY01lY2hhbmlzbXM6W119LG49ZnVuY3Rpb24oZSx0KXtlPXBhcnNlSW50KGUsMTApO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl0ucGF5bG9hZFR5cGU9PT1lfHx0W3JdLnByZWZlcnJlZFBheWxvYWRUeXBlPT09ZSlyZXR1cm4gdFtyXX0sYT1mdW5jdGlvbihlLHQscixhKXt2YXIgaT1uKGUucGFyYW1ldGVycy5hcHQscikscz1uKHQucGFyYW1ldGVycy5hcHQsYSk7cmV0dXJuIGkmJnMmJmkubmFtZS50b0xvd2VyQ2FzZSgpPT09cy5uYW1lLnRvTG93ZXJDYXNlKCl9O3JldHVybiBlLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Zvcih2YXIgaT0wO2k8dC5jb2RlY3MubGVuZ3RoO2krKyl7dmFyIHM9dC5jb2RlY3NbaV07aWYobi5uYW1lLnRvTG93ZXJDYXNlKCk9PT1zLm5hbWUudG9Mb3dlckNhc2UoKSYmbi5jbG9ja1JhdGU9PT1zLmNsb2NrUmF0ZSl7aWYoXCJydHhcIj09PW4ubmFtZS50b0xvd2VyQ2FzZSgpJiZuLnBhcmFtZXRlcnMmJnMucGFyYW1ldGVycy5hcHQmJiFhKG4scyxlLmNvZGVjcyx0LmNvZGVjcykpY29udGludWU7KHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzKSkpLm51bUNoYW5uZWxzPU1hdGgubWluKG4ubnVtQ2hhbm5lbHMscy5udW1DaGFubmVscyksci5jb2RlY3MucHVzaChzKSxzLnJ0Y3BGZWVkYmFjaz1zLnJ0Y3BGZWVkYmFjay5maWx0ZXIoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxuLnJ0Y3BGZWVkYmFjay5sZW5ndGg7dCsrKWlmKG4ucnRjcEZlZWRiYWNrW3RdLnR5cGU9PT1lLnR5cGUmJm4ucnRjcEZlZWRiYWNrW3RdLnBhcmFtZXRlcj09PWUucGFyYW1ldGVyKXJldHVybiEwO3JldHVybiExfSk7YnJlYWt9fX0pLGUuaGVhZGVyRXh0ZW5zaW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj0wO248dC5oZWFkZXJFeHRlbnNpb25zLmxlbmd0aDtuKyspe3ZhciBhPXQuaGVhZGVyRXh0ZW5zaW9uc1tuXTtpZihlLnVyaT09PWEudXJpKXtyLmhlYWRlckV4dGVuc2lvbnMucHVzaChhKTticmVha319fSkscn1mdW5jdGlvbiBpKGUsdCxyKXtyZXR1cm4tMSE9PXtvZmZlcjp7c2V0TG9jYWxEZXNjcmlwdGlvbjpbXCJzdGFibGVcIixcImhhdmUtbG9jYWwtb2ZmZXJcIl0sc2V0UmVtb3RlRGVzY3JpcHRpb246W1wic3RhYmxlXCIsXCJoYXZlLXJlbW90ZS1vZmZlclwiXX0sYW5zd2VyOntzZXRMb2NhbERlc2NyaXB0aW9uOltcImhhdmUtcmVtb3RlLW9mZmVyXCIsXCJoYXZlLWxvY2FsLXByYW5zd2VyXCJdLHNldFJlbW90ZURlc2NyaXB0aW9uOltcImhhdmUtbG9jYWwtb2ZmZXJcIixcImhhdmUtcmVtb3RlLXByYW5zd2VyXCJdfX1bdF1bZV0uaW5kZXhPZihyKX1mdW5jdGlvbiBzKGUsdCl7dmFyIHI9ZS5nZXRSZW1vdGVDYW5kaWRhdGVzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gdC5mb3VuZGF0aW9uPT09ZS5mb3VuZGF0aW9uJiZ0LmlwPT09ZS5pcCYmdC5wb3J0PT09ZS5wb3J0JiZ0LnByaW9yaXR5PT09ZS5wcmlvcml0eSYmdC5wcm90b2NvbD09PWUucHJvdG9jb2wmJnQudHlwZT09PWUudHlwZX0pO3JldHVybiByfHxlLmFkZFJlbW90ZUNhbmRpZGF0ZSh0KSwhcn1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9bmV3IEVycm9yKHQpO3JldHVybiByLm5hbWU9ZSxyLmNvZGU9e05vdFN1cHBvcnRlZEVycm9yOjksSW52YWxpZFN0YXRlRXJyb3I6MTEsSW52YWxpZEFjY2Vzc0Vycm9yOjE1LFR5cGVFcnJvcjp2b2lkIDAsT3BlcmF0aW9uRXJyb3I6dm9pZCAwfVtlXSxyfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGMsZCl7ZnVuY3Rpb24gcChlLHQpe3QuYWRkVHJhY2soZSksdC5kaXNwYXRjaEV2ZW50KG5ldyBjLk1lZGlhU3RyZWFtVHJhY2tFdmVudChcImFkZHRyYWNrXCIse3RyYWNrOmV9KSl9ZnVuY3Rpb24gbChlLHQscixuKXt2YXIgYT1uZXcgRXZlbnQoXCJ0cmFja1wiKTthLnRyYWNrPXQsYS5yZWNlaXZlcj1yLGEudHJhbnNjZWl2ZXI9e3JlY2VpdmVyOnJ9LGEuc3RyZWFtcz1uLGMuc2V0VGltZW91dChmdW5jdGlvbigpe2UuX2Rpc3BhdGNoRXZlbnQoXCJ0cmFja1wiLGEpfSl9dmFyIGY9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxhPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihbXCJhZGRFdmVudExpc3RlbmVyXCIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsXCJkaXNwYXRjaEV2ZW50XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7cltlXT1hW2VdLmJpbmQoYSl9KSx0aGlzLmNhblRyaWNrbGVJY2VDYW5kaWRhdGVzPW51bGwsdGhpcy5uZWVkTmVnb3RpYXRpb249ITEsdGhpcy5sb2NhbFN0cmVhbXM9W10sdGhpcy5yZW1vdGVTdHJlYW1zPVtdLHRoaXMuX2xvY2FsRGVzY3JpcHRpb249bnVsbCx0aGlzLl9yZW1vdGVEZXNjcmlwdGlvbj1udWxsLHRoaXMuc2lnbmFsaW5nU3RhdGU9XCJzdGFibGVcIix0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZT1cIm5ld1wiLHRoaXMuY29ubmVjdGlvblN0YXRlPVwibmV3XCIsdGhpcy5pY2VHYXRoZXJpbmdTdGF0ZT1cIm5ld1wiLHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0fHx7fSkpLHRoaXMudXNpbmdCdW5kbGU9XCJtYXgtYnVuZGxlXCI9PT10LmJ1bmRsZVBvbGljeSxcIm5lZ290aWF0ZVwiPT09dC5ydGNwTXV4UG9saWN5KXRocm93IG8oXCJOb3RTdXBwb3J0ZWRFcnJvclwiLFwicnRjcE11eFBvbGljeSAnbmVnb3RpYXRlJyBpcyBub3Qgc3VwcG9ydGVkXCIpO3N3aXRjaCh0LnJ0Y3BNdXhQb2xpY3l8fCh0LnJ0Y3BNdXhQb2xpY3k9XCJyZXF1aXJlXCIpLHQuaWNlVHJhbnNwb3J0UG9saWN5KXtjYXNlXCJhbGxcIjpjYXNlXCJyZWxheVwiOmJyZWFrO2RlZmF1bHQ6dC5pY2VUcmFuc3BvcnRQb2xpY3k9XCJhbGxcIn1zd2l0Y2godC5idW5kbGVQb2xpY3kpe2Nhc2VcImJhbGFuY2VkXCI6Y2FzZVwibWF4LWNvbXBhdFwiOmNhc2VcIm1heC1idW5kbGVcIjpicmVhaztkZWZhdWx0OnQuYnVuZGxlUG9saWN5PVwiYmFsYW5jZWRcIn1pZih0LmljZVNlcnZlcnM9bih0LmljZVNlcnZlcnN8fFtdLGQpLHRoaXMuX2ljZUdhdGhlcmVycz1bXSx0LmljZUNhbmRpZGF0ZVBvb2xTaXplKWZvcih2YXIgaT10LmljZUNhbmRpZGF0ZVBvb2xTaXplO2k+MDtpLS0pdGhpcy5faWNlR2F0aGVyZXJzLnB1c2gobmV3IGMuUlRDSWNlR2F0aGVyZXIoe2ljZVNlcnZlcnM6dC5pY2VTZXJ2ZXJzLGdhdGhlclBvbGljeTp0LmljZVRyYW5zcG9ydFBvbGljeX0pKTtlbHNlIHQuaWNlQ2FuZGlkYXRlUG9vbFNpemU9MDt0aGlzLl9jb25maWc9dCx0aGlzLnRyYW5zY2VpdmVycz1bXSx0aGlzLl9zZHBTZXNzaW9uSWQ9ZS5nZW5lcmF0ZVNlc3Npb25JZCgpLHRoaXMuX3NkcFNlc3Npb25WZXJzaW9uPTAsdGhpcy5fZHRsc1JvbGU9dm9pZCAwLHRoaXMuX2lzQ2xvc2VkPSExfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZi5wcm90b3R5cGUsXCJsb2NhbERlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9jYWxEZXNjcmlwdGlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZi5wcm90b3R5cGUsXCJyZW1vdGVEZXNjcmlwdGlvblwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZURlc2NyaXB0aW9ufX0pLGYucHJvdG90eXBlLm9uaWNlY2FuZGlkYXRlPW51bGwsZi5wcm90b3R5cGUub25hZGRzdHJlYW09bnVsbCxmLnByb3RvdHlwZS5vbnRyYWNrPW51bGwsZi5wcm90b3R5cGUub25yZW1vdmVzdHJlYW09bnVsbCxmLnByb3RvdHlwZS5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsZi5wcm90b3R5cGUub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCxmLnByb3RvdHlwZS5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLGYucHJvdG90eXBlLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2U9bnVsbCxmLnByb3RvdHlwZS5vbm5lZ290aWF0aW9ubmVlZGVkPW51bGwsZi5wcm90b3R5cGUub25kYXRhY2hhbm5lbD1udWxsLGYucHJvdG90eXBlLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGUsdCl7dGhpcy5faXNDbG9zZWR8fCh0aGlzLmRpc3BhdGNoRXZlbnQodCksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpc1tcIm9uXCIrZV0mJnRoaXNbXCJvblwiK2VdKHQpKX0sZi5wcm90b3R5cGUuX2VtaXRHYXRoZXJpbmdTdGF0ZUNoYW5nZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBFdmVudChcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIpO3RoaXMuX2Rpc3BhdGNoRXZlbnQoXCJpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZVwiLGUpfSxmLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ30sZi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxTdHJlYW1zfSxmLnByb3RvdHlwZS5nZXRSZW1vdGVTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3RlU3RyZWFtc30sZi5wcm90b3R5cGUuX2NyZWF0ZVRyYW5zY2VpdmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy50cmFuc2NlaXZlcnMubGVuZ3RoPjAsbj17dHJhY2s6bnVsbCxpY2VHYXRoZXJlcjpudWxsLGljZVRyYW5zcG9ydDpudWxsLGR0bHNUcmFuc3BvcnQ6bnVsbCxsb2NhbENhcGFiaWxpdGllczpudWxsLHJlbW90ZUNhcGFiaWxpdGllczpudWxsLHJ0cFNlbmRlcjpudWxsLHJ0cFJlY2VpdmVyOm51bGwsa2luZDplLG1pZDpudWxsLHNlbmRFbmNvZGluZ1BhcmFtZXRlcnM6bnVsbCxyZWN2RW5jb2RpbmdQYXJhbWV0ZXJzOm51bGwsc3RyZWFtOm51bGwsYXNzb2NpYXRlZFJlbW90ZU1lZGlhU3RyZWFtczpbXSx3YW50UmVjZWl2ZTohMH07aWYodGhpcy51c2luZ0J1bmRsZSYmciluLmljZVRyYW5zcG9ydD10aGlzLnRyYW5zY2VpdmVyc1swXS5pY2VUcmFuc3BvcnQsbi5kdGxzVHJhbnNwb3J0PXRoaXMudHJhbnNjZWl2ZXJzWzBdLmR0bHNUcmFuc3BvcnQ7ZWxzZXt2YXIgYT10aGlzLl9jcmVhdGVJY2VBbmREdGxzVHJhbnNwb3J0cygpO24uaWNlVHJhbnNwb3J0PWEuaWNlVHJhbnNwb3J0LG4uZHRsc1RyYW5zcG9ydD1hLmR0bHNUcmFuc3BvcnR9cmV0dXJuIHR8fHRoaXMudHJhbnNjZWl2ZXJzLnB1c2gobiksbn0sZi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9pc0Nsb3NlZCl0aHJvdyBvKFwiSW52YWxpZFN0YXRlRXJyb3JcIixcIkF0dGVtcHRlZCB0byBjYWxsIGFkZFRyYWNrIG9uIGEgY2xvc2VkIHBlZXJjb25uZWN0aW9uLlwiKTt2YXIgcjtpZih0aGlzLnRyYW5zY2VpdmVycy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrPT09ZX0pKXRocm93IG8oXCJJbnZhbGlkQWNjZXNzRXJyb3JcIixcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiKTtmb3IodmFyIG49MDtuPHRoaXMudHJhbnNjZWl2ZXJzLmxlbmd0aDtuKyspdGhpcy50cmFuc2NlaXZlcnNbbl0udHJhY2t8fHRoaXMudHJhbnNjZWl2ZXJzW25dLmtpbmQhPT1lLmtpbmR8fChyPXRoaXMudHJhbnNjZWl2ZXJzW25dKTtyZXR1cm4gcnx8KHI9dGhpcy5fY3JlYXRlVHJhbnNjZWl2ZXIoZS5raW5kKSksdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKSwtMT09PXRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2YodCkmJnRoaXMubG9jYWxTdHJlYW1zLnB1c2godCksci50cmFjaz1lLHIuc3RyZWFtPXQsci5ydHBTZW5kZXI9bmV3IGMuUlRDUnRwU2VuZGVyKGUsci5kdGxzVHJhbnNwb3J0KSxyLnJ0cFNlbmRlcn0sZi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoZD49MTUwMjUpZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3QuYWRkVHJhY2socixlKX0pO2Vsc2V7dmFyIHI9ZS5jbG9uZSgpO2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuPXIuZ2V0VHJhY2tzKClbdF07ZS5hZGRFdmVudExpc3RlbmVyKFwiZW5hYmxlZFwiLGZ1bmN0aW9uKGUpe24uZW5hYmxlZD1lLmVuYWJsZWR9KX0pLHIuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LmFkZFRyYWNrKGUscil9KX19LGYucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2lzQ2xvc2VkKXRocm93IG8oXCJJbnZhbGlkU3RhdGVFcnJvclwiLFwiQXR0ZW1wdGVkIHRvIGNhbGwgcmVtb3ZlVHJhY2sgb24gYSBjbG9zZWQgcGVlcmNvbm5lY3Rpb24uXCIpO2lmKCEoZSBpbnN0YW5jZW9mIGMuUlRDUnRwU2VuZGVyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgMSBvZiBSVENQZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayBkb2VzIG5vdCBpbXBsZW1lbnQgaW50ZXJmYWNlIFJUQ1J0cFNlbmRlci5cIik7dmFyIHQ9dGhpcy50cmFuc2NlaXZlcnMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5ydHBTZW5kZXI9PT1lfSk7aWYoIXQpdGhyb3cgbyhcIkludmFsaWRBY2Nlc3NFcnJvclwiLFwiU2VuZGVyIHdhcyBub3QgY3JlYXRlZCBieSB0aGlzIGNvbm5lY3Rpb24uXCIpO3ZhciByPXQuc3RyZWFtO3QucnRwU2VuZGVyLnN0b3AoKSx0LnJ0cFNlbmRlcj1udWxsLHQudHJhY2s9bnVsbCx0LnN0cmVhbT1udWxsLC0xPT09dGhpcy50cmFuc2NlaXZlcnMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0cmVhbX0pLmluZGV4T2YocikmJnRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2Yocik+LTEmJnRoaXMubG9jYWxTdHJlYW1zLnNwbGljZSh0aGlzLmxvY2FsU3RyZWFtcy5pbmRleE9mKHIpLDEpLHRoaXMuX21heWJlRmlyZU5lZ290aWF0aW9uTmVlZGVkKCl9LGYucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10LmdldFNlbmRlcnMoKS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrPT09ZX0pO3ImJnQucmVtb3ZlVHJhY2socil9KX0sZi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zY2VpdmVycy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISFlLnJ0cFNlbmRlcn0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ydHBTZW5kZXJ9KX0sZi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNjZWl2ZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hIWUucnRwUmVjZWl2ZXJ9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucnRwUmVjZWl2ZXJ9KX0sZi5wcm90b3R5cGUuX2NyZWF0ZUljZUdhdGhlcmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0JiZlPjApcmV0dXJuIHRoaXMudHJhbnNjZWl2ZXJzWzBdLmljZUdhdGhlcmVyO2lmKHRoaXMuX2ljZUdhdGhlcmVycy5sZW5ndGgpcmV0dXJuIHRoaXMuX2ljZUdhdGhlcmVycy5zaGlmdCgpO3ZhciBuPW5ldyBjLlJUQ0ljZUdhdGhlcmVyKHtpY2VTZXJ2ZXJzOnRoaXMuX2NvbmZpZy5pY2VTZXJ2ZXJzLGdhdGhlclBvbGljeTp0aGlzLl9jb25maWcuaWNlVHJhbnNwb3J0UG9saWN5fSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwic3RhdGVcIix7dmFsdWU6XCJuZXdcIix3cml0YWJsZTohMH0pLHRoaXMudHJhbnNjZWl2ZXJzW2VdLmJ1ZmZlcmVkQ2FuZGlkYXRlRXZlbnRzPVtdLHRoaXMudHJhbnNjZWl2ZXJzW2VdLmJ1ZmZlckNhbmRpZGF0ZXM9ZnVuY3Rpb24odCl7dmFyIGE9IXQuY2FuZGlkYXRlfHwwPT09T2JqZWN0LmtleXModC5jYW5kaWRhdGUpLmxlbmd0aDtuLnN0YXRlPWE/XCJjb21wbGV0ZWRcIjpcImdhdGhlcmluZ1wiLG51bGwhPT1yLnRyYW5zY2VpdmVyc1tlXS5idWZmZXJlZENhbmRpZGF0ZUV2ZW50cyYmci50cmFuc2NlaXZlcnNbZV0uYnVmZmVyZWRDYW5kaWRhdGVFdmVudHMucHVzaCh0KX0sbi5hZGRFdmVudExpc3RlbmVyKFwibG9jYWxjYW5kaWRhdGVcIix0aGlzLnRyYW5zY2VpdmVyc1tlXS5idWZmZXJDYW5kaWRhdGVzKSxufSxmLnByb3RvdHlwZS5fZ2F0aGVyPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcyxhPXRoaXMudHJhbnNjZWl2ZXJzW3JdLmljZUdhdGhlcmVyO2lmKCFhLm9ubG9jYWxjYW5kaWRhdGUpe3ZhciBpPXRoaXMudHJhbnNjZWl2ZXJzW3JdLmJ1ZmZlcmVkQ2FuZGlkYXRlRXZlbnRzO3RoaXMudHJhbnNjZWl2ZXJzW3JdLmJ1ZmZlcmVkQ2FuZGlkYXRlRXZlbnRzPW51bGwsYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9jYWxjYW5kaWRhdGVcIix0aGlzLnRyYW5zY2VpdmVyc1tyXS5idWZmZXJDYW5kaWRhdGVzKSxhLm9ubG9jYWxjYW5kaWRhdGU9ZnVuY3Rpb24oaSl7aWYoIShuLnVzaW5nQnVuZGxlJiZyPjApKXt2YXIgcz1uZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIik7cy5jYW5kaWRhdGU9e3NkcE1pZDp0LHNkcE1MaW5lSW5kZXg6cn07dmFyIG89aS5jYW5kaWRhdGUsYz0hb3x8MD09PU9iamVjdC5rZXlzKG8pLmxlbmd0aDtpZihjKVwibmV3XCIhPT1hLnN0YXRlJiZcImdhdGhlcmluZ1wiIT09YS5zdGF0ZXx8KGEuc3RhdGU9XCJjb21wbGV0ZWRcIik7ZWxzZXtcIm5ld1wiPT09YS5zdGF0ZSYmKGEuc3RhdGU9XCJnYXRoZXJpbmdcIiksby5jb21wb25lbnQ9MSxvLnVmcmFnPWEuZ2V0TG9jYWxQYXJhbWV0ZXJzKCkudXNlcm5hbWVGcmFnbWVudDt2YXIgZD1lLndyaXRlQ2FuZGlkYXRlKG8pO3MuY2FuZGlkYXRlPU9iamVjdC5hc3NpZ24ocy5jYW5kaWRhdGUsZS5wYXJzZUNhbmRpZGF0ZShkKSkscy5jYW5kaWRhdGUuY2FuZGlkYXRlPWQscy5jYW5kaWRhdGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue2NhbmRpZGF0ZTpzLmNhbmRpZGF0ZS5jYW5kaWRhdGUsc2RwTWlkOnMuY2FuZGlkYXRlLnNkcE1pZCxzZHBNTGluZUluZGV4OnMuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgsdXNlcm5hbWVGcmFnbWVudDpzLmNhbmRpZGF0ZS51c2VybmFtZUZyYWdtZW50fX19dmFyIHA9ZS5nZXRNZWRpYVNlY3Rpb25zKG4uX2xvY2FsRGVzY3JpcHRpb24uc2RwKTtwW3MuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXhdKz1jP1wiYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiOlwiYT1cIitzLmNhbmRpZGF0ZS5jYW5kaWRhdGUrXCJcXHJcXG5cIixuLl9sb2NhbERlc2NyaXB0aW9uLnNkcD1lLmdldERlc2NyaXB0aW9uKG4uX2xvY2FsRGVzY3JpcHRpb24uc2RwKStwLmpvaW4oXCJcIik7dmFyIGw9bi50cmFuc2NlaXZlcnMuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWNlR2F0aGVyZXImJlwiY29tcGxldGVkXCI9PT1lLmljZUdhdGhlcmVyLnN0YXRlfSk7XCJnYXRoZXJpbmdcIiE9PW4uaWNlR2F0aGVyaW5nU3RhdGUmJihuLmljZUdhdGhlcmluZ1N0YXRlPVwiZ2F0aGVyaW5nXCIsbi5fZW1pdEdhdGhlcmluZ1N0YXRlQ2hhbmdlKCkpLGN8fG4uX2Rpc3BhdGNoRXZlbnQoXCJpY2VjYW5kaWRhdGVcIixzKSxsJiYobi5fZGlzcGF0Y2hFdmVudChcImljZWNhbmRpZGF0ZVwiLG5ldyBFdmVudChcImljZWNhbmRpZGF0ZVwiKSksbi5pY2VHYXRoZXJpbmdTdGF0ZT1cImNvbXBsZXRlXCIsbi5fZW1pdEdhdGhlcmluZ1N0YXRlQ2hhbmdlKCkpfX0sYy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Eub25sb2NhbGNhbmRpZGF0ZShlKX0pfSwwKX19LGYucHJvdG90eXBlLl9jcmVhdGVJY2VBbmREdGxzVHJhbnNwb3J0cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgYy5SVENJY2VUcmFuc3BvcnQobnVsbCk7dC5vbmljZXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ZS5fdXBkYXRlSWNlQ29ubmVjdGlvblN0YXRlKCksZS5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCl9O3ZhciByPW5ldyBjLlJUQ0R0bHNUcmFuc3BvcnQodCk7cmV0dXJuIHIub25kdGxzc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtlLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoKX0sci5vbmVycm9yPWZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJzdGF0ZVwiLHt2YWx1ZTpcImZhaWxlZFwiLHdyaXRhYmxlOiEwfSksZS5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCl9LHtpY2VUcmFuc3BvcnQ6dCxkdGxzVHJhbnNwb3J0OnJ9fSxmLnByb3RvdHlwZS5fZGlzcG9zZUljZUFuZER0bHNUcmFuc3BvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudHJhbnNjZWl2ZXJzW2VdLmljZUdhdGhlcmVyO3QmJihkZWxldGUgdC5vbmxvY2FsY2FuZGlkYXRlLGRlbGV0ZSB0aGlzLnRyYW5zY2VpdmVyc1tlXS5pY2VHYXRoZXJlcik7dmFyIHI9dGhpcy50cmFuc2NlaXZlcnNbZV0uaWNlVHJhbnNwb3J0O3ImJihkZWxldGUgci5vbmljZXN0YXRlY2hhbmdlLGRlbGV0ZSB0aGlzLnRyYW5zY2VpdmVyc1tlXS5pY2VUcmFuc3BvcnQpO3ZhciBuPXRoaXMudHJhbnNjZWl2ZXJzW2VdLmR0bHNUcmFuc3BvcnQ7biYmKGRlbGV0ZSBuLm9uZHRsc3N0YXRlY2hhbmdlLGRlbGV0ZSBuLm9uZXJyb3IsZGVsZXRlIHRoaXMudHJhbnNjZWl2ZXJzW2VdLmR0bHNUcmFuc3BvcnQpfSxmLnByb3RvdHlwZS5fdHJhbnNjZWl2ZT1mdW5jdGlvbih0LHIsbil7dmFyIGk9YSh0LmxvY2FsQ2FwYWJpbGl0aWVzLHQucmVtb3RlQ2FwYWJpbGl0aWVzKTtyJiZ0LnJ0cFNlbmRlciYmKGkuZW5jb2RpbmdzPXQuc2VuZEVuY29kaW5nUGFyYW1ldGVycyxpLnJ0Y3A9e2NuYW1lOmUubG9jYWxDTmFtZSxjb21wb3VuZDp0LnJ0Y3BQYXJhbWV0ZXJzLmNvbXBvdW5kfSx0LnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnMubGVuZ3RoJiYoaS5ydGNwLnNzcmM9dC5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMpLHQucnRwU2VuZGVyLnNlbmQoaSkpLG4mJnQucnRwUmVjZWl2ZXImJmkuY29kZWNzLmxlbmd0aD4wJiYoXCJ2aWRlb1wiPT09dC5raW5kJiZ0LnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnMmJmQ8MTUwMTkmJnQucmVjdkVuY29kaW5nUGFyYW1ldGVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLnJ0eH0pLHQucmVjdkVuY29kaW5nUGFyYW1ldGVycy5sZW5ndGg/aS5lbmNvZGluZ3M9dC5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzOmkuZW5jb2RpbmdzPVt7fV0saS5ydGNwPXtjb21wb3VuZDp0LnJ0Y3BQYXJhbWV0ZXJzLmNvbXBvdW5kfSx0LnJ0Y3BQYXJhbWV0ZXJzLmNuYW1lJiYoaS5ydGNwLmNuYW1lPXQucnRjcFBhcmFtZXRlcnMuY25hbWUpLHQuc2VuZEVuY29kaW5nUGFyYW1ldGVycy5sZW5ndGgmJihpLnJ0Y3Auc3NyYz10LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYyksdC5ydHBSZWNlaXZlci5yZWNlaXZlKGkpKX0sZi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbih0KXt2YXIgcixuLHM9dGhpcztpZigtMT09PVtcIm9mZmVyXCIsXCJhbnN3ZXJcIl0uaW5kZXhPZih0LnR5cGUpKXJldHVybiBQcm9taXNlLnJlamVjdChvKFwiVHlwZUVycm9yXCIsJ1Vuc3VwcG9ydGVkIHR5cGUgXCInK3QudHlwZSsnXCInKSk7aWYoIWkoXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsdC50eXBlLHMuc2lnbmFsaW5nU3RhdGUpfHxzLl9pc0Nsb3NlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobyhcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJDYW4gbm90IHNldCBsb2NhbCBcIit0LnR5cGUrXCIgaW4gc3RhdGUgXCIrcy5zaWduYWxpbmdTdGF0ZSkpO2lmKFwib2ZmZXJcIj09PXQudHlwZSlyPWUuc3BsaXRTZWN0aW9ucyh0LnNkcCksbj1yLnNoaWZ0KCksci5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dmFyIG49ZS5wYXJzZVJ0cFBhcmFtZXRlcnModCk7cy50cmFuc2NlaXZlcnNbcl0ubG9jYWxDYXBhYmlsaXRpZXM9bn0pLHMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtzLl9nYXRoZXIoZS5taWQsdCl9KTtlbHNlIGlmKFwiYW5zd2VyXCI9PT10LnR5cGUpe3I9ZS5zcGxpdFNlY3Rpb25zKHMuX3JlbW90ZURlc2NyaXB0aW9uLnNkcCksbj1yLnNoaWZ0KCk7dmFyIGM9ZS5tYXRjaFByZWZpeChuLFwiYT1pY2UtbGl0ZVwiKS5sZW5ndGg+MDtyLmZvckVhY2goZnVuY3Rpb24odCxyKXt2YXIgaT1zLnRyYW5zY2VpdmVyc1tyXSxvPWkuaWNlR2F0aGVyZXIsZD1pLmljZVRyYW5zcG9ydCxwPWkuZHRsc1RyYW5zcG9ydCxsPWkubG9jYWxDYXBhYmlsaXRpZXMsZj1pLnJlbW90ZUNhcGFiaWxpdGllcztpZighKGUuaXNSZWplY3RlZCh0KSYmMD09PWUubWF0Y2hQcmVmaXgodCxcImE9YnVuZGxlLW9ubHlcIikubGVuZ3RoKSYmIWkucmVqZWN0ZWQpe3ZhciB1PWUuZ2V0SWNlUGFyYW1ldGVycyh0LG4pLHY9ZS5nZXREdGxzUGFyYW1ldGVycyh0LG4pO2MmJih2LnJvbGU9XCJzZXJ2ZXJcIikscy51c2luZ0J1bmRsZSYmMCE9PXJ8fChzLl9nYXRoZXIoaS5taWQsciksXCJuZXdcIj09PWQuc3RhdGUmJmQuc3RhcnQobyx1LGM/XCJjb250cm9sbGluZ1wiOlwiY29udHJvbGxlZFwiKSxcIm5ld1wiPT09cC5zdGF0ZSYmcC5zdGFydCh2KSk7dmFyIGg9YShsLGYpO3MuX3RyYW5zY2VpdmUoaSxoLmNvZGVjcy5sZW5ndGg+MCwhMSl9fSl9cmV0dXJuIHMuX2xvY2FsRGVzY3JpcHRpb249e3R5cGU6dC50eXBlLHNkcDp0LnNkcH0sXCJvZmZlclwiPT09dC50eXBlP3MuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKFwiaGF2ZS1sb2NhbC1vZmZlclwiKTpzLl91cGRhdGVTaWduYWxpbmdTdGF0ZShcInN0YWJsZVwiKSxQcm9taXNlLnJlc29sdmUoKX0sZi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztpZigtMT09PVtcIm9mZmVyXCIsXCJhbnN3ZXJcIl0uaW5kZXhPZih0LnR5cGUpKXJldHVybiBQcm9taXNlLnJlamVjdChvKFwiVHlwZUVycm9yXCIsJ1Vuc3VwcG9ydGVkIHR5cGUgXCInK3QudHlwZSsnXCInKSk7aWYoIWkoXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLHQudHlwZSxyLnNpZ25hbGluZ1N0YXRlKXx8ci5faXNDbG9zZWQpcmV0dXJuIFByb21pc2UucmVqZWN0KG8oXCJJbnZhbGlkU3RhdGVFcnJvclwiLFwiQ2FuIG5vdCBzZXQgcmVtb3RlIFwiK3QudHlwZStcIiBpbiBzdGF0ZSBcIityLnNpZ25hbGluZ1N0YXRlKSk7dmFyIG49e307ci5yZW1vdGVTdHJlYW1zLmZvckVhY2goZnVuY3Rpb24oZSl7bltlLmlkXT1lfSk7dmFyIGY9W10sdT1lLnNwbGl0U2VjdGlvbnModC5zZHApLHY9dS5zaGlmdCgpLGg9ZS5tYXRjaFByZWZpeCh2LFwiYT1pY2UtbGl0ZVwiKS5sZW5ndGg+MCxtPWUubWF0Y2hQcmVmaXgodixcImE9Z3JvdXA6QlVORExFIFwiKS5sZW5ndGg+MDtyLnVzaW5nQnVuZGxlPW07dmFyIGc9ZS5tYXRjaFByZWZpeCh2LFwiYT1pY2Utb3B0aW9uczpcIilbMF07cmV0dXJuIHIuY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXM9ISFnJiZnLnN1YnN0cigxNCkuc3BsaXQoXCIgXCIpLmluZGV4T2YoXCJ0cmlja2xlXCIpPj0wLHUuZm9yRWFjaChmdW5jdGlvbihpLG8pe3ZhciBsPWUuc3BsaXRMaW5lcyhpKSx1PWUuZ2V0S2luZChpKSxnPWUuaXNSZWplY3RlZChpKSYmMD09PWUubWF0Y2hQcmVmaXgoaSxcImE9YnVuZGxlLW9ubHlcIikubGVuZ3RoLHk9bFswXS5zdWJzdHIoMikuc3BsaXQoXCIgXCIpWzJdLFM9ZS5nZXREaXJlY3Rpb24oaSx2KSxUPWUucGFyc2VNc2lkKGkpLEU9ZS5nZXRNaWQoaSl8fGUuZ2VuZXJhdGVJZGVudGlmaWVyKCk7aWYoZ3x8XCJhcHBsaWNhdGlvblwiPT09dSYmKFwiRFRMUy9TQ1RQXCI9PT15fHxcIlVEUC9EVExTL1NDVFBcIj09PXkpKXIudHJhbnNjZWl2ZXJzW29dPXttaWQ6RSxraW5kOnUscHJvdG9jb2w6eSxyZWplY3RlZDohMH07ZWxzZXt2YXIgQyxQLHcsUixfLGssYix4LEQ7IWcmJnIudHJhbnNjZWl2ZXJzW29dJiZyLnRyYW5zY2VpdmVyc1tvXS5yZWplY3RlZCYmKHIudHJhbnNjZWl2ZXJzW29dPXIuX2NyZWF0ZVRyYW5zY2VpdmVyKHUsITApKTt2YXIgSSxMLE09ZS5wYXJzZVJ0cFBhcmFtZXRlcnMoaSk7Z3x8KEk9ZS5nZXRJY2VQYXJhbWV0ZXJzKGksdiksKEw9ZS5nZXREdGxzUGFyYW1ldGVycyhpLHYpKS5yb2xlPVwiY2xpZW50XCIpLGI9ZS5wYXJzZVJ0cEVuY29kaW5nUGFyYW1ldGVycyhpKTt2YXIgTz1lLnBhcnNlUnRjcFBhcmFtZXRlcnMoaSksRz1lLm1hdGNoUHJlZml4KGksXCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIsdikubGVuZ3RoPjAsaj1lLm1hdGNoUHJlZml4KGksXCJhPWNhbmRpZGF0ZTpcIikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLnBhcnNlQ2FuZGlkYXRlKHQpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5jb21wb25lbnR9KTtpZigoXCJvZmZlclwiPT09dC50eXBlfHxcImFuc3dlclwiPT09dC50eXBlKSYmIWcmJm0mJm8+MCYmci50cmFuc2NlaXZlcnNbb10mJihyLl9kaXNwb3NlSWNlQW5kRHRsc1RyYW5zcG9ydHMobyksci50cmFuc2NlaXZlcnNbb10uaWNlR2F0aGVyZXI9ci50cmFuc2NlaXZlcnNbMF0uaWNlR2F0aGVyZXIsci50cmFuc2NlaXZlcnNbb10uaWNlVHJhbnNwb3J0PXIudHJhbnNjZWl2ZXJzWzBdLmljZVRyYW5zcG9ydCxyLnRyYW5zY2VpdmVyc1tvXS5kdGxzVHJhbnNwb3J0PXIudHJhbnNjZWl2ZXJzWzBdLmR0bHNUcmFuc3BvcnQsci50cmFuc2NlaXZlcnNbb10ucnRwU2VuZGVyJiZyLnRyYW5zY2VpdmVyc1tvXS5ydHBTZW5kZXIuc2V0VHJhbnNwb3J0KHIudHJhbnNjZWl2ZXJzWzBdLmR0bHNUcmFuc3BvcnQpLHIudHJhbnNjZWl2ZXJzW29dLnJ0cFJlY2VpdmVyJiZyLnRyYW5zY2VpdmVyc1tvXS5ydHBSZWNlaXZlci5zZXRUcmFuc3BvcnQoci50cmFuc2NlaXZlcnNbMF0uZHRsc1RyYW5zcG9ydCkpLFwib2ZmZXJcIiE9PXQudHlwZXx8Zyl7aWYoXCJhbnN3ZXJcIj09PXQudHlwZSYmIWcpe1A9KEM9ci50cmFuc2NlaXZlcnNbb10pLmljZUdhdGhlcmVyLHc9Qy5pY2VUcmFuc3BvcnQsUj1DLmR0bHNUcmFuc3BvcnQsXz1DLnJ0cFJlY2VpdmVyLGs9Qy5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzLHg9Qy5sb2NhbENhcGFiaWxpdGllcyxyLnRyYW5zY2VpdmVyc1tvXS5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzPWIsci50cmFuc2NlaXZlcnNbb10ucmVtb3RlQ2FwYWJpbGl0aWVzPU0sci50cmFuc2NlaXZlcnNbb10ucnRjcFBhcmFtZXRlcnM9TyxqLmxlbmd0aCYmXCJuZXdcIj09PXcuc3RhdGUmJighaCYmIUd8fG0mJjAhPT1vP2ouZm9yRWFjaChmdW5jdGlvbihlKXtzKEMuaWNlVHJhbnNwb3J0LGUpfSk6dy5zZXRSZW1vdGVDYW5kaWRhdGVzKGopKSxtJiYwIT09b3x8KFwibmV3XCI9PT13LnN0YXRlJiZ3LnN0YXJ0KFAsSSxcImNvbnRyb2xsaW5nXCIpLFwibmV3XCI9PT1SLnN0YXRlJiZSLnN0YXJ0KEwpKSwhYShDLmxvY2FsQ2FwYWJpbGl0aWVzLEMucmVtb3RlQ2FwYWJpbGl0aWVzKS5jb2RlY3MuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCI9PT1lLm5hbWUudG9Mb3dlckNhc2UoKX0pLmxlbmd0aCYmQy5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmZGVsZXRlIEMuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgsci5fdHJhbnNjZWl2ZShDLFwic2VuZHJlY3ZcIj09PVN8fFwicmVjdm9ubHlcIj09PVMsXCJzZW5kcmVjdlwiPT09U3x8XCJzZW5kb25seVwiPT09UyksIV98fFwic2VuZHJlY3ZcIiE9PVMmJlwic2VuZG9ubHlcIiE9PVM/ZGVsZXRlIEMucnRwUmVjZWl2ZXI6KEQ9Xy50cmFjayxUPyhuW1Quc3RyZWFtXXx8KG5bVC5zdHJlYW1dPW5ldyBjLk1lZGlhU3RyZWFtKSxwKEQsbltULnN0cmVhbV0pLGYucHVzaChbRCxfLG5bVC5zdHJlYW1dXSkpOihuLmRlZmF1bHR8fChuLmRlZmF1bHQ9bmV3IGMuTWVkaWFTdHJlYW0pLHAoRCxuLmRlZmF1bHQpLGYucHVzaChbRCxfLG4uZGVmYXVsdF0pKSl9fWVsc2V7KEM9ci50cmFuc2NlaXZlcnNbb118fHIuX2NyZWF0ZVRyYW5zY2VpdmVyKHUpKS5taWQ9RSxDLmljZUdhdGhlcmVyfHwoQy5pY2VHYXRoZXJlcj1yLl9jcmVhdGVJY2VHYXRoZXJlcihvLG0pKSxqLmxlbmd0aCYmXCJuZXdcIj09PUMuaWNlVHJhbnNwb3J0LnN0YXRlJiYoIUd8fG0mJjAhPT1vP2ouZm9yRWFjaChmdW5jdGlvbihlKXtzKEMuaWNlVHJhbnNwb3J0LGUpfSk6Qy5pY2VUcmFuc3BvcnQuc2V0UmVtb3RlQ2FuZGlkYXRlcyhqKSkseD1jLlJUQ1J0cFJlY2VpdmVyLmdldENhcGFiaWxpdGllcyh1KSxkPDE1MDE5JiYoeC5jb2RlY3M9eC5jb2RlY3MuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCIhPT1lLm5hbWV9KSksaz1DLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnN8fFt7c3NyYzoxMDAxKigyKm8rMil9XTt2YXIgTixBPSExO2lmKFwic2VuZHJlY3ZcIj09PVN8fFwic2VuZG9ubHlcIj09PVMpe2lmKEE9IUMucnRwUmVjZWl2ZXIsXz1DLnJ0cFJlY2VpdmVyfHxuZXcgYy5SVENSdHBSZWNlaXZlcihDLmR0bHNUcmFuc3BvcnQsdSksQSlEPV8udHJhY2ssVCYmXCItXCI9PT1ULnN0cmVhbXx8KFQ/KG5bVC5zdHJlYW1dfHwobltULnN0cmVhbV09bmV3IGMuTWVkaWFTdHJlYW0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG5bVC5zdHJlYW1dLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFQuc3RyZWFtfX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRCxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBULnRyYWNrfX0pLE49bltULnN0cmVhbV0pOihuLmRlZmF1bHR8fChuLmRlZmF1bHQ9bmV3IGMuTWVkaWFTdHJlYW0pLE49bi5kZWZhdWx0KSksTiYmKHAoRCxOKSxDLmFzc29jaWF0ZWRSZW1vdGVNZWRpYVN0cmVhbXMucHVzaChOKSksZi5wdXNoKFtELF8sTl0pfWVsc2UgQy5ydHBSZWNlaXZlciYmQy5ydHBSZWNlaXZlci50cmFjayYmKEMuYXNzb2NpYXRlZFJlbW90ZU1lZGlhU3RyZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1lLmdldFRyYWNrcygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1DLnJ0cFJlY2VpdmVyLnRyYWNrLmlkfSk7biYmKHQ9biwocj1lKS5yZW1vdmVUcmFjayh0KSxyLmRpc3BhdGNoRXZlbnQobmV3IGMuTWVkaWFTdHJlYW1UcmFja0V2ZW50KFwicmVtb3ZldHJhY2tcIix7dHJhY2s6dH0pKSl9KSxDLmFzc29jaWF0ZWRSZW1vdGVNZWRpYVN0cmVhbXM9W10pO0MubG9jYWxDYXBhYmlsaXRpZXM9eCxDLnJlbW90ZUNhcGFiaWxpdGllcz1NLEMucnRwUmVjZWl2ZXI9XyxDLnJ0Y3BQYXJhbWV0ZXJzPU8sQy5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzPWssQy5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzPWIsci5fdHJhbnNjZWl2ZShyLnRyYW5zY2VpdmVyc1tvXSwhMSxBKX19fSksdm9pZCAwPT09ci5fZHRsc1JvbGUmJihyLl9kdGxzUm9sZT1cIm9mZmVyXCI9PT10LnR5cGU/XCJhY3RpdmVcIjpcInBhc3NpdmVcIiksci5fcmVtb3RlRGVzY3JpcHRpb249e3R5cGU6dC50eXBlLHNkcDp0LnNkcH0sXCJvZmZlclwiPT09dC50eXBlP3IuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKFwiaGF2ZS1yZW1vdGUtb2ZmZXJcIik6ci5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoXCJzdGFibGVcIiksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO2lmKHQuZ2V0VHJhY2tzKCkubGVuZ3RoKXtpZigtMT09PXIucmVtb3RlU3RyZWFtcy5pbmRleE9mKHQpKXtyLnJlbW90ZVN0cmVhbXMucHVzaCh0KTt2YXIgYT1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7YS5zdHJlYW09dCxjLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9kaXNwYXRjaEV2ZW50KFwiYWRkc3RyZWFtXCIsYSl9KX1mLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZVswXSxhPWVbMV07dC5pZD09PWVbMl0uaWQmJmwocixuLGEsW3RdKX0pfX0pLGYuZm9yRWFjaChmdW5jdGlvbihlKXtlWzJdfHxsKHIsZVswXSxlWzFdLFtdKX0pLGMuc2V0VGltZW91dChmdW5jdGlvbigpe3ImJnIudHJhbnNjZWl2ZXJzJiZyLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaWNlVHJhbnNwb3J0JiZcIm5ld1wiPT09ZS5pY2VUcmFuc3BvcnQuc3RhdGUmJmUuaWNlVHJhbnNwb3J0LmdldFJlbW90ZUNhbmRpZGF0ZXMoKS5sZW5ndGg+MCYmKGNvbnNvbGUud2FybihcIlRpbWVvdXQgZm9yIGFkZFJlbW90ZUNhbmRpZGF0ZS4gQ29uc2lkZXIgc2VuZGluZyBhbiBlbmQtb2YtY2FuZGlkYXRlcyBub3RpZmljYXRpb25cIiksZS5pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKHt9KSl9KX0sNGUzKSxQcm9taXNlLnJlc29sdmUoKX0sZi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaWNlVHJhbnNwb3J0JiZlLmljZVRyYW5zcG9ydC5zdG9wKCksZS5kdGxzVHJhbnNwb3J0JiZlLmR0bHNUcmFuc3BvcnQuc3RvcCgpLGUucnRwU2VuZGVyJiZlLnJ0cFNlbmRlci5zdG9wKCksZS5ydHBSZWNlaXZlciYmZS5ydHBSZWNlaXZlci5zdG9wKCl9KSx0aGlzLl9pc0Nsb3NlZD0hMCx0aGlzLl91cGRhdGVTaWduYWxpbmdTdGF0ZShcImNsb3NlZFwiKX0sZi5wcm90b3R5cGUuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlPWZ1bmN0aW9uKGUpe3RoaXMuc2lnbmFsaW5nU3RhdGU9ZTt2YXIgdD1uZXcgRXZlbnQoXCJzaWduYWxpbmdzdGF0ZWNoYW5nZVwiKTt0aGlzLl9kaXNwYXRjaEV2ZW50KFwic2lnbmFsaW5nc3RhdGVjaGFuZ2VcIix0KX0sZi5wcm90b3R5cGUuX21heWJlRmlyZU5lZ290aWF0aW9uTmVlZGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztcInN0YWJsZVwiPT09dGhpcy5zaWduYWxpbmdTdGF0ZSYmITAhPT10aGlzLm5lZWROZWdvdGlhdGlvbiYmKHRoaXMubmVlZE5lZ290aWF0aW9uPSEwLGMuc2V0VGltZW91dChmdW5jdGlvbigpe2lmKGUubmVlZE5lZ290aWF0aW9uKXtlLm5lZWROZWdvdGlhdGlvbj0hMTt2YXIgdD1uZXcgRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiKTtlLl9kaXNwYXRjaEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIix0KX19LDApKX0sZi5wcm90b3R5cGUuX3VwZGF0ZUljZUNvbm5lY3Rpb25TdGF0ZT1mdW5jdGlvbigpe3ZhciBlLHQ9e25ldzowLGNsb3NlZDowLGNoZWNraW5nOjAsY29ubmVjdGVkOjAsY29tcGxldGVkOjAsZGlzY29ubmVjdGVkOjAsZmFpbGVkOjB9O2lmKHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pY2VUcmFuc3BvcnQmJiFlLnJlamVjdGVkJiZ0W2UuaWNlVHJhbnNwb3J0LnN0YXRlXSsrfSksZT1cIm5ld1wiLHQuZmFpbGVkPjA/ZT1cImZhaWxlZFwiOnQuY2hlY2tpbmc+MD9lPVwiY2hlY2tpbmdcIjp0LmRpc2Nvbm5lY3RlZD4wP2U9XCJkaXNjb25uZWN0ZWRcIjp0Lm5ldz4wP2U9XCJuZXdcIjp0LmNvbm5lY3RlZD4wP2U9XCJjb25uZWN0ZWRcIjp0LmNvbXBsZXRlZD4wJiYoZT1cImNvbXBsZXRlZFwiKSxlIT09dGhpcy5pY2VDb25uZWN0aW9uU3RhdGUpe3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlPWU7dmFyIHI9bmV3IEV2ZW50KFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIpO3RoaXMuX2Rpc3BhdGNoRXZlbnQoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixyKX19LGYucHJvdG90eXBlLl91cGRhdGVDb25uZWN0aW9uU3RhdGU9ZnVuY3Rpb24oKXt2YXIgZSx0PXtuZXc6MCxjbG9zZWQ6MCxjb25uZWN0aW5nOjAsY29ubmVjdGVkOjAsY29tcGxldGVkOjAsZGlzY29ubmVjdGVkOjAsZmFpbGVkOjB9O2lmKHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pY2VUcmFuc3BvcnQmJmUuZHRsc1RyYW5zcG9ydCYmIWUucmVqZWN0ZWQmJih0W2UuaWNlVHJhbnNwb3J0LnN0YXRlXSsrLHRbZS5kdGxzVHJhbnNwb3J0LnN0YXRlXSsrKX0pLHQuY29ubmVjdGVkKz10LmNvbXBsZXRlZCxlPVwibmV3XCIsdC5mYWlsZWQ+MD9lPVwiZmFpbGVkXCI6dC5jb25uZWN0aW5nPjA/ZT1cImNvbm5lY3RpbmdcIjp0LmRpc2Nvbm5lY3RlZD4wP2U9XCJkaXNjb25uZWN0ZWRcIjp0Lm5ldz4wP2U9XCJuZXdcIjp0LmNvbm5lY3RlZD4wJiYoZT1cImNvbm5lY3RlZFwiKSxlIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpe3RoaXMuY29ubmVjdGlvblN0YXRlPWU7dmFyIHI9bmV3IEV2ZW50KFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIpO3RoaXMuX2Rpc3BhdGNoRXZlbnQoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixyKX19LGYucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0Ll9pc0Nsb3NlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobyhcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJDYW4gbm90IGNhbGwgY3JlYXRlT2ZmZXIgYWZ0ZXIgY2xvc2VcIikpO3ZhciBuPXQudHJhbnNjZWl2ZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvXCI9PT1lLmtpbmR9KS5sZW5ndGgsYT10LnRyYW5zY2VpdmVycy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb1wiPT09ZS5raW5kfSkubGVuZ3RoLGk9YXJndW1lbnRzWzBdO2lmKGkpe2lmKGkubWFuZGF0b3J5fHxpLm9wdGlvbmFsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJMZWdhY3kgbWFuZGF0b3J5L29wdGlvbmFsIGNvbnN0cmFpbnRzIG5vdCBzdXBwb3J0ZWQuXCIpO3ZvaWQgMCE9PWkub2ZmZXJUb1JlY2VpdmVBdWRpbyYmKG49ITA9PT1pLm9mZmVyVG9SZWNlaXZlQXVkaW8/MTohMT09PWkub2ZmZXJUb1JlY2VpdmVBdWRpbz8wOmkub2ZmZXJUb1JlY2VpdmVBdWRpbyksdm9pZCAwIT09aS5vZmZlclRvUmVjZWl2ZVZpZGVvJiYoYT0hMD09PWkub2ZmZXJUb1JlY2VpdmVWaWRlbz8xOiExPT09aS5vZmZlclRvUmVjZWl2ZVZpZGVvPzA6aS5vZmZlclRvUmVjZWl2ZVZpZGVvKX1mb3IodC50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtcImF1ZGlvXCI9PT1lLmtpbmQ/LS1uPDAmJihlLndhbnRSZWNlaXZlPSExKTpcInZpZGVvXCI9PT1lLmtpbmQmJi0tYTwwJiYoZS53YW50UmVjZWl2ZT0hMSl9KTtuPjB8fGE+MDspbj4wJiYodC5fY3JlYXRlVHJhbnNjZWl2ZXIoXCJhdWRpb1wiKSxuLS0pLGE+MCYmKHQuX2NyZWF0ZVRyYW5zY2VpdmVyKFwidmlkZW9cIiksYS0tKTt2YXIgcz1lLndyaXRlU2Vzc2lvbkJvaWxlcnBsYXRlKHQuX3NkcFNlc3Npb25JZCx0Ll9zZHBTZXNzaW9uVmVyc2lvbisrKTt0LnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dmFyIGE9ci50cmFjayxpPXIua2luZCxzPXIubWlkfHxlLmdlbmVyYXRlSWRlbnRpZmllcigpO3IubWlkPXMsci5pY2VHYXRoZXJlcnx8KHIuaWNlR2F0aGVyZXI9dC5fY3JlYXRlSWNlR2F0aGVyZXIobix0LnVzaW5nQnVuZGxlKSk7dmFyIG89Yy5SVENSdHBTZW5kZXIuZ2V0Q2FwYWJpbGl0aWVzKGkpO2Q8MTUwMTkmJihvLmNvZGVjcz1vLmNvZGVjcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJydHhcIiE9PWUubmFtZX0pKSxvLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wiSDI2NFwiPT09ZS5uYW1lJiZ2b2lkIDA9PT1lLnBhcmFtZXRlcnNbXCJsZXZlbC1hc3ltbWV0cnktYWxsb3dlZFwiXSYmKGUucGFyYW1ldGVyc1tcImxldmVsLWFzeW1tZXRyeS1hbGxvd2VkXCJdPVwiMVwiKSxyLnJlbW90ZUNhcGFiaWxpdGllcyYmci5yZW1vdGVDYXBhYmlsaXRpZXMuY29kZWNzJiZyLnJlbW90ZUNhcGFiaWxpdGllcy5jb2RlY3MuZm9yRWFjaChmdW5jdGlvbih0KXtlLm5hbWUudG9Mb3dlckNhc2UoKT09PXQubmFtZS50b0xvd2VyQ2FzZSgpJiZlLmNsb2NrUmF0ZT09PXQuY2xvY2tSYXRlJiYoZS5wcmVmZXJyZWRQYXlsb2FkVHlwZT10LnBheWxvYWRUeXBlKX0pfSksby5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24oZSl7KHIucmVtb3RlQ2FwYWJpbGl0aWVzJiZyLnJlbW90ZUNhcGFiaWxpdGllcy5oZWFkZXJFeHRlbnNpb25zfHxbXSkuZm9yRWFjaChmdW5jdGlvbih0KXtlLnVyaT09PXQudXJpJiYoZS5pZD10LmlkKX0pfSk7dmFyIHA9ci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzfHxbe3NzcmM6MTAwMSooMipuKzEpfV07YSYmZD49MTUwMTkmJlwidmlkZW9cIj09PWkmJiFwWzBdLnJ0eCYmKHBbMF0ucnR4PXtzc3JjOnBbMF0uc3NyYysxfSksci53YW50UmVjZWl2ZSYmKHIucnRwUmVjZWl2ZXI9bmV3IGMuUlRDUnRwUmVjZWl2ZXIoci5kdGxzVHJhbnNwb3J0LGkpKSxyLmxvY2FsQ2FwYWJpbGl0aWVzPW8sci5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzPXB9KSxcIm1heC1jb21wYXRcIiE9PXQuX2NvbmZpZy5idW5kbGVQb2xpY3kmJihzKz1cImE9Z3JvdXA6QlVORExFIFwiK3QudHJhbnNjZWl2ZXJzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5taWR9KS5qb2luKFwiIFwiKStcIlxcclxcblwiKSxzKz1cImE9aWNlLW9wdGlvbnM6dHJpY2tsZVxcclxcblwiLHQudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24obixhKXtzKz1yKG4sbi5sb2NhbENhcGFiaWxpdGllcyxcIm9mZmVyXCIsbi5zdHJlYW0sdC5fZHRsc1JvbGUpLHMrPVwiYT1ydGNwLXJzaXplXFxyXFxuXCIsIW4uaWNlR2F0aGVyZXJ8fFwibmV3XCI9PT10LmljZUdhdGhlcmluZ1N0YXRlfHwwIT09YSYmdC51c2luZ0J1bmRsZXx8KG4uaWNlR2F0aGVyZXIuZ2V0TG9jYWxDYW5kaWRhdGVzKCkuZm9yRWFjaChmdW5jdGlvbih0KXt0LmNvbXBvbmVudD0xLHMrPVwiYT1cIitlLndyaXRlQ2FuZGlkYXRlKHQpK1wiXFxyXFxuXCJ9KSxcImNvbXBsZXRlZFwiPT09bi5pY2VHYXRoZXJlci5zdGF0ZSYmKHMrPVwiYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiKSl9KTt2YXIgcD1uZXcgYy5SVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpzfSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShwKX0sZi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0Ll9pc0Nsb3NlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobyhcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJDYW4gbm90IGNhbGwgY3JlYXRlQW5zd2VyIGFmdGVyIGNsb3NlXCIpKTtpZihcImhhdmUtcmVtb3RlLW9mZmVyXCIhPT10LnNpZ25hbGluZ1N0YXRlJiZcImhhdmUtbG9jYWwtcHJhbnN3ZXJcIiE9PXQuc2lnbmFsaW5nU3RhdGUpcmV0dXJuIFByb21pc2UucmVqZWN0KG8oXCJJbnZhbGlkU3RhdGVFcnJvclwiLFwiQ2FuIG5vdCBjYWxsIGNyZWF0ZUFuc3dlciBpbiBzaWduYWxpbmdTdGF0ZSBcIit0LnNpZ25hbGluZ1N0YXRlKSk7dmFyIG49ZS53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZSh0Ll9zZHBTZXNzaW9uSWQsdC5fc2RwU2Vzc2lvblZlcnNpb24rKyk7dC51c2luZ0J1bmRsZSYmKG4rPVwiYT1ncm91cDpCVU5ETEUgXCIrdC50cmFuc2NlaXZlcnMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1pZH0pLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIpLG4rPVwiYT1pY2Utb3B0aW9uczp0cmlja2xlXFxyXFxuXCI7dmFyIGk9ZS5nZXRNZWRpYVNlY3Rpb25zKHQuX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkubGVuZ3RoO3QudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24oZSxzKXtpZighKHMrMT5pKSl7aWYoZS5yZWplY3RlZClyZXR1cm5cImFwcGxpY2F0aW9uXCI9PT1lLmtpbmQ/XCJEVExTL1NDVFBcIj09PWUucHJvdG9jb2w/bis9XCJtPWFwcGxpY2F0aW9uIDAgRFRMUy9TQ1RQIDUwMDBcXHJcXG5cIjpuKz1cIm09YXBwbGljYXRpb24gMCBcIitlLnByb3RvY29sK1wiIHdlYnJ0Yy1kYXRhY2hhbm5lbFxcclxcblwiOlwiYXVkaW9cIj09PWUua2luZD9uKz1cIm09YXVkaW8gMCBVRFAvVExTL1JUUC9TQVZQRiAwXFxyXFxuYT1ydHBtYXA6MCBQQ01VLzgwMDBcXHJcXG5cIjpcInZpZGVvXCI9PT1lLmtpbmQmJihuKz1cIm09dmlkZW8gMCBVRFAvVExTL1JUUC9TQVZQRiAxMjBcXHJcXG5hPXJ0cG1hcDoxMjAgVlA4LzkwMDAwXFxyXFxuXCIpLHZvaWQobis9XCJjPUlOIElQNCAwLjAuMC4wXFxyXFxuYT1pbmFjdGl2ZVxcclxcbmE9bWlkOlwiK2UubWlkK1wiXFxyXFxuXCIpO3ZhciBvO2lmKGUuc3RyZWFtKVwiYXVkaW9cIj09PWUua2luZD9vPWUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF06XCJ2aWRlb1wiPT09ZS5raW5kJiYobz1lLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKSxvJiZkPj0xNTAxOSYmXCJ2aWRlb1wiPT09ZS5raW5kJiYhZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmKGUuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHg9e3NzcmM6ZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMrMX0pO3ZhciBjPWEoZS5sb2NhbENhcGFiaWxpdGllcyxlLnJlbW90ZUNhcGFiaWxpdGllcyk7IWMuY29kZWNzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInJ0eFwiPT09ZS5uYW1lLnRvTG93ZXJDYXNlKCl9KS5sZW5ndGgmJmUuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgmJmRlbGV0ZSBlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LG4rPXIoZSxjLFwiYW5zd2VyXCIsZS5zdHJlYW0sdC5fZHRsc1JvbGUpLGUucnRjcFBhcmFtZXRlcnMmJmUucnRjcFBhcmFtZXRlcnMucmVkdWNlZFNpemUmJihuKz1cImE9cnRjcC1yc2l6ZVxcclxcblwiKX19KTt2YXIgcz1uZXcgYy5SVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bn0pO3JldHVybiBQcm9taXNlLnJlc29sdmUocyl9LGYucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbih0KXt2YXIgcixuPXRoaXM7cmV0dXJuIHQmJnZvaWQgMD09PXQuc2RwTUxpbmVJbmRleCYmIXQuc2RwTWlkP1Byb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJzZHBNTGluZUluZGV4IG9yIHNkcE1pZCByZXF1aXJlZFwiKSk6bmV3IFByb21pc2UoZnVuY3Rpb24oYSxpKXtpZighbi5fcmVtb3RlRGVzY3JpcHRpb24pcmV0dXJuIGkobyhcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJDYW4gbm90IGFkZCBJQ0UgY2FuZGlkYXRlIHdpdGhvdXQgYSByZW1vdGUgZGVzY3JpcHRpb25cIikpO2lmKHQmJlwiXCIhPT10LmNhbmRpZGF0ZSl7dmFyIGM9dC5zZHBNTGluZUluZGV4O2lmKHQuc2RwTWlkKWZvcih2YXIgZD0wO2Q8bi50cmFuc2NlaXZlcnMubGVuZ3RoO2QrKylpZihuLnRyYW5zY2VpdmVyc1tkXS5taWQ9PT10LnNkcE1pZCl7Yz1kO2JyZWFrfXZhciBwPW4udHJhbnNjZWl2ZXJzW2NdO2lmKCFwKXJldHVybiBpKG8oXCJPcGVyYXRpb25FcnJvclwiLFwiQ2FuIG5vdCBhZGQgSUNFIGNhbmRpZGF0ZVwiKSk7aWYocC5yZWplY3RlZClyZXR1cm4gYSgpO3ZhciBsPU9iamVjdC5rZXlzKHQuY2FuZGlkYXRlKS5sZW5ndGg+MD9lLnBhcnNlQ2FuZGlkYXRlKHQuY2FuZGlkYXRlKTp7fTtpZihcInRjcFwiPT09bC5wcm90b2NvbCYmKDA9PT1sLnBvcnR8fDk9PT1sLnBvcnQpKXJldHVybiBhKCk7aWYobC5jb21wb25lbnQmJjEhPT1sLmNvbXBvbmVudClyZXR1cm4gYSgpO2lmKCgwPT09Y3x8Yz4wJiZwLmljZVRyYW5zcG9ydCE9PW4udHJhbnNjZWl2ZXJzWzBdLmljZVRyYW5zcG9ydCkmJiFzKHAuaWNlVHJhbnNwb3J0LGwpKXJldHVybiBpKG8oXCJPcGVyYXRpb25FcnJvclwiLFwiQ2FuIG5vdCBhZGQgSUNFIGNhbmRpZGF0ZVwiKSk7dmFyIGY9dC5jYW5kaWRhdGUudHJpbSgpOzA9PT1mLmluZGV4T2YoXCJhPVwiKSYmKGY9Zi5zdWJzdHIoMikpLChyPWUuZ2V0TWVkaWFTZWN0aW9ucyhuLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHApKVtjXSs9XCJhPVwiKyhsLnR5cGU/ZjpcImVuZC1vZi1jYW5kaWRhdGVzXCIpK1wiXFxyXFxuXCIsbi5fcmVtb3RlRGVzY3JpcHRpb24uc2RwPWUuZ2V0RGVzY3JpcHRpb24obi5fcmVtb3RlRGVzY3JpcHRpb24uc2RwKStyLmpvaW4oXCJcIil9ZWxzZSBmb3IodmFyIHU9MDt1PG4udHJhbnNjZWl2ZXJzLmxlbmd0aCYmKG4udHJhbnNjZWl2ZXJzW3VdLnJlamVjdGVkfHwobi50cmFuc2NlaXZlcnNbdV0uaWNlVHJhbnNwb3J0LmFkZFJlbW90ZUNhbmRpZGF0ZSh7fSksKHI9ZS5nZXRNZWRpYVNlY3Rpb25zKG4uX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkpW3VdKz1cImE9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG5cIixuLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHA9ZS5nZXREZXNjcmlwdGlvbihuLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHApK3Iuam9pbihcIlwiKSwhbi51c2luZ0J1bmRsZSkpO3UrKyk7YSgpfSl9LGYucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKGUpe2lmKGUmJmUgaW5zdGFuY2VvZiBjLk1lZGlhU3RyZWFtVHJhY2spe3ZhciB0PW51bGw7aWYodGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihyKXtyLnJ0cFNlbmRlciYmci5ydHBTZW5kZXIudHJhY2s9PT1lP3Q9ci5ydHBTZW5kZXI6ci5ydHBSZWNlaXZlciYmci5ydHBSZWNlaXZlci50cmFjaz09PWUmJih0PXIucnRwUmVjZWl2ZXIpfSksIXQpdGhyb3cgbyhcIkludmFsaWRBY2Nlc3NFcnJvclwiLFwiSW52YWxpZCBzZWxlY3Rvci5cIik7cmV0dXJuIHQuZ2V0U3RhdHMoKX12YXIgcj1bXTtyZXR1cm4gdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtbXCJydHBTZW5kZXJcIixcInJ0cFJlY2VpdmVyXCIsXCJpY2VHYXRoZXJlclwiLFwiaWNlVHJhbnNwb3J0XCIsXCJkdGxzVHJhbnNwb3J0XCJdLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XSYmci5wdXNoKGVbdF0uZ2V0U3RhdHMoKSl9KX0pLFByb21pc2UuYWxsKHIpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IE1hcDtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXt0LnNldChlLmlkLGUpfSl9KSx0fSl9O1tcIlJUQ1J0cFNlbmRlclwiLFwiUlRDUnRwUmVjZWl2ZXJcIixcIlJUQ0ljZUdhdGhlcmVyXCIsXCJSVENJY2VUcmFuc3BvcnRcIixcIlJUQ0R0bHNUcmFuc3BvcnRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1jW2VdO2lmKHImJnIucHJvdG90eXBlJiZyLnByb3RvdHlwZS5nZXRTdGF0cyl7dmFyIG49ci5wcm90b3R5cGUuZ2V0U3RhdHM7ci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseSh0aGlzKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPW5ldyBNYXA7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24obil7ZVtuXS50eXBlPXQoZVtuXSksci5zZXQobixlW25dKX0pLHJ9KX19fSk7dmFyIHU9W1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXTtyZXR1cm4gdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWYucHJvdG90eXBlW2VdO2YucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGVbMF18fFwiZnVuY3Rpb25cIj09dHlwZW9mIGVbMV0/dC5hcHBseSh0aGlzLFthcmd1bWVudHNbMl1dKS50aGVuKGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGVbMF0mJmVbMF0uYXBwbHkobnVsbCxbdF0pfSxmdW5jdGlvbih0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzFdJiZlWzFdLmFwcGx5KG51bGwsW3RdKX0pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLCh1PVtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Zi5wcm90b3R5cGVbZV07Zi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZVsxXXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZVsyXT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVsxXSYmZVsxXS5hcHBseShudWxsKX0sZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVsyXSYmZVsyXS5hcHBseShudWxsLFt0XSl9KTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSxbXCJnZXRTdGF0c1wiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWYucHJvdG90eXBlW2VdO2YucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGVbMV0/dC5hcHBseSh0aGlzLGFyZ3VtZW50cykudGhlbihmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGVbMV0mJmVbMV0uYXBwbHkobnVsbCl9KTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSxmfTtcbn0se1wic2RwXCI6XCJZSHZoXCJ9XSxcIllkS3hcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXt2YXIgcj1lJiZlLm5hdmlnYXRvcix0PXIubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKHIubWVkaWFEZXZpY2VzKTtyLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOntQZXJtaXNzaW9uRGVuaWVkRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIn1bZS5uYW1lXXx8ZS5uYW1lLG1lc3NhZ2U6ZS5tZXNzYWdlLGNvbnN0cmFpbnQ6ZS5jb25zdHJhaW50LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX19fShlKSl9KX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltR2V0VXNlck1lZGlhPWU7XG59LHt9XSxcIlAzYlZcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXtcImdldERpc3BsYXlNZWRpYVwiaW4gZS5uYXZpZ2F0b3ImJmUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmXCJnZXREaXNwbGF5TWVkaWFcImluIGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8KGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE9ZS5uYXZpZ2F0b3IuZ2V0RGlzcGxheU1lZGlhLmJpbmQoZS5uYXZpZ2F0b3IpKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltR2V0RGlzcGxheU1lZGlhPWU7XG59LHt9XSxcIlhSaWNcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltUGVlckNvbm5lY3Rpb249YSxleHBvcnRzLnNoaW1SZXBsYWNlVHJhY2s9cCxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcInNoaW1HZXRVc2VyTWVkaWFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zaGltR2V0VXNlck1lZGlhfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwic2hpbUdldERpc3BsYXlNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLnNoaW1HZXREaXNwbGF5TWVkaWF9fSk7dmFyIGU9cyhyZXF1aXJlKFwiLi4vdXRpbHNcIikpLHQ9cmVxdWlyZShcIi4vZmlsdGVyaWNlc2VydmVyc1wiKSxyPW8ocmVxdWlyZShcInJ0Y3BlZXJjb25uZWN0aW9uLXNoaW1cIikpLG49cmVxdWlyZShcIi4vZ2V0dXNlcm1lZGlhXCIpLGk9cmVxdWlyZShcIi4vZ2V0ZGlzcGxheW1lZGlhXCIpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGMoKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwO3JldHVybiBjPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gcyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciB0PWMoKTtpZih0JiZ0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpe3ZhciBvPW4/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm51bGw7byYmKG8uZ2V0fHxvLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsaSxvKTpyW2ldPWVbaV19cmV0dXJuIHIuZGVmYXVsdD1lLHQmJnQuc2V0KGUscikscn1mdW5jdGlvbiBhKG4pe3ZhciBpPWUuZGV0ZWN0QnJvd3NlcihuKTtpZihuLlJUQ0ljZUdhdGhlcmVyJiYobi5SVENJY2VDYW5kaWRhdGV8fChuLlJUQ0ljZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0pLG4uUlRDU2Vzc2lvbkRlc2NyaXB0aW9ufHwobi5SVENTZXNzaW9uRGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSxpLnZlcnNpb248MTUwMjUpKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4uTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUsXCJlbmFibGVkXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLk1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLFwiZW5hYmxlZFwiLHtzZXQ6ZnVuY3Rpb24oZSl7by5zZXQuY2FsbCh0aGlzLGUpO3ZhciB0PW5ldyBFdmVudChcImVuYWJsZWRcIik7dC5lbmFibGVkPWUsdGhpcy5kaXNwYXRjaEV2ZW50KHQpfX0pfSFuLlJUQ1J0cFNlbmRlcnx8XCJkdG1mXCJpbiBuLlJUQ1J0cFNlbmRlci5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsXCJkdG1mXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYoXCJhdWRpb1wiPT09dGhpcy50cmFjay5raW5kP3RoaXMuX2R0bWY9bmV3IG4uUlRDRHRtZlNlbmRlcih0aGlzKTpcInZpZGVvXCI9PT10aGlzLnRyYWNrLmtpbmQmJih0aGlzLl9kdG1mPW51bGwpKSx0aGlzLl9kdG1mfX0pLG4uUlRDRHRtZlNlbmRlciYmIW4uUlRDRFRNRlNlbmRlciYmKG4uUlRDRFRNRlNlbmRlcj1uLlJUQ0R0bWZTZW5kZXIpO3ZhciBjPSgwLHIuZGVmYXVsdCkobixpLnZlcnNpb24pO24uUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24ocil7cmV0dXJuIHImJnIuaWNlU2VydmVycyYmKHIuaWNlU2VydmVycz0oMCx0LmZpbHRlckljZVNlcnZlcnMpKHIuaWNlU2VydmVycyxpLnZlcnNpb24pLGUubG9nKFwiSUNFIHNlcnZlcnMgYWZ0ZXIgZmlsdGVyaW5nOlwiLHIuaWNlU2VydmVycykpLG5ldyBjKHIpfSxuLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZT1jLnByb3RvdHlwZX1mdW5jdGlvbiBwKGUpeyFlLlJUQ1J0cFNlbmRlcnx8XCJyZXBsYWNlVHJhY2tcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZXx8KGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5yZXBsYWNlVHJhY2s9ZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLnNldFRyYWNrKX1cbn0se1wiLi4vdXRpbHNcIjpcImlTeENcIixcIi4vZmlsdGVyaWNlc2VydmVyc1wiOlwiTloxQ1wiLFwicnRjcGVlcmNvbm5lY3Rpb24tc2hpbVwiOlwiTkoydVwiLFwiLi9nZXR1c2VybWVkaWFcIjpcIllkS3hcIixcIi4vZ2V0ZGlzcGxheW1lZGlhXCI6XCJQM2JWXCJ9XSxcIkd6U3ZcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltR2V0VXNlck1lZGlhPW47dmFyIGU9byhyZXF1aXJlKFwiLi4vdXRpbHNcIikpO2Z1bmN0aW9uIHQoKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwO3JldHVybiB0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciBvPXQoKTtpZihvJiZvLmhhcyhlKSlyZXR1cm4gby5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpe3ZhciBhPW4/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm51bGw7YSYmKGEuZ2V0fHxhLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsaSxhKTpyW2ldPWVbaV19cmV0dXJuIHIuZGVmYXVsdD1lLG8mJm8uc2V0KGUscikscn1mdW5jdGlvbiByKGUpe3JldHVybihyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBuKHQpe3ZhciBvPWUuZGV0ZWN0QnJvd3Nlcih0KSxuPXQmJnQubmF2aWdhdG9yLGk9dCYmdC5NZWRpYVN0cmVhbVRyYWNrO2lmKG4uZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKHQsbyxyKXtlLmRlcHJlY2F0ZWQoXCJuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhXCIsXCJuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiKSxuLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEodCkudGhlbihvLHIpfSwhKG8udmVyc2lvbj41NSYmXCJhdXRvR2FpbkNvbnRyb2xcImluIG4ubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzKCkpKXt2YXIgYT1mdW5jdGlvbihlLHQsbyl7dCBpbiBlJiYhKG8gaW4gZSkmJihlW29dPWVbdF0sZGVsZXRlIGVbdF0pfSxzPW4ubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKG4ubWVkaWFEZXZpY2VzKTtpZihuLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09PXIoZSkmJlwib2JqZWN0XCI9PT1yKGUuYXVkaW8pJiYoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSxhKGUuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxhKGUuYXVkaW8sXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSxzKGUpfSxpJiZpLnByb3RvdHlwZS5nZXRTZXR0aW5ncyl7dmFyIHA9aS5wcm90b3R5cGUuZ2V0U2V0dGluZ3M7aS5wcm90b3R5cGUuZ2V0U2V0dGluZ3M9ZnVuY3Rpb24oKXt2YXIgZT1wLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYShlLFwibW96QXV0b0dhaW5Db250cm9sXCIsXCJhdXRvR2FpbkNvbnRyb2xcIiksYShlLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiLFwibm9pc2VTdXBwcmVzc2lvblwiKSxlfX1pZihpJiZpLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzKXt2YXIgdT1pLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzO2kucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb1wiPT09dGhpcy5raW5kJiZcIm9iamVjdFwiPT09cihlKSYmKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSksYShlLFwiYXV0b0dhaW5Db250cm9sXCIsXCJtb3pBdXRvR2FpbkNvbnRyb2xcIiksYShlLFwibm9pc2VTdXBwcmVzc2lvblwiLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiKSksdS5hcHBseSh0aGlzLFtlXSl9fX19XG59LHtcIi4uL3V0aWxzXCI6XCJpU3hDXCJ9XSxcIlV1R1VcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlLGkpe2UubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmXCJnZXREaXNwbGF5TWVkaWFcImluIGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiYoZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1mdW5jdGlvbihhKXtpZighYXx8IWEudmlkZW8pe3ZhciB0PW5ldyBET01FeGNlcHRpb24oXCJnZXREaXNwbGF5TWVkaWEgd2l0aG91dCB2aWRlbyBjb25zdHJhaW50cyBpcyB1bmRlZmluZWRcIik7cmV0dXJuIHQubmFtZT1cIk5vdEZvdW5kRXJyb3JcIix0LmNvZGU9OCxQcm9taXNlLnJlamVjdCh0KX1yZXR1cm4hMD09PWEudmlkZW8/YS52aWRlbz17bWVkaWFTb3VyY2U6aX06YS52aWRlby5tZWRpYVNvdXJjZT1pLGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoYSl9KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1HZXREaXNwbGF5TWVkaWE9ZTtcbn0se31dLFwiRnpkclwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1PblRyYWNrPWMsZXhwb3J0cy5zaGltUGVlckNvbm5lY3Rpb249cyxleHBvcnRzLnNoaW1TZW5kZXJHZXRTdGF0cz1wLGV4cG9ydHMuc2hpbVJlY2VpdmVyR2V0U3RhdHM9dSxleHBvcnRzLnNoaW1SZW1vdmVTdHJlYW09ZixleHBvcnRzLnNoaW1SVENEYXRhQ2hhbm5lbD1DLGV4cG9ydHMuc2hpbUFkZFRyYW5zY2VpdmVyPWQsZXhwb3J0cy5zaGltQ3JlYXRlT2ZmZXI9eSxleHBvcnRzLnNoaW1DcmVhdGVBbnN3ZXI9bCxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcInNoaW1HZXRVc2VyTWVkaWFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zaGltR2V0VXNlck1lZGlhfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwic2hpbUdldERpc3BsYXlNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLnNoaW1HZXREaXNwbGF5TWVkaWF9fSk7dmFyIGU9byhyZXF1aXJlKFwiLi4vdXRpbHNcIikpLHQ9cmVxdWlyZShcIi4vZ2V0dXNlcm1lZGlhXCIpLHI9cmVxdWlyZShcIi4vZ2V0ZGlzcGxheW1lZGlhXCIpO2Z1bmN0aW9uIG4oKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwO3JldHVybiBuPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciB0PW4oKTtpZih0JiZ0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dmFyIHI9e30sbz1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkpe3ZhciBhPW8/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm51bGw7YSYmKGEuZ2V0fHxhLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsaSxhKTpyW2ldPWVbaV19cmV0dXJuIHIuZGVmYXVsdD1lLHQmJnQuc2V0KGUscikscn1mdW5jdGlvbiBpKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBhKGUpe3JldHVybihhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUpe1wib2JqZWN0XCI9PT1hKGUpJiZlLlJUQ1RyYWNrRXZlbnQmJlwicmVjZWl2ZXJcImluIGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUmJiEoXCJ0cmFuc2NlaXZlclwiaW4gZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlLFwidHJhbnNjZWl2ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3JlY2VpdmVyOnRoaXMucmVjZWl2ZXJ9fX0pfWZ1bmN0aW9uIHModCl7dmFyIHI9ZS5kZXRlY3RCcm93c2VyKHQpO2lmKFwib2JqZWN0XCI9PT1hKHQpJiYodC5SVENQZWVyQ29ubmVjdGlvbnx8dC5tb3pSVENQZWVyQ29ubmVjdGlvbikpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9uJiZ0Lm1velJUQ1BlZXJDb25uZWN0aW9uJiYodC5SVENQZWVyQ29ubmVjdGlvbj10Lm1velJUQ1BlZXJDb25uZWN0aW9uKSxyLnZlcnNpb248NTMmJltcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXSxuPWkoe30sZSxmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KFwiYWRkSWNlQ2FuZGlkYXRlXCI9PT1lP3QuUlRDSWNlQ2FuZGlkYXRlOnQuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV09bltlXX0pLHIudmVyc2lvbjw2OCl7dmFyIG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdJiZcIlwiPT09YXJndW1lbnRzWzBdLmNhbmRpZGF0ZT9Qcm9taXNlLnJlc29sdmUoKTpuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooYXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0uYXBwbHkobnVsbCksUHJvbWlzZS5yZXNvbHZlKCkpfX12YXIgbz17aW5ib3VuZHJ0cDpcImluYm91bmQtcnRwXCIsb3V0Ym91bmRydHA6XCJvdXRib3VuZC1ydHBcIixjYW5kaWRhdGVwYWlyOlwiY2FuZGlkYXRlLXBhaXJcIixsb2NhbGNhbmRpZGF0ZTpcImxvY2FsLWNhbmRpZGF0ZVwiLHJlbW90ZWNhbmRpZGF0ZTpcInJlbW90ZS1jYW5kaWRhdGVcIn0sYz10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0czt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3ZhcltlLHQsbl09YXJndW1lbnRzO3JldHVybiBjLmFwcGx5KHRoaXMsW2V8fG51bGxdKS50aGVuKGZ1bmN0aW9uKGUpe2lmKHIudmVyc2lvbjw1MyYmIXQpdHJ5e2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLnR5cGU9b1tlLnR5cGVdfHxlLnR5cGV9KX1jYXRjaChuKXtpZihcIlR5cGVFcnJvclwiIT09bi5uYW1lKXRocm93IG47ZS5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS5zZXQocixPYmplY3QuYXNzaWduKHt9LHQse3R5cGU6b1t0LnR5cGVdfHx0LnR5cGV9KSl9KX1yZXR1cm4gZX0pLnRoZW4odCxuKX19fWZ1bmN0aW9uIHAoZSl7aWYoXCJvYmplY3RcIj09PWEoZSkmJmUuUlRDUGVlckNvbm5lY3Rpb24mJmUuUlRDUnRwU2VuZGVyJiYhKGUuUlRDUnRwU2VuZGVyJiZcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIHIuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5fcGM9ZX0pLHJ9KTt2YXIgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztyJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oKXt2YXIgZT1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5fcGM9dGhpcyxlfSksZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhY2s/dGhpcy5fcGMuZ2V0U3RhdHModGhpcy50cmFjayk6UHJvbWlzZS5yZXNvbHZlKG5ldyBNYXApfX19ZnVuY3Rpb24gdSh0KXtpZihcIm9iamVjdFwiPT09YSh0KSYmdC5SVENQZWVyQ29ubmVjdGlvbiYmdC5SVENSdHBTZW5kZXImJiEodC5SVENSdHBTZW5kZXImJlwiZ2V0U3RhdHNcImluIHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSl7dmFyIHI9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzO3ImJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ci5hcHBseSh0aGlzLFtdKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9wYz1lfSksdH0pLGUud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQodCxcInRyYWNrXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVjZWl2ZXIuX3BjPWUuc3JjRWxlbWVudCxlfSksdC5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHModGhpcy50cmFjayl9fX1mdW5jdGlvbiBmKHQpeyF0LlJUQ1BlZXJDb25uZWN0aW9ufHxcInJlbW92ZVN0cmVhbVwiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fCh0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztlLmRlcHJlY2F0ZWQoXCJyZW1vdmVTdHJlYW1cIixcInJlbW92ZVRyYWNrXCIpLHRoaXMuZ2V0U2VuZGVycygpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50cmFjayYmdC5nZXRUcmFja3MoKS5pbmNsdWRlcyhlLnRyYWNrKSYmci5yZW1vdmVUcmFjayhlKX0pfSl9ZnVuY3Rpb24gQyhlKXtlLkRhdGFDaGFubmVsJiYhZS5SVENEYXRhQ2hhbm5lbCYmKGUuUlRDRGF0YUNoYW5uZWw9ZS5EYXRhQ2hhbm5lbCl9ZnVuY3Rpb24gZChlKXtpZihcIm9iamVjdFwiPT09YShlKSYmZS5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXI7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYW5zY2VpdmVyPWZ1bmN0aW9uKCl7dGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXM9W107dmFyIGU9YXJndW1lbnRzWzFdLHI9ZSYmXCJzZW5kRW5jb2RpbmdzXCJpbiBlO3ImJmUuc2VuZEVuY29kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKFwicmlkXCJpbiBlKXtpZighL15bYS16MC05XXswLDE2fSQvaS50ZXN0KGUucmlkKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBSSUQgdmFsdWUgcHJvdmlkZWQuXCIpfWlmKFwic2NhbGVSZXNvbHV0aW9uRG93bkJ5XCJpbiBlJiYhKHBhcnNlRmxvYXQoZS5zY2FsZVJlc29sdXRpb25Eb3duQnkpPj0xKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNjYWxlX3Jlc29sdXRpb25fZG93bl9ieSBtdXN0IGJlID49IDEuMFwiKTtpZihcIm1heEZyYW1lcmF0ZVwiaW4gZSYmIShwYXJzZUZsb2F0KGUubWF4RnJhbWVyYXRlKT49MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJtYXhfZnJhbWVyYXRlIG11c3QgYmUgPj0gMC4wXCIpfSk7dmFyIG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYocil7dmFye3NlbmRlcjpvfT1uLGk9by5nZXRQYXJhbWV0ZXJzKCk7XCJlbmNvZGluZ3NcImluIGl8fChpLmVuY29kaW5ncz1lLnNlbmRFbmNvZGluZ3MsdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMucHVzaChvLnNldFBhcmFtZXRlcnMoaSkuY2F0Y2goZnVuY3Rpb24oKXt9KSkpfXJldHVybiBufSl9fWZ1bmN0aW9uIHkoZSl7aWYoXCJvYmplY3RcIj09PWEoZSkmJmUuUlRDUGVlckNvbm5lY3Rpb24pe3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLHI9dGhpcztyZXR1cm4gdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMmJnRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzLmxlbmd0aD9Qcm9taXNlLmFsbCh0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcykudGhlbihmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHIsZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5zZXRQYXJhbWV0ZXJzUHJvbWlzZXM9W119KTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fWZ1bmN0aW9uIGwoZSl7aWYoXCJvYmplY3RcIj09PWEoZSkmJmUuUlRDUGVlckNvbm5lY3Rpb24pe3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMscj10aGlzO3JldHVybiB0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcyYmdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMubGVuZ3RoP1Byb21pc2UuYWxsKHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkocixlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtyLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXX0pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19XG59LHtcIi4uL3V0aWxzXCI6XCJpU3hDXCIsXCIuL2dldHVzZXJtZWRpYVwiOlwiR3pTdlwiLFwiLi9nZXRkaXNwbGF5bWVkaWFcIjpcIlV1R1VcIn1dLFwidDFsTFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNoaW1Mb2NhbFN0cmVhbXNBUEk9bixleHBvcnRzLnNoaW1SZW1vdGVTdHJlYW1zQVBJPWksZXhwb3J0cy5zaGltQ2FsbGJhY2tzQVBJPWEsZXhwb3J0cy5zaGltR2V0VXNlck1lZGlhPXMsZXhwb3J0cy5zaGltQ29uc3RyYWludHM9YyxleHBvcnRzLnNoaW1SVENJY2VTZXJ2ZXJVcmxzPWQsZXhwb3J0cy5zaGltVHJhY2tFdmVudFRyYW5zY2VpdmVyPWYsZXhwb3J0cy5zaGltQ3JlYXRlT2ZmZXJMZWdhY3k9cDt2YXIgZT1yKHJlcXVpcmUoXCIuLi91dGlsc1wiKSk7ZnVuY3Rpb24gdCgpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXA7cmV0dXJuIHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1mdW5jdGlvbiByKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIHI9dCgpO2lmKHImJnIuaGFzKGUpKXJldHVybiByLmdldChlKTt2YXIgbz17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGkgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSl7dmFyIGE9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bnVsbDthJiYoYS5nZXR8fGEuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobyxpLGEpOm9baV09ZVtpXX1yZXR1cm4gby5kZWZhdWx0PWUsciYmci5zZXQoZSxvKSxvfWZ1bmN0aW9uIG8oZSl7cmV0dXJuKG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIG4oZSl7aWYoXCJvYmplY3RcIj09PW8oZSkmJmUuUlRDUGVlckNvbm5lY3Rpb24pe2lmKFwiZ2V0TG9jYWxTdHJlYW1zXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLHRoaXMuX2xvY2FsU3RyZWFtc30pLCEoXCJhZGRTdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSl7dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7dGhpcy5fbG9jYWxTdHJlYW1zfHwodGhpcy5fbG9jYWxTdHJlYW1zPVtdKSx0aGlzLl9sb2NhbFN0cmVhbXMuaW5jbHVkZXMoZSl8fHRoaXMuX2xvY2FsU3RyZWFtcy5wdXNoKGUpLGUuZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3JldHVybiB0LmNhbGwocixvLGUpfSksZS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24obyl7cmV0dXJuIHQuY2FsbChyLG8sZSl9KX0sZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHI9YXJndW1lbnRzWzFdO3JldHVybiByJiYodGhpcy5fbG9jYWxTdHJlYW1zP3RoaXMuX2xvY2FsU3RyZWFtcy5pbmNsdWRlcyhyKXx8dGhpcy5fbG9jYWxTdHJlYW1zLnB1c2gocik6dGhpcy5fbG9jYWxTdHJlYW1zPVtyXSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fVwicmVtb3ZlU3RyZWFtXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSk7dmFyIHI9dGhpcy5fbG9jYWxTdHJlYW1zLmluZGV4T2YoZSk7aWYoLTEhPT1yKXt0aGlzLl9sb2NhbFN0cmVhbXMuc3BsaWNlKHIsMSk7dmFyIG89ZS5nZXRUcmFja3MoKTt0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe28uaW5jbHVkZXMoZS50cmFjaykmJnQucmVtb3ZlVHJhY2soZSl9KX19KX19ZnVuY3Rpb24gaShlKXtpZihcIm9iamVjdFwiPT09byhlKSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmKFwiZ2V0UmVtb3RlU3RyZWFtc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fChlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZW1vdGVTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbXM/dGhpcy5fcmVtb3RlU3RyZWFtczpbXX0pLCEoXCJvbmFkZHN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib25hZGRzdHJlYW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9vbmFkZHN0cmVhbSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuX29uYWRkc3RyZWFtKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seSkpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuX29uYWRkc3RyZWFtPWUpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb25hZGRzdHJlYW1wb2x5PWZ1bmN0aW9uKGUpe2Uuc3RyZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKHQuX3JlbW90ZVN0cmVhbXN8fCh0Ll9yZW1vdGVTdHJlYW1zPVtdKSwhdC5fcmVtb3RlU3RyZWFtcy5pbmNsdWRlcyhlKSl7dC5fcmVtb3RlU3RyZWFtcy5wdXNoKGUpO3ZhciByPW5ldyBFdmVudChcImFkZHN0cmVhbVwiKTtyLnN0cmVhbT1lLHQuZGlzcGF0Y2hFdmVudChyKX19KX0pfX0pO3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fb25hZGRzdHJlYW1wb2x5fHx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1mdW5jdGlvbih0KXt0LnN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbih0KXtpZihlLl9yZW1vdGVTdHJlYW1zfHwoZS5fcmVtb3RlU3RyZWFtcz1bXSksIShlLl9yZW1vdGVTdHJlYW1zLmluZGV4T2YodCk+PTApKXtlLl9yZW1vdGVTdHJlYW1zLnB1c2godCk7dmFyIHI9bmV3IEV2ZW50KFwiYWRkc3RyZWFtXCIpO3Iuc3RyZWFtPXQsZS5kaXNwYXRjaEV2ZW50KHIpfX0pfSksdC5hcHBseShlLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiBhKGUpe2lmKFwib2JqZWN0XCI9PT1vKGUpJiZlLlJUQ1BlZXJDb25uZWN0aW9uKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxyPXQuY3JlYXRlT2ZmZXIsbj10LmNyZWF0ZUFuc3dlcixpPXQuc2V0TG9jYWxEZXNjcmlwdGlvbixhPXQuc2V0UmVtb3RlRGVzY3JpcHRpb24scz10LmFkZEljZUNhbmRpZGF0ZTt0LmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLG49ci5hcHBseSh0aGlzLFtvXSk7cmV0dXJuIHQ/KG4udGhlbihlLHQpLFByb21pc2UucmVzb2x2ZSgpKTpufSx0LmNyZWF0ZUFuc3dlcj1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+PTI/YXJndW1lbnRzWzJdOmFyZ3VtZW50c1swXSxvPW4uYXBwbHkodGhpcyxbcl0pO3JldHVybiB0PyhvLnRoZW4oZSx0KSxQcm9taXNlLnJlc29sdmUoKSk6b307dmFyIGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWkuYXBwbHkodGhpcyxbZV0pO3JldHVybiByPyhvLnRoZW4odCxyKSxQcm9taXNlLnJlc29sdmUoKSk6b307dC5zZXRMb2NhbERlc2NyaXB0aW9uPWMsYz1mdW5jdGlvbihlLHQscil7dmFyIG89YS5hcHBseSh0aGlzLFtlXSk7cmV0dXJuIHI/KG8udGhlbih0LHIpLFByb21pc2UucmVzb2x2ZSgpKTpvfSx0LnNldFJlbW90ZURlc2NyaXB0aW9uPWMsYz1mdW5jdGlvbihlLHQscil7dmFyIG89cy5hcHBseSh0aGlzLFtlXSk7cmV0dXJuIHI/KG8udGhlbih0LHIpLFByb21pc2UucmVzb2x2ZSgpKTpvfSx0LmFkZEljZUNhbmRpZGF0ZT1jfX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUmJmUubmF2aWdhdG9yO2lmKHQubWVkaWFEZXZpY2VzJiZ0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe3ZhciByPXQubWVkaWFEZXZpY2VzLG89ci5nZXRVc2VyTWVkaWEuYmluZChyKTt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIG8oYyhlKSl9fSF0LmdldFVzZXJNZWRpYSYmdC5tZWRpYURldmljZXMmJnQubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmKHQuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUscixvKXt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbihyLG8pfS5iaW5kKHQpKX1mdW5jdGlvbiBjKHQpe3JldHVybiB0JiZ2b2lkIDAhPT10LnZpZGVvP09iamVjdC5hc3NpZ24oe30sdCx7dmlkZW86ZS5jb21wYWN0T2JqZWN0KHQudmlkZW8pfSk6dH1mdW5jdGlvbiBkKHQpe3ZhciByPXQuUlRDUGVlckNvbm5lY3Rpb247dC5SVENQZWVyQ29ubmVjdGlvbj1mdW5jdGlvbih0LG8pe2lmKHQmJnQuaWNlU2VydmVycyl7Zm9yKHZhciBuPVtdLGk9MDtpPHQuaWNlU2VydmVycy5sZW5ndGg7aSsrKXt2YXIgYT10LmljZVNlcnZlcnNbaV07IWEuaGFzT3duUHJvcGVydHkoXCJ1cmxzXCIpJiZhLmhhc093blByb3BlcnR5KFwidXJsXCIpPyhlLmRlcHJlY2F0ZWQoXCJSVENJY2VTZXJ2ZXIudXJsXCIsXCJSVENJY2VTZXJ2ZXIudXJsc1wiKSwoYT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGEpKSkudXJscz1hLnVybCxkZWxldGUgYS51cmwsbi5wdXNoKGEpKTpuLnB1c2godC5pY2VTZXJ2ZXJzW2ldKX10LmljZVNlcnZlcnM9bn1yZXR1cm4gbmV3IHIodCxvKX0sdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU9ci5wcm90b3R5cGUsXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodC5SVENQZWVyQ29ubmVjdGlvbixcImdlbmVyYXRlQ2VydGlmaWNhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2VuZXJhdGVDZXJ0aWZpY2F0ZX19KX1mdW5jdGlvbiBmKGUpe1wib2JqZWN0XCI9PT1vKGUpJiZlLlJUQ1RyYWNrRXZlbnQmJlwicmVjZWl2ZXJcImluIGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUmJiEoXCJ0cmFuc2NlaXZlclwiaW4gZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlLFwidHJhbnNjZWl2ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue3JlY2VpdmVyOnRoaXMucmVjZWl2ZXJ9fX0pfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI9ZnVuY3Rpb24oZSl7aWYoZSl7dm9pZCAwIT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvJiYoZS5vZmZlclRvUmVjZWl2ZUF1ZGlvPSEhZS5vZmZlclRvUmVjZWl2ZUF1ZGlvKTt2YXIgcj10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb1wiPT09ZS5yZWNlaXZlci50cmFjay5raW5kfSk7ITE9PT1lLm9mZmVyVG9SZWNlaXZlQXVkaW8mJnI/XCJzZW5kcmVjdlwiPT09ci5kaXJlY3Rpb24/ci5zZXREaXJlY3Rpb24/ci5zZXREaXJlY3Rpb24oXCJzZW5kb25seVwiKTpyLmRpcmVjdGlvbj1cInNlbmRvbmx5XCI6XCJyZWN2b25seVwiPT09ci5kaXJlY3Rpb24mJihyLnNldERpcmVjdGlvbj9yLnNldERpcmVjdGlvbihcImluYWN0aXZlXCIpOnIuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIik6ITAhPT1lLm9mZmVyVG9SZWNlaXZlQXVkaW98fHJ8fHRoaXMuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiKSx2b2lkIDAhPT1lLm9mZmVyVG9SZWNlaXZlVmlkZW8mJihlLm9mZmVyVG9SZWNlaXZlVmlkZW89ISFlLm9mZmVyVG9SZWNlaXZlVmlkZW8pO3ZhciBvPXRoaXMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm5cInZpZGVvXCI9PT1lLnJlY2VpdmVyLnRyYWNrLmtpbmR9KTshMT09PWUub2ZmZXJUb1JlY2VpdmVWaWRlbyYmbz9cInNlbmRyZWN2XCI9PT1vLmRpcmVjdGlvbj9vLnNldERpcmVjdGlvbj9vLnNldERpcmVjdGlvbihcInNlbmRvbmx5XCIpOm8uZGlyZWN0aW9uPVwic2VuZG9ubHlcIjpcInJlY3Zvbmx5XCI9PT1vLmRpcmVjdGlvbiYmKG8uc2V0RGlyZWN0aW9uP28uc2V0RGlyZWN0aW9uKFwiaW5hY3RpdmVcIik6by5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiKTohMCE9PWUub2ZmZXJUb1JlY2VpdmVWaWRlb3x8b3x8dGhpcy5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIpfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19XG59LHtcIi4uL3V0aWxzXCI6XCJpU3hDXCJ9XSxcIkdPUUtcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zaGltUlRDSWNlQ2FuZGlkYXRlPWEsZXhwb3J0cy5zaGltTWF4TWVzc2FnZVNpemU9YyxleHBvcnRzLnNoaW1TZW5kVGhyb3dUeXBlRXJyb3I9cyxleHBvcnRzLnNoaW1Db25uZWN0aW9uU3RhdGU9cCxleHBvcnRzLnJlbW92ZUFsbG93RXh0bWFwTWl4ZWQ9dTt2YXIgZT1yKHJlcXVpcmUoXCJzZHBcIikpLHQ9byhyZXF1aXJlKFwiLi91dGlsc1wiKSk7ZnVuY3Rpb24gbigpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXA7cmV0dXJuIG49ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1mdW5jdGlvbiBvKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIHQ9bigpO2lmKHQmJnQuaGFzKGUpKXJldHVybiB0LmdldChlKTt2YXIgbz17fSxyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGkgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSl7dmFyIGE9cj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bnVsbDthJiYoYS5nZXR8fGEuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobyxpLGEpOm9baV09ZVtpXX1yZXR1cm4gby5kZWZhdWx0PWUsdCYmdC5zZXQoZSxvKSxvfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSl7cmV0dXJuKGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGEobil7aWYobi5SVENJY2VDYW5kaWRhdGUmJiEobi5SVENJY2VDYW5kaWRhdGUmJlwiZm91bmRhdGlvblwiaW4gbi5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlKSl7dmFyIG89bi5SVENJY2VDYW5kaWRhdGU7bi5SVENJY2VDYW5kaWRhdGU9ZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09PWkodCkmJnQuY2FuZGlkYXRlJiYwPT09dC5jYW5kaWRhdGUuaW5kZXhPZihcImE9XCIpJiYoKHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSkpLmNhbmRpZGF0ZT10LmNhbmRpZGF0ZS5zdWJzdHIoMikpLHQuY2FuZGlkYXRlJiZ0LmNhbmRpZGF0ZS5sZW5ndGgpe3ZhciBuPW5ldyBvKHQpLHI9ZS5kZWZhdWx0LnBhcnNlQ2FuZGlkYXRlKHQuY2FuZGlkYXRlKSxhPU9iamVjdC5hc3NpZ24obixyKTtyZXR1cm4gYS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57Y2FuZGlkYXRlOmEuY2FuZGlkYXRlLHNkcE1pZDphLnNkcE1pZCxzZHBNTGluZUluZGV4OmEuc2RwTUxpbmVJbmRleCx1c2VybmFtZUZyYWdtZW50OmEudXNlcm5hbWVGcmFnbWVudH19LGF9cmV0dXJuIG5ldyBvKHQpfSxuLlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGU9by5wcm90b3R5cGUsdC53cmFwUGVlckNvbm5lY3Rpb25FdmVudChuLFwiaWNlY2FuZGlkYXRlXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2FuZGlkYXRlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImNhbmRpZGF0ZVwiLHt2YWx1ZTpuZXcgbi5SVENJY2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUpLHdyaXRhYmxlOlwiZmFsc2VcIn0pLGV9KX19ZnVuY3Rpb24gYyhuKXtpZihuLlJUQ1BlZXJDb25uZWN0aW9uKXt2YXIgbz10LmRldGVjdEJyb3dzZXIobik7XCJzY3RwXCJpbiBuLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KG4uUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwic2N0cFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fc2N0cD9udWxsOnRoaXMuX3NjdHB9fSk7dmFyIHI9bi5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247bi5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtpZih0aGlzLl9zY3RwPW51bGwsXCJjaHJvbWVcIj09PW8uYnJvd3NlciYmby52ZXJzaW9uPj03Nil7dmFye3NkcFNlbWFudGljczp0fT10aGlzLmdldENvbmZpZ3VyYXRpb24oKTtcInBsYW4tYlwiPT09dCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzY3RwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9zY3RwP251bGw6dGhpcy5fc2N0cH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1pZihmdW5jdGlvbih0KXtpZighdHx8IXQuc2RwKXJldHVybiExO3ZhciBuPWUuZGVmYXVsdC5zcGxpdFNlY3Rpb25zKHQuc2RwKTtyZXR1cm4gbi5zaGlmdCgpLG4uc29tZShmdW5jdGlvbih0KXt2YXIgbj1lLmRlZmF1bHQucGFyc2VNTGluZSh0KTtyZXR1cm4gbiYmXCJhcHBsaWNhdGlvblwiPT09bi5raW5kJiYtMSE9PW4ucHJvdG9jb2wuaW5kZXhPZihcIlNDVFBcIil9KX0oYXJndW1lbnRzWzBdKSl7dmFyIG4saT1mdW5jdGlvbihlKXt2YXIgdD1lLnNkcC5tYXRjaCgvbW96aWxsYS4uLlRISVNfSVNfU0RQQVJUQS0oXFxkKykvKTtpZihudWxsPT09dHx8dC5sZW5ndGg8MilyZXR1cm4tMTt2YXIgbj1wYXJzZUludCh0WzFdLDEwKTtyZXR1cm4gbiE9bj8tMTpufShhcmd1bWVudHNbMF0pLGE9KHA9aSx1PTY1NTM2LFwiZmlyZWZveFwiPT09by5icm93c2VyJiYodT1vLnZlcnNpb248NTc/LTE9PT1wPzE2Mzg0OjIxNDc0ODM2Mzc6by52ZXJzaW9uPDYwPzU3PT09by52ZXJzaW9uPzY1NTM1OjY1NTM2OjIxNDc0ODM2MzcpLHUpLGM9ZnVuY3Rpb24odCxuKXt2YXIgcj02NTUzNjtcImZpcmVmb3hcIj09PW8uYnJvd3NlciYmNTc9PT1vLnZlcnNpb24mJihyPTY1NTM1KTt2YXIgaT1lLmRlZmF1bHQubWF0Y2hQcmVmaXgodC5zZHAsXCJhPW1heC1tZXNzYWdlLXNpemU6XCIpO3JldHVybiBpLmxlbmd0aD4wP3I9cGFyc2VJbnQoaVswXS5zdWJzdHIoMTkpLDEwKTpcImZpcmVmb3hcIj09PW8uYnJvd3NlciYmLTEhPT1uJiYocj0yMTQ3NDgzNjM3KSxyfShhcmd1bWVudHNbMF0saSk7bj0wPT09YSYmMD09PWM/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOjA9PT1hfHwwPT09Yz9NYXRoLm1heChhLGMpOk1hdGgubWluKGEsYyk7dmFyIHM9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHMsXCJtYXhNZXNzYWdlU2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn19KSx0aGlzLl9zY3RwPXN9dmFyIHAsdTtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiBzKGUpe2lmKGUuUlRDUGVlckNvbm5lY3Rpb24mJlwiY3JlYXRlRGF0YUNoYW5uZWxcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXt2YXIgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbDtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbD1mdW5jdGlvbigpe3ZhciBlPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBvKGUsdGhpcyksZX0sdC53cmFwUGVlckNvbm5lY3Rpb25FdmVudChlLFwiZGF0YWNoYW5uZWxcIixmdW5jdGlvbihlKXtyZXR1cm4gbyhlLmNoYW5uZWwsZS50YXJnZXQpLGV9KX1mdW5jdGlvbiBvKGUsdCl7dmFyIG49ZS5zZW5kO2Uuc2VuZD1mdW5jdGlvbigpe3ZhciBvPWFyZ3VtZW50c1swXSxyPW8ubGVuZ3RofHxvLnNpemV8fG8uYnl0ZUxlbmd0aDtpZihcIm9wZW5cIj09PWUucmVhZHlTdGF0ZSYmdC5zY3RwJiZyPnQuc2N0cC5tYXhNZXNzYWdlU2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWVzc2FnZSB0b28gbGFyZ2UgKGNhbiBzZW5kIGEgbWF4aW11bSBvZiBcIit0LnNjdHAubWF4TWVzc2FnZVNpemUrXCIgYnl0ZXMpXCIpO3JldHVybiBuLmFwcGx5KGUsYXJndW1lbnRzKX19fWZ1bmN0aW9uIHAoZSl7aWYoZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcImNvbm5lY3Rpb25TdGF0ZVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvbm5lY3Rpb25TdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29tcGxldGVkOlwiY29ubmVjdGVkXCIsY2hlY2tpbmc6XCJjb25uZWN0aW5nXCJ9W3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlXXx8dGhpcy5pY2VDb25uZWN0aW9uU3RhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2V8fG51bGx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSxkZWxldGUgdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpLGUmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49dFtlXTt0W2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHl8fCh0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5PWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0O2lmKHQuX2xhc3RDb25uZWN0aW9uU3RhdGUhPT10LmNvbm5lY3Rpb25TdGF0ZSl7dC5fbGFzdENvbm5lY3Rpb25TdGF0ZT10LmNvbm5lY3Rpb25TdGF0ZTt2YXIgbj1uZXcgRXZlbnQoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixlKTt0LmRpc3BhdGNoRXZlbnQobil9cmV0dXJuIGV9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHkpKSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX19ZnVuY3Rpb24gdShlKXtpZihlLlJUQ1BlZXJDb25uZWN0aW9uKXt2YXIgbj10LmRldGVjdEJyb3dzZXIoZSk7aWYoIShcImNocm9tZVwiPT09bi5icm93c2VyJiZuLnZlcnNpb24+PTcxKSl7dmFyIG89ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuc2RwJiYtMSE9PWUuc2RwLmluZGV4T2YoXCJcXG5hPWV4dG1hcC1hbGxvdy1taXhlZFwiKSYmKGUuc2RwPWUuc2RwLnNwbGl0KFwiXFxuXCIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImE9ZXh0bWFwLWFsbG93LW1peGVkXCIhPT1lLnRyaW0oKX0pLmpvaW4oXCJcXG5cIikpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX19fVxufSx7XCJzZHBcIjpcIllIdmhcIixcIi4vdXRpbHNcIjpcImlTeENcIn1dLFwiS3RsR1wiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmFkYXB0ZXJGYWN0b3J5PW07dmFyIGU9byhyZXF1aXJlKFwiLi91dGlsc1wiKSkscj1vKHJlcXVpcmUoXCIuL2Nocm9tZS9jaHJvbWVfc2hpbVwiKSksaT1vKHJlcXVpcmUoXCIuL2VkZ2UvZWRnZV9zaGltXCIpKSxzPW8ocmVxdWlyZShcIi4vZmlyZWZveC9maXJlZm94X3NoaW1cIikpLHQ9byhyZXF1aXJlKFwiLi9zYWZhcmkvc2FmYXJpX3NoaW1cIikpLGE9byhyZXF1aXJlKFwiLi9jb21tb25fc2hpbVwiKSk7ZnVuY3Rpb24gbigpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXA7cmV0dXJuIG49ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1mdW5jdGlvbiBvKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIHI9bigpO2lmKHImJnIuaGFzKGUpKXJldHVybiByLmdldChlKTt2YXIgaT17fSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSl7dmFyIGE9cz9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk6bnVsbDthJiYoYS5nZXR8fGEuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkoaSx0LGEpOmlbdF09ZVt0XX1yZXR1cm4gaS5kZWZhdWx0PWUsciYmci5zZXQoZSxpKSxpfWZ1bmN0aW9uIG0oKXt2YXJ7d2luZG93Om59PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxvPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7c2hpbUNocm9tZTohMCxzaGltRmlyZWZveDohMCxzaGltRWRnZTohMCxzaGltU2FmYXJpOiEwfSxtPWUubG9nLGg9ZS5kZXRlY3RCcm93c2VyKG4pLGQ9e2Jyb3dzZXJEZXRhaWxzOmgsY29tbW9uU2hpbTphLGV4dHJhY3RWZXJzaW9uOmUuZXh0cmFjdFZlcnNpb24sZGlzYWJsZUxvZzplLmRpc2FibGVMb2csZGlzYWJsZVdhcm5pbmdzOmUuZGlzYWJsZVdhcm5pbmdzfTtzd2l0Y2goaC5icm93c2VyKXtjYXNlXCJjaHJvbWVcIjppZighcnx8IXIuc2hpbVBlZXJDb25uZWN0aW9ufHwhby5zaGltQ2hyb21lKXJldHVybiBtKFwiQ2hyb21lIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxkO20oXCJhZGFwdGVyLmpzIHNoaW1taW5nIGNocm9tZS5cIiksZC5icm93c2VyU2hpbT1yLHIuc2hpbUdldFVzZXJNZWRpYShuKSxyLnNoaW1NZWRpYVN0cmVhbShuKSxyLnNoaW1QZWVyQ29ubmVjdGlvbihuKSxyLnNoaW1PblRyYWNrKG4pLHIuc2hpbUFkZFRyYWNrUmVtb3ZlVHJhY2sobiksci5zaGltR2V0U2VuZGVyc1dpdGhEdG1mKG4pLHIuc2hpbUdldFN0YXRzKG4pLHIuc2hpbVNlbmRlclJlY2VpdmVyR2V0U3RhdHMobiksci5maXhOZWdvdGlhdGlvbk5lZWRlZChuKSxhLnNoaW1SVENJY2VDYW5kaWRhdGUobiksYS5zaGltQ29ubmVjdGlvblN0YXRlKG4pLGEuc2hpbU1heE1lc3NhZ2VTaXplKG4pLGEuc2hpbVNlbmRUaHJvd1R5cGVFcnJvcihuKSxhLnJlbW92ZUFsbG93RXh0bWFwTWl4ZWQobik7YnJlYWs7Y2FzZVwiZmlyZWZveFwiOmlmKCFzfHwhcy5zaGltUGVlckNvbm5lY3Rpb258fCFvLnNoaW1GaXJlZm94KXJldHVybiBtKFwiRmlyZWZveCBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIiksZDttKFwiYWRhcHRlci5qcyBzaGltbWluZyBmaXJlZm94LlwiKSxkLmJyb3dzZXJTaGltPXMscy5zaGltR2V0VXNlck1lZGlhKG4pLHMuc2hpbVBlZXJDb25uZWN0aW9uKG4pLHMuc2hpbU9uVHJhY2sobikscy5zaGltUmVtb3ZlU3RyZWFtKG4pLHMuc2hpbVNlbmRlckdldFN0YXRzKG4pLHMuc2hpbVJlY2VpdmVyR2V0U3RhdHMobikscy5zaGltUlRDRGF0YUNoYW5uZWwobikscy5zaGltQWRkVHJhbnNjZWl2ZXIobikscy5zaGltQ3JlYXRlT2ZmZXIobikscy5zaGltQ3JlYXRlQW5zd2VyKG4pLGEuc2hpbVJUQ0ljZUNhbmRpZGF0ZShuKSxhLnNoaW1Db25uZWN0aW9uU3RhdGUobiksYS5zaGltTWF4TWVzc2FnZVNpemUobiksYS5zaGltU2VuZFRocm93VHlwZUVycm9yKG4pO2JyZWFrO2Nhc2VcImVkZ2VcIjppZighaXx8IWkuc2hpbVBlZXJDb25uZWN0aW9ufHwhby5zaGltRWRnZSlyZXR1cm4gbShcIk1TIGVkZ2Ugc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLGQ7bShcImFkYXB0ZXIuanMgc2hpbW1pbmcgZWRnZS5cIiksZC5icm93c2VyU2hpbT1pLGkuc2hpbUdldFVzZXJNZWRpYShuKSxpLnNoaW1HZXREaXNwbGF5TWVkaWEobiksaS5zaGltUGVlckNvbm5lY3Rpb24obiksaS5zaGltUmVwbGFjZVRyYWNrKG4pLGEuc2hpbU1heE1lc3NhZ2VTaXplKG4pLGEuc2hpbVNlbmRUaHJvd1R5cGVFcnJvcihuKTticmVhaztjYXNlXCJzYWZhcmlcIjppZighdHx8IW8uc2hpbVNhZmFyaSlyZXR1cm4gbShcIlNhZmFyaSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIiksZDttKFwiYWRhcHRlci5qcyBzaGltbWluZyBzYWZhcmkuXCIpLGQuYnJvd3NlclNoaW09dCx0LnNoaW1SVENJY2VTZXJ2ZXJVcmxzKG4pLHQuc2hpbUNyZWF0ZU9mZmVyTGVnYWN5KG4pLHQuc2hpbUNhbGxiYWNrc0FQSShuKSx0LnNoaW1Mb2NhbFN0cmVhbXNBUEkobiksdC5zaGltUmVtb3RlU3RyZWFtc0FQSShuKSx0LnNoaW1UcmFja0V2ZW50VHJhbnNjZWl2ZXIobiksdC5zaGltR2V0VXNlck1lZGlhKG4pLGEuc2hpbVJUQ0ljZUNhbmRpZGF0ZShuKSxhLnNoaW1NYXhNZXNzYWdlU2l6ZShuKSxhLnNoaW1TZW5kVGhyb3dUeXBlRXJyb3IobiksYS5yZW1vdmVBbGxvd0V4dG1hcE1peGVkKG4pO2JyZWFrO2RlZmF1bHQ6bShcIlVuc3VwcG9ydGVkIGJyb3dzZXIhXCIpfXJldHVybiBkfVxufSx7XCIuL3V0aWxzXCI6XCJpU3hDXCIsXCIuL2Nocm9tZS9jaHJvbWVfc2hpbVwiOlwidUk1WFwiLFwiLi9lZGdlL2VkZ2Vfc2hpbVwiOlwiWFJpY1wiLFwiLi9maXJlZm94L2ZpcmVmb3hfc2hpbVwiOlwiRnpkclwiLFwiLi9zYWZhcmkvc2FmYXJpX3NoaW1cIjpcInQxbExcIixcIi4vY29tbW9uX3NoaW1cIjpcIkdPUUtcIn1dLFwidEkxWFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9dm9pZCAwO3ZhciBlPXJlcXVpcmUoXCIuL2FkYXB0ZXJfZmFjdG9yeS5qc1wiKSxyPSgwLGUuYWRhcHRlckZhY3RvcnkpKHt3aW5kb3c6d2luZG93fSksdD1yO2V4cG9ydHMuZGVmYXVsdD10O1xufSx7XCIuL2FkYXB0ZXJfZmFjdG9yeS5qc1wiOlwiS3RsR1wifV0sXCJzWHRWXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB0PWUocmVxdWlyZShcIndlYnJ0Yy1hZGFwdGVyXCIpKTtleHBvcnRzLndlYlJUQ0FkYXB0ZXI9dC5kZWZhdWx0O1xufSx7XCJ3ZWJydGMtYWRhcHRlclwiOlwidEkxWFwifV0sXCJJMzFmXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPXJlcXVpcmUoXCIuL2FkYXB0ZXJcIik7ZXhwb3J0cy5TdXBwb3J0cz1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5pc0lPUz1bXCJpUGFkXCIsXCJpUGhvbmVcIixcImlQb2RcIl0uaW5jbHVkZXMobmF2aWdhdG9yLnBsYXRmb3JtKSx0aGlzLnN1cHBvcnRlZEJyb3dzZXJzPVtcImZpcmVmb3hcIixcImNocm9tZVwiLFwic2FmYXJpXCJdLHRoaXMubWluRmlyZWZveFZlcnNpb249NTksdGhpcy5taW5DaHJvbWVWZXJzaW9uPTcyLHRoaXMubWluU2FmYXJpVmVyc2lvbj02MDV9cmV0dXJuIGUucHJvdG90eXBlLmlzV2ViUlRDU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJUQ1BlZXJDb25uZWN0aW9ufSxlLnByb3RvdHlwZS5pc0Jyb3dzZXJTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt2YXIgcj10aGlzLmdldEJyb3dzZXIoKSxlPXRoaXMuZ2V0VmVyc2lvbigpO3JldHVybiEhdGhpcy5zdXBwb3J0ZWRCcm93c2Vycy5pbmNsdWRlcyhyKSYmKFwiY2hyb21lXCI9PT1yP2U+PXRoaXMubWluQ2hyb21lVmVyc2lvbjpcImZpcmVmb3hcIj09PXI/ZT49dGhpcy5taW5GaXJlZm94VmVyc2lvbjpcInNhZmFyaVwiPT09ciYmKCF0aGlzLmlzSU9TJiZlPj10aGlzLm1pblNhZmFyaVZlcnNpb24pKX0sZS5wcm90b3R5cGUuZ2V0QnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybiByLndlYlJUQ0FkYXB0ZXIuYnJvd3NlckRldGFpbHMuYnJvd3Nlcn0sZS5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiByLndlYlJUQ0FkYXB0ZXIuYnJvd3NlckRldGFpbHMudmVyc2lvbnx8MH0sZS5wcm90b3R5cGUuaXNVbmlmaWVkUGxhblN1cHBvcnRlZD1mdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5nZXRCcm93c2VyKCksdD1yLndlYlJUQ0FkYXB0ZXIuYnJvd3NlckRldGFpbHMudmVyc2lvbnx8MDtpZihcImNocm9tZVwiPT09aSYmdDw3MilyZXR1cm4hMTtpZihcImZpcmVmb3hcIj09PWkmJnQ+PTU5KXJldHVybiEwO2lmKCEod2luZG93LlJUQ1J0cFRyYW5zY2VpdmVyJiZcImN1cnJlbnREaXJlY3Rpb25cImluIFJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZSkpcmV0dXJuITE7dmFyIG89ITE7dHJ5eyhlPW5ldyBSVENQZWVyQ29ubmVjdGlvbikuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiKSxvPSEwfWNhdGNoKG4pe31maW5hbGx5e2UmJmUuY2xvc2UoKX1yZXR1cm4gb30sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlN1cHBvcnRzOiBcXG4gICAgYnJvd3NlcjpcIit0aGlzLmdldEJyb3dzZXIoKStcIiBcXG4gICAgdmVyc2lvbjpcIit0aGlzLmdldFZlcnNpb24oKStcIiBcXG4gICAgaXNJT1M6XCIrdGhpcy5pc0lPUytcIiBcXG4gICAgaXNXZWJSVENTdXBwb3J0ZWQ6XCIrdGhpcy5pc1dlYlJUQ1N1cHBvcnRlZCgpK1wiIFxcbiAgICBpc0Jyb3dzZXJTdXBwb3J0ZWQ6XCIrdGhpcy5pc0Jyb3dzZXJTdXBwb3J0ZWQoKStcIiBcXG4gICAgaXNVbmlmaWVkUGxhblN1cHBvcnRlZDpcIit0aGlzLmlzVW5pZmllZFBsYW5TdXBwb3J0ZWQoKX0sZX0oKSk7XG59LHtcIi4vYWRhcHRlclwiOlwic1h0VlwifV0sXCJCSFhmXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihyKXtpZihyJiZyLl9fZXNNb2R1bGUpcmV0dXJuIHI7dmFyIHQ9e307aWYobnVsbCE9cilmb3IodmFyIGUgaW4gcilPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChyLGUpJiYodFtlXT1yW2VdKTtyZXR1cm4gdC5kZWZhdWx0PXIsdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHQ9cihyZXF1aXJlKFwicGVlcmpzLWpzLWJpbmFyeXBhY2tcIikpLGU9cmVxdWlyZShcIi4vc3VwcG9ydHNcIiksbz17aWNlU2VydmVyczpbe3VybHM6XCJzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyXCJ9LHt1cmxzOlwidHVybjowLnBlZXJqcy5jb206MzQ3OFwiLHVzZXJuYW1lOlwicGVlcmpzXCIsY3JlZGVudGlhbDpcInBlZXJqc3BcIn1dLHNkcFNlbWFudGljczpcInVuaWZpZWQtcGxhblwifTtleHBvcnRzLnV0aWw9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe3RoaXMuQ0xPVURfSE9TVD1cIjAucGVlcmpzLmNvbVwiLHRoaXMuQ0xPVURfUE9SVD00NDMsdGhpcy5jaHVua2VkQnJvd3NlcnM9e0Nocm9tZToxLGNocm9tZToxfSx0aGlzLmNodW5rZWRNVFU9MTYzMDAsdGhpcy5kZWZhdWx0Q29uZmlnPW8sdGhpcy5icm93c2VyPWUuU3VwcG9ydHMuZ2V0QnJvd3NlcigpLHRoaXMuYnJvd3NlclZlcnNpb249ZS5TdXBwb3J0cy5nZXRWZXJzaW9uKCksdGhpcy5zdXBwb3J0cz1mdW5jdGlvbigpe3ZhciByLHQ9e2Jyb3dzZXI6ZS5TdXBwb3J0cy5pc0Jyb3dzZXJTdXBwb3J0ZWQoKSx3ZWJSVEM6ZS5TdXBwb3J0cy5pc1dlYlJUQ1N1cHBvcnRlZCgpLGF1ZGlvVmlkZW86ITEsZGF0YTohMSxiaW5hcnlCbG9iOiExLHJlbGlhYmxlOiExfTtpZighdC53ZWJSVEMpcmV0dXJuIHQ7dHJ5e3I9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKG8pLHQuYXVkaW9WaWRlbz0hMDt2YXIgbj12b2lkIDA7dHJ5e249ci5jcmVhdGVEYXRhQ2hhbm5lbChcIl9QRUVSSlNURVNUXCIse29yZGVyZWQ6ITB9KSx0LmRhdGE9ITAsdC5yZWxpYWJsZT0hIW4ub3JkZXJlZDt0cnl7bi5iaW5hcnlUeXBlPVwiYmxvYlwiLHQuYmluYXJ5QmxvYj0hZS5TdXBwb3J0cy5pc0lPU31jYXRjaChhKXt9fWNhdGNoKGEpe31maW5hbGx5e24mJm4uY2xvc2UoKX19Y2F0Y2goYSl7fWZpbmFsbHl7ciYmci5jbG9zZSgpfXJldHVybiB0fSgpLHRoaXMucGFjaz10LnBhY2ssdGhpcy51bnBhY2s9dC51bnBhY2ssdGhpcy5fZGF0YUNvdW50PTF9cmV0dXJuIHIucHJvdG90eXBlLm5vb3A9ZnVuY3Rpb24oKXt9LHIucHJvdG90eXBlLnZhbGlkYXRlSWQ9ZnVuY3Rpb24ocil7cmV0dXJuIXJ8fC9eW0EtWmEtejAtOV0rKD86WyBfLV1bQS1aYS16MC05XSspKiQvLnRlc3Qocil9LHIucHJvdG90eXBlLmNodW5rPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1bXSxlPXIuc2l6ZSxvPU1hdGguY2VpbChlL2V4cG9ydHMudXRpbC5jaHVua2VkTVRVKSxuPTAsYT0wO2E8ZTspe3ZhciBpPU1hdGgubWluKGUsYStleHBvcnRzLnV0aWwuY2h1bmtlZE1UVSkscz1yLnNsaWNlKGEsaSksdT17X19wZWVyRGF0YTp0aGlzLl9kYXRhQ291bnQsbjpuLGRhdGE6cyx0b3RhbDpvfTt0LnB1c2godSksYT1pLG4rK31yZXR1cm4gdGhpcy5fZGF0YUNvdW50KyssdH0sci5wcm90b3R5cGUuYmxvYlRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24ocix0KXt2YXIgZT1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gZS5vbmxvYWQ9ZnVuY3Rpb24ocil7ci50YXJnZXQmJnQoci50YXJnZXQucmVzdWx0KX0sZS5yZWFkQXNBcnJheUJ1ZmZlcihyKSxlfSxyLnByb3RvdHlwZS5iaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1uZXcgVWludDhBcnJheShyLmxlbmd0aCksZT0wO2U8ci5sZW5ndGg7ZSsrKXRbZV09MjU1JnIuY2hhckNvZGVBdChlKTtyZXR1cm4gdC5idWZmZXJ9LHIucHJvdG90eXBlLnJhbmRvbVRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyKX0sci5wcm90b3R5cGUuaXNTZWN1cmU9ZnVuY3Rpb24oKXtyZXR1cm5cImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2x9LHJ9KCkpO1xufSx7XCJwZWVyanMtanMtYmluYXJ5cGFja1wiOlwia2RQcFwiLFwiLi9zdXBwb3J0c1wiOlwiSTMxZlwifV0sXCJKSmxTXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdD1cIn5cIjtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIHIoZSx0LG4pe3RoaXMuZm49ZSx0aGlzLmNvbnRleHQ9dCx0aGlzLm9uY2U9bnx8ITF9ZnVuY3Rpb24gbyhlLG4sbyxzLGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dmFyIGM9bmV3IHIobyxzfHxlLGkpLGY9dD90K246bjtyZXR1cm4gZS5fZXZlbnRzW2ZdP2UuX2V2ZW50c1tmXS5mbj9lLl9ldmVudHNbZl09W2UuX2V2ZW50c1tmXSxjXTplLl9ldmVudHNbZl0ucHVzaChjKTooZS5fZXZlbnRzW2ZdPWMsZS5fZXZlbnRzQ291bnQrKyksZX1mdW5jdGlvbiBzKGUsdCl7MD09LS1lLl9ldmVudHNDb3VudD9lLl9ldmVudHM9bmV3IG46ZGVsZXRlIGUuX2V2ZW50c1t0XX1mdW5jdGlvbiBpKCl7dGhpcy5fZXZlbnRzPW5ldyBuLHRoaXMuX2V2ZW50c0NvdW50PTB9T2JqZWN0LmNyZWF0ZSYmKG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnVsbCksKG5ldyBuKS5fX3Byb3RvX198fCh0PSExKSksaS5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3ZhciBuLHIsbz1bXTtpZigwPT09dGhpcy5fZXZlbnRzQ291bnQpcmV0dXJuIG87Zm9yKHIgaW4gbj10aGlzLl9ldmVudHMpZS5jYWxsKG4scikmJm8ucHVzaCh0P3Iuc2xpY2UoMSk6cik7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/by5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhuKSk6b30saS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciBuPXQ/dCtlOmUscj10aGlzLl9ldmVudHNbbl07aWYoIXIpcmV0dXJuW107aWYoci5mbilyZXR1cm5bci5mbl07Zm9yKHZhciBvPTAscz1yLmxlbmd0aCxpPW5ldyBBcnJheShzKTtvPHM7bysrKWlbb109cltvXS5mbjtyZXR1cm4gaX0saS5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlKXt2YXIgbj10P3QrZTplLHI9dGhpcy5fZXZlbnRzW25dO3JldHVybiByP3IuZm4/MTpyLmxlbmd0aDowfSxpLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUsbixyLG8scyxpKXt2YXIgYz10P3QrZTplO2lmKCF0aGlzLl9ldmVudHNbY10pcmV0dXJuITE7dmFyIGYsdSxhPXRoaXMuX2V2ZW50c1tjXSxsPWFyZ3VtZW50cy5sZW5ndGg7aWYoYS5mbil7c3dpdGNoKGEub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLGEuZm4sdm9pZCAwLCEwKSxsKXtjYXNlIDE6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQpLCEwO2Nhc2UgMjpyZXR1cm4gYS5mbi5jYWxsKGEuY29udGV4dCxuKSwhMDtjYXNlIDM6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsbixyKSwhMDtjYXNlIDQ6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsbixyLG8pLCEwO2Nhc2UgNTpyZXR1cm4gYS5mbi5jYWxsKGEuY29udGV4dCxuLHIsbyxzKSwhMDtjYXNlIDY6cmV0dXJuIGEuZm4uY2FsbChhLmNvbnRleHQsbixyLG8scyxpKSwhMH1mb3IodT0xLGY9bmV3IEFycmF5KGwtMSk7dTxsO3UrKylmW3UtMV09YXJndW1lbnRzW3VdO2EuZm4uYXBwbHkoYS5jb250ZXh0LGYpfWVsc2V7dmFyIHYsaD1hLmxlbmd0aDtmb3IodT0wO3U8aDt1Kyspc3dpdGNoKGFbdV0ub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLGFbdV0uZm4sdm9pZCAwLCEwKSxsKXtjYXNlIDE6YVt1XS5mbi5jYWxsKGFbdV0uY29udGV4dCk7YnJlYWs7Y2FzZSAyOmFbdV0uZm4uY2FsbChhW3VdLmNvbnRleHQsbik7YnJlYWs7Y2FzZSAzOmFbdV0uZm4uY2FsbChhW3VdLmNvbnRleHQsbixyKTticmVhaztjYXNlIDQ6YVt1XS5mbi5jYWxsKGFbdV0uY29udGV4dCxuLHIsbyk7YnJlYWs7ZGVmYXVsdDppZighZilmb3Iodj0xLGY9bmV3IEFycmF5KGwtMSk7djxsO3YrKylmW3YtMV09YXJndW1lbnRzW3ZdO2FbdV0uZm4uYXBwbHkoYVt1XS5jb250ZXh0LGYpfX1yZXR1cm4hMH0saS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvKHRoaXMsZSx0LG4sITEpfSxpLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbyh0aGlzLGUsdCxuLCEwKX0saS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSxuLHIsbyl7dmFyIGk9dD90K2U6ZTtpZighdGhpcy5fZXZlbnRzW2ldKXJldHVybiB0aGlzO2lmKCFuKXJldHVybiBzKHRoaXMsaSksdGhpczt2YXIgYz10aGlzLl9ldmVudHNbaV07aWYoYy5mbiljLmZuIT09bnx8byYmIWMub25jZXx8ciYmYy5jb250ZXh0IT09cnx8cyh0aGlzLGkpO2Vsc2V7Zm9yKHZhciBmPTAsdT1bXSxhPWMubGVuZ3RoO2Y8YTtmKyspKGNbZl0uZm4hPT1ufHxvJiYhY1tmXS5vbmNlfHxyJiZjW2ZdLmNvbnRleHQhPT1yKSYmdS5wdXNoKGNbZl0pO3UubGVuZ3RoP3RoaXMuX2V2ZW50c1tpXT0xPT09dS5sZW5ndGg/dVswXTp1OnModGhpcyxpKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciByO3JldHVybiBlPyhyPXQ/dCtlOmUsdGhpcy5fZXZlbnRzW3JdJiZzKHRoaXMscikpOih0aGlzLl9ldmVudHM9bmV3IG4sdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpc30saS5wcm90b3R5cGUub2ZmPWkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLGkucHJvdG90eXBlLmFkZExpc3RlbmVyPWkucHJvdG90eXBlLm9uLGkucHJlZml4ZWQ9dCxpLkV2ZW50RW1pdHRlcj1pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1pKTtcbn0se31dLFwiV09zOVwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24ocixlKXt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnJbU3ltYm9sLml0ZXJhdG9yXTtpZighbylyZXR1cm4gcjt2YXIgdCxuLGw9by5jYWxsKHIpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEodD1sLm5leHQoKSkuZG9uZTspaS5wdXNoKHQudmFsdWUpfWNhdGNoKHMpe249e2Vycm9yOnN9fWZpbmFsbHl7dHJ5e3QmJiF0LmRvbmUmJihvPWwucmV0dXJuKSYmby5jYWxsKGwpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gaX0sZT10aGlzJiZ0aGlzLl9fc3ByZWFkfHxmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKyllPWUuY29uY2F0KHIoYXJndW1lbnRzW29dKSk7cmV0dXJuIGV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvLHQ9XCJQZWVySlM6IFwiOyFmdW5jdGlvbihyKXtyW3IuRGlzYWJsZWQ9MF09XCJEaXNhYmxlZFwiLHJbci5FcnJvcnM9MV09XCJFcnJvcnNcIixyW3IuV2FybmluZ3M9Ml09XCJXYXJuaW5nc1wiLHJbci5BbGw9M109XCJBbGxcIn0obz1leHBvcnRzLkxvZ0xldmVsfHwoZXhwb3J0cy5Mb2dMZXZlbD17fSkpO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe3RoaXMuX2xvZ0xldmVsPW8uRGlzYWJsZWR9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcImxvZ0xldmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dMZXZlbH0sc2V0OmZ1bmN0aW9uKHIpe3RoaXMuX2xvZ0xldmVsPXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksci5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXJbdF09YXJndW1lbnRzW3RdO3RoaXMuX2xvZ0xldmVsPj1vLkFsbCYmdGhpcy5fcHJpbnQuYXBwbHkodGhpcyxlKFtvLkFsbF0scikpfSxyLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXJbdF09YXJndW1lbnRzW3RdO3RoaXMuX2xvZ0xldmVsPj1vLldhcm5pbmdzJiZ0aGlzLl9wcmludC5hcHBseSh0aGlzLGUoW28uV2FybmluZ3NdLHIpKX0sci5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIHI9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspclt0XT1hcmd1bWVudHNbdF07dGhpcy5fbG9nTGV2ZWw+PW8uRXJyb3JzJiZ0aGlzLl9wcmludC5hcHBseSh0aGlzLGUoW28uRXJyb3JzXSxyKSl9LHIucHJvdG90eXBlLnNldExvZ0Z1bmN0aW9uPWZ1bmN0aW9uKHIpe3RoaXMuX3ByaW50PXJ9LHIucHJvdG90eXBlLl9wcmludD1mdW5jdGlvbihyKXtmb3IodmFyIG49W10sbD0xO2w8YXJndW1lbnRzLmxlbmd0aDtsKyspbltsLTFdPWFyZ3VtZW50c1tsXTt2YXIgaT1lKFt0XSxuKTtmb3IodmFyIHMgaW4gaSlpW3NdaW5zdGFuY2VvZiBFcnJvciYmKGlbc109XCIoXCIraVtzXS5uYW1lK1wiKSBcIitpW3NdLm1lc3NhZ2UpO3I+PW8uQWxsP2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsZShpKSk6cj49by5XYXJuaW5ncz9jb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxlKFtcIldBUk5JTkdcIl0saSkpOnI+PW8uRXJyb3JzJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsZShbXCJFUlJPUlwiXSxpKSl9LHJ9KCk7ZXhwb3J0cy5kZWZhdWx0PW5ldyBuO1xufSx7fV0sXCJaUllmXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlLHIsbixvLHQsYSxpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2UuT3Blbj1cIm9wZW5cIixlLlN0cmVhbT1cInN0cmVhbVwiLGUuRGF0YT1cImRhdGFcIixlLkNsb3NlPVwiY2xvc2VcIixlLkVycm9yPVwiZXJyb3JcIixlLkljZVN0YXRlQ2hhbmdlZD1cImljZVN0YXRlQ2hhbmdlZFwifShlPWV4cG9ydHMuQ29ubmVjdGlvbkV2ZW50VHlwZXx8KGV4cG9ydHMuQ29ubmVjdGlvbkV2ZW50VHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuRGF0YT1cImRhdGFcIixlLk1lZGlhPVwibWVkaWFcIn0ocj1leHBvcnRzLkNvbm5lY3Rpb25UeXBlfHwoZXhwb3J0cy5Db25uZWN0aW9uVHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuT3Blbj1cIm9wZW5cIixlLkNsb3NlPVwiY2xvc2VcIixlLkNvbm5lY3Rpb249XCJjb25uZWN0aW9uXCIsZS5DYWxsPVwiY2FsbFwiLGUuRGlzY29ubmVjdGVkPVwiZGlzY29ubmVjdGVkXCIsZS5FcnJvcj1cImVycm9yXCJ9KG49ZXhwb3J0cy5QZWVyRXZlbnRUeXBlfHwoZXhwb3J0cy5QZWVyRXZlbnRUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VySW5jb21wYXRpYmxlPVwiYnJvd3Nlci1pbmNvbXBhdGlibGVcIixlLkRpc2Nvbm5lY3RlZD1cImRpc2Nvbm5lY3RlZFwiLGUuSW52YWxpZElEPVwiaW52YWxpZC1pZFwiLGUuSW52YWxpZEtleT1cImludmFsaWQta2V5XCIsZS5OZXR3b3JrPVwibmV0d29ya1wiLGUuUGVlclVuYXZhaWxhYmxlPVwicGVlci11bmF2YWlsYWJsZVwiLGUuU3NsVW5hdmFpbGFibGU9XCJzc2wtdW5hdmFpbGFibGVcIixlLlNlcnZlckVycm9yPVwic2VydmVyLWVycm9yXCIsZS5Tb2NrZXRFcnJvcj1cInNvY2tldC1lcnJvclwiLGUuU29ja2V0Q2xvc2VkPVwic29ja2V0LWNsb3NlZFwiLGUuVW5hdmFpbGFibGVJRD1cInVuYXZhaWxhYmxlLWlkXCIsZS5XZWJSVEM9XCJ3ZWJydGNcIn0obz1leHBvcnRzLlBlZXJFcnJvclR5cGV8fChleHBvcnRzLlBlZXJFcnJvclR5cGU9e30pKSxmdW5jdGlvbihlKXtlLkJpbmFyeT1cImJpbmFyeVwiLGUuQmluYXJ5VVRGOD1cImJpbmFyeS11dGY4XCIsZS5KU09OPVwianNvblwifSh0PWV4cG9ydHMuU2VyaWFsaXphdGlvblR5cGV8fChleHBvcnRzLlNlcmlhbGl6YXRpb25UeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5NZXNzYWdlPVwibWVzc2FnZVwiLGUuRGlzY29ubmVjdGVkPVwiZGlzY29ubmVjdGVkXCIsZS5FcnJvcj1cImVycm9yXCIsZS5DbG9zZT1cImNsb3NlXCJ9KGE9ZXhwb3J0cy5Tb2NrZXRFdmVudFR5cGV8fChleHBvcnRzLlNvY2tldEV2ZW50VHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuSGVhcnRiZWF0PVwiSEVBUlRCRUFUXCIsZS5DYW5kaWRhdGU9XCJDQU5ESURBVEVcIixlLk9mZmVyPVwiT0ZGRVJcIixlLkFuc3dlcj1cIkFOU1dFUlwiLGUuT3Blbj1cIk9QRU5cIixlLkVycm9yPVwiRVJST1JcIixlLklkVGFrZW49XCJJRC1UQUtFTlwiLGUuSW52YWxpZEtleT1cIklOVkFMSUQtS0VZXCIsZS5MZWF2ZT1cIkxFQVZFXCIsZS5FeHBpcmU9XCJFWFBJUkVcIn0oaT1leHBvcnRzLlNlcnZlck1lc3NhZ2VUeXBlfHwoZXhwb3J0cy5TZXJ2ZXJNZXNzYWdlVHlwZT17fSkpO1xufSx7fV0sXCJ3Smx2XCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuKGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KSh0LG4pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBzKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihzLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcyl9fSgpLHQ9dGhpcyYmdGhpcy5fX3JlYWR8fGZ1bmN0aW9uKGUsdCl7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIW4pcmV0dXJuIGU7dmFyIHMsbyxyPW4uY2FsbChlKSxpPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKHM9ci5uZXh0KCkpLmRvbmU7KWkucHVzaChzLnZhbHVlKX1jYXRjaChjKXtvPXtlcnJvcjpjfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYobj1yLnJldHVybikmJm4uY2FsbChyKX1maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIGl9LG49dGhpcyYmdGhpcy5fX3NwcmVhZHx8ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZT1lLmNvbmNhdCh0KGFyZ3VtZW50c1tuXSkpO3JldHVybiBlfSxzPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLG49dCYmZVt0XSxzPTA7aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZzPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtzKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9LG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9cmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIiksaT1vKHJlcXVpcmUoXCIuL2xvZ2dlclwiKSksYz1yZXF1aXJlKFwiLi9lbnVtc1wiKSxhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oZSxuLHMsbyxyLGkpe3ZvaWQgMD09PWkmJihpPTVlMyk7dmFyIGM9dC5jYWxsKHRoaXMpfHx0aGlzO2MucGluZ0ludGVydmFsPWksYy5fZGlzY29ubmVjdGVkPSEwLGMuX21lc3NhZ2VzUXVldWU9W107dmFyIGE9ZT9cIndzczovL1wiOlwid3M6Ly9cIjtyZXR1cm4gYy5fYmFzZVVybD1hK24rXCI6XCIrcytvK1wicGVlcmpzP2tleT1cIityLGN9cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy5faWQ9ZTt2YXIgcz10aGlzLl9iYXNlVXJsK1wiJmlkPVwiK2UrXCImdG9rZW49XCIrdDshdGhpcy5fc29ja2V0JiZ0aGlzLl9kaXNjb25uZWN0ZWQmJih0aGlzLl9zb2NrZXQ9bmV3IFdlYlNvY2tldChzKSx0aGlzLl9kaXNjb25uZWN0ZWQ9ITEsdGhpcy5fc29ja2V0Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1KU09OLnBhcnNlKGUuZGF0YSksaS5kZWZhdWx0LmxvZyhcIlNlcnZlciBtZXNzYWdlIHJlY2VpdmVkOlwiLHQpfWNhdGNoKHMpe3JldHVybiB2b2lkIGkuZGVmYXVsdC5sb2coXCJJbnZhbGlkIHNlcnZlciBtZXNzYWdlXCIsZS5kYXRhKX1uLmVtaXQoYy5Tb2NrZXRFdmVudFR5cGUuTWVzc2FnZSx0KX0sdGhpcy5fc29ja2V0Lm9uY2xvc2U9ZnVuY3Rpb24oZSl7bi5fZGlzY29ubmVjdGVkfHwoaS5kZWZhdWx0LmxvZyhcIlNvY2tldCBjbG9zZWQuXCIsZSksbi5fY2xlYW51cCgpLG4uX2Rpc2Nvbm5lY3RlZD0hMCxuLmVtaXQoYy5Tb2NrZXRFdmVudFR5cGUuRGlzY29ubmVjdGVkKSl9LHRoaXMuX3NvY2tldC5vbm9wZW49ZnVuY3Rpb24oKXtuLl9kaXNjb25uZWN0ZWR8fChuLl9zZW5kUXVldWVkTWVzc2FnZXMoKSxpLmRlZmF1bHQubG9nKFwiU29ja2V0IG9wZW5cIiksbi5fc2NoZWR1bGVIZWFydGJlYXQoKSl9KX0sby5wcm90b3R5cGUuX3NjaGVkdWxlSGVhcnRiZWF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl93c1BpbmdUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fc2VuZEhlYXJ0YmVhdCgpfSx0aGlzLnBpbmdJbnRlcnZhbCl9LG8ucHJvdG90eXBlLl9zZW5kSGVhcnRiZWF0PWZ1bmN0aW9uKCl7aWYodGhpcy5fd3NPcGVuKCkpe3ZhciBlPUpTT04uc3RyaW5naWZ5KHt0eXBlOmMuU2VydmVyTWVzc2FnZVR5cGUuSGVhcnRiZWF0fSk7dGhpcy5fc29ja2V0LnNlbmQoZSksdGhpcy5fc2NoZWR1bGVIZWFydGJlYXQoKX1lbHNlIGkuZGVmYXVsdC5sb2coXCJDYW5ub3Qgc2VuZCBoZWFydGJlYXQsIGJlY2F1c2Ugc29ja2V0IGNsb3NlZFwiKX0sby5wcm90b3R5cGUuX3dzT3Blbj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fc29ja2V0JiYxPT09dGhpcy5fc29ja2V0LnJlYWR5U3RhdGV9LG8ucHJvdG90eXBlLl9zZW5kUXVldWVkTWVzc2FnZXM9ZnVuY3Rpb24oKXt2YXIgZSx0LG89bih0aGlzLl9tZXNzYWdlc1F1ZXVlKTt0aGlzLl9tZXNzYWdlc1F1ZXVlPVtdO3RyeXtmb3IodmFyIHI9cyhvKSxpPXIubmV4dCgpOyFpLmRvbmU7aT1yLm5leHQoKSl7dmFyIGM9aS52YWx1ZTt0aGlzLnNlbmQoYyl9fWNhdGNoKGEpe2U9e2Vycm9yOmF9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJih0PXIucmV0dXJuKSYmdC5jYWxsKHIpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX19LG8ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX2Rpc2Nvbm5lY3RlZClpZih0aGlzLl9pZClpZihlLnR5cGUpe2lmKHRoaXMuX3dzT3BlbigpKXt2YXIgdD1KU09OLnN0cmluZ2lmeShlKTt0aGlzLl9zb2NrZXQuc2VuZCh0KX19ZWxzZSB0aGlzLmVtaXQoYy5Tb2NrZXRFdmVudFR5cGUuRXJyb3IsXCJJbnZhbGlkIG1lc3NhZ2VcIik7ZWxzZSB0aGlzLl9tZXNzYWdlc1F1ZXVlLnB1c2goZSl9LG8ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGlzY29ubmVjdGVkfHwodGhpcy5fY2xlYW51cCgpLHRoaXMuX2Rpc2Nvbm5lY3RlZD0hMCl9LG8ucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKCl7dGhpcy5fc29ja2V0JiYodGhpcy5fc29ja2V0Lm9ub3Blbj10aGlzLl9zb2NrZXQub25tZXNzYWdlPXRoaXMuX3NvY2tldC5vbmNsb3NlPW51bGwsdGhpcy5fc29ja2V0LmNsb3NlKCksdGhpcy5fc29ja2V0PXZvaWQgMCksY2xlYXJUaW1lb3V0KHRoaXMuX3dzUGluZ1RpbWVyKX0sb30oci5FdmVudEVtaXR0ZXIpO2V4cG9ydHMuU29ja2V0PWE7XG59LHtcImV2ZW50ZW1pdHRlcjNcIjpcIkpKbFNcIixcIi4vbG9nZ2VyXCI6XCJXT3M5XCIsXCIuL2VudW1zXCI6XCJaUllmXCJ9XSxcIkhDZFhcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGU9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIG4sdD0xLG89YXJndW1lbnRzLmxlbmd0aDt0PG87dCsrKWZvcih2YXIgaSBpbiBuPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG49dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsbix0LG8pe3JldHVybiBuZXcodHx8KHQ9UHJvbWlzZSkpKGZ1bmN0aW9uKGkscil7ZnVuY3Rpb24gYyhlKXt0cnl7cyhvLm5leHQoZSkpfWNhdGNoKG4pe3Iobil9fWZ1bmN0aW9uIGEoZSl7dHJ5e3Moby50aHJvdyhlKSl9Y2F0Y2gobil7cihuKX19ZnVuY3Rpb24gcyhlKXt2YXIgbjtlLmRvbmU/aShlLnZhbHVlKToobj1lLnZhbHVlLG4gaW5zdGFuY2VvZiB0P246bmV3IHQoZnVuY3Rpb24oZSl7ZShuKX0pKS50aGVuKGMsYSl9cygobz1vLmFwcGx5KGUsbnx8W10pKS5uZXh0KCkpfSl9LHQ9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSxuKXt2YXIgdCxvLGkscixjPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiByPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYocltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxyO2Z1bmN0aW9uIGEocil7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihyKXtpZih0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YzspdHJ5e2lmKHQ9MSxvJiYoaT0yJnJbMF0/by5yZXR1cm46clswXT9vLnRocm93fHwoKGk9by5yZXR1cm4pJiZpLmNhbGwobyksMCk6by5uZXh0KSYmIShpPWkuY2FsbChvLHJbMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChvPTAsaSYmKHI9WzImclswXSxpLnZhbHVlXSksclswXSl7Y2FzZSAwOmNhc2UgMTppPXI7YnJlYWs7Y2FzZSA0OnJldHVybiBjLmxhYmVsKysse3ZhbHVlOnJbMV0sZG9uZTohMX07Y2FzZSA1OmMubGFiZWwrKyxvPXJbMV0scj1bMF07Y29udGludWU7Y2FzZSA3OnI9Yy5vcHMucG9wKCksYy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPShpPWMudHJ5cykubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pJiYoNj09PXJbMF18fDI9PT1yWzBdKSl7Yz0wO2NvbnRpbnVlfWlmKDM9PT1yWzBdJiYoIWl8fHJbMV0+aVswXSYmclsxXTxpWzNdKSl7Yy5sYWJlbD1yWzFdO2JyZWFrfWlmKDY9PT1yWzBdJiZjLmxhYmVsPGlbMV0pe2MubGFiZWw9aVsxXSxpPXI7YnJlYWt9aWYoaSYmYy5sYWJlbDxpWzJdKXtjLmxhYmVsPWlbMl0sYy5vcHMucHVzaChyKTticmVha31pWzJdJiZjLm9wcy5wb3AoKSxjLnRyeXMucG9wKCk7Y29udGludWV9cj1uLmNhbGwoZSxjKX1jYXRjaChhKXtyPVs2LGFdLG89MH1maW5hbGx5e3Q9aT0wfWlmKDUmclswXSl0aHJvdyByWzFdO3JldHVybnt2YWx1ZTpyWzBdP3JbMV06dm9pZCAwLGRvbmU6ITB9fShbcixhXSl9fX0sbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1yZXF1aXJlKFwiLi91dGlsXCIpLHI9byhyZXF1aXJlKFwiLi9sb2dnZXJcIikpLGM9cmVxdWlyZShcIi4vZW51bXNcIiksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIG8oZSl7dGhpcy5jb25uZWN0aW9uPWV9cmV0dXJuIG8ucHJvdG90eXBlLnN0YXJ0Q29ubmVjdGlvbj1mdW5jdGlvbihlKXt2YXIgbj10aGlzLl9zdGFydFBlZXJDb25uZWN0aW9uKCk7aWYodGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uPW4sdGhpcy5jb25uZWN0aW9uLnR5cGU9PT1jLkNvbm5lY3Rpb25UeXBlLk1lZGlhJiZlLl9zdHJlYW0mJnRoaXMuX2FkZFRyYWNrc1RvQ29ubmVjdGlvbihlLl9zdHJlYW0sbiksZS5vcmlnaW5hdG9yKXtpZih0aGlzLmNvbm5lY3Rpb24udHlwZT09PWMuQ29ubmVjdGlvblR5cGUuRGF0YSl7dmFyIHQ9dGhpcy5jb25uZWN0aW9uLG89e29yZGVyZWQ6ISFlLnJlbGlhYmxlfSxpPW4uY3JlYXRlRGF0YUNoYW5uZWwodC5sYWJlbCxvKTt0LmluaXRpYWxpemUoaSl9dGhpcy5fbWFrZU9mZmVyKCl9ZWxzZSB0aGlzLmhhbmRsZVNEUChcIk9GRkVSXCIsZS5zZHApfSxvLnByb3RvdHlwZS5fc3RhcnRQZWVyQ29ubmVjdGlvbj1mdW5jdGlvbigpe3IuZGVmYXVsdC5sb2coXCJDcmVhdGluZyBSVENQZWVyQ29ubmVjdGlvbi5cIik7dmFyIGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRoaXMuY29ubmVjdGlvbi5wcm92aWRlci5vcHRpb25zLmNvbmZpZyk7cmV0dXJuIHRoaXMuX3NldHVwTGlzdGVuZXJzKGUpLGV9LG8ucHJvdG90eXBlLl9zZXR1cExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLHQ9dGhpcy5jb25uZWN0aW9uLnBlZXIsbz10aGlzLmNvbm5lY3Rpb24uY29ubmVjdGlvbklkLGE9dGhpcy5jb25uZWN0aW9uLnR5cGUscz10aGlzLmNvbm5lY3Rpb24ucHJvdmlkZXI7ci5kZWZhdWx0LmxvZyhcIkxpc3RlbmluZyBmb3IgSUNFIGNhbmRpZGF0ZXMuXCIpLGUub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24oZSl7ZS5jYW5kaWRhdGUmJmUuY2FuZGlkYXRlLmNhbmRpZGF0ZSYmKHIuZGVmYXVsdC5sb2coXCJSZWNlaXZlZCBJQ0UgY2FuZGlkYXRlcyBmb3IgXCIrdCtcIjpcIixlLmNhbmRpZGF0ZSkscy5zb2NrZXQuc2VuZCh7dHlwZTpjLlNlcnZlck1lc3NhZ2VUeXBlLkNhbmRpZGF0ZSxwYXlsb2FkOntjYW5kaWRhdGU6ZS5jYW5kaWRhdGUsdHlwZTphLGNvbm5lY3Rpb25JZDpvfSxkc3Q6dH0pKX0sZS5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3N3aXRjaChlLmljZUNvbm5lY3Rpb25TdGF0ZSl7Y2FzZVwiZmFpbGVkXCI6ci5kZWZhdWx0LmxvZyhcImljZUNvbm5lY3Rpb25TdGF0ZSBpcyBmYWlsZWQsIGNsb3NpbmcgY29ubmVjdGlvbnMgdG8gXCIrdCksbi5jb25uZWN0aW9uLmVtaXQoYy5Db25uZWN0aW9uRXZlbnRUeXBlLkVycm9yLG5ldyBFcnJvcihcIk5lZ290aWF0aW9uIG9mIGNvbm5lY3Rpb24gdG8gXCIrdCtcIiBmYWlsZWQuXCIpKSxuLmNvbm5lY3Rpb24uY2xvc2UoKTticmVhaztjYXNlXCJjbG9zZWRcIjpyLmRlZmF1bHQubG9nKFwiaWNlQ29ubmVjdGlvblN0YXRlIGlzIGNsb3NlZCwgY2xvc2luZyBjb25uZWN0aW9ucyB0byBcIit0KSxuLmNvbm5lY3Rpb24uZW1pdChjLkNvbm5lY3Rpb25FdmVudFR5cGUuRXJyb3IsbmV3IEVycm9yKFwiQ29ubmVjdGlvbiB0byBcIit0K1wiIGNsb3NlZC5cIikpLG4uY29ubmVjdGlvbi5jbG9zZSgpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RlZFwiOnIuZGVmYXVsdC5sb2coXCJpY2VDb25uZWN0aW9uU3RhdGUgY2hhbmdlZCB0byBkaXNjb25uZWN0ZWQgb24gdGhlIGNvbm5lY3Rpb24gd2l0aCBcIit0KTticmVhaztjYXNlXCJjb21wbGV0ZWRcIjplLm9uaWNlY2FuZGlkYXRlPWkudXRpbC5ub29wfW4uY29ubmVjdGlvbi5lbWl0KGMuQ29ubmVjdGlvbkV2ZW50VHlwZS5JY2VTdGF0ZUNoYW5nZWQsZS5pY2VDb25uZWN0aW9uU3RhdGUpfSxyLmRlZmF1bHQubG9nKFwiTGlzdGVuaW5nIGZvciBkYXRhIGNoYW5uZWxcIiksZS5vbmRhdGFjaGFubmVsPWZ1bmN0aW9uKGUpe3IuZGVmYXVsdC5sb2coXCJSZWNlaXZlZCBkYXRhIGNoYW5uZWxcIik7dmFyIG49ZS5jaGFubmVsO3MuZ2V0Q29ubmVjdGlvbih0LG8pLmluaXRpYWxpemUobil9LHIuZGVmYXVsdC5sb2coXCJMaXN0ZW5pbmcgZm9yIHJlbW90ZSBzdHJlYW1cIiksZS5vbnRyYWNrPWZ1bmN0aW9uKGUpe3IuZGVmYXVsdC5sb2coXCJSZWNlaXZlZCByZW1vdGUgc3RyZWFtXCIpO3ZhciBpPWUuc3RyZWFtc1swXSxhPXMuZ2V0Q29ubmVjdGlvbih0LG8pO2lmKGEudHlwZT09PWMuQ29ubmVjdGlvblR5cGUuTWVkaWEpe3ZhciBkPWE7bi5fYWRkU3RyZWFtVG9NZWRpYUNvbm5lY3Rpb24oaSxkKX19fSxvLnByb3RvdHlwZS5jbGVhbnVwPWZ1bmN0aW9uKCl7ci5kZWZhdWx0LmxvZyhcIkNsZWFuaW5nIHVwIFBlZXJDb25uZWN0aW9uIHRvIFwiK3RoaXMuY29ubmVjdGlvbi5wZWVyKTt2YXIgZT10aGlzLmNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb247aWYoZSl7dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uPW51bGwsZS5vbmljZWNhbmRpZGF0ZT1lLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPWUub25kYXRhY2hhbm5lbD1lLm9udHJhY2s9ZnVuY3Rpb24oKXt9O3ZhciBuPVwiY2xvc2VkXCIhPT1lLnNpZ25hbGluZ1N0YXRlLHQ9ITE7aWYodGhpcy5jb25uZWN0aW9uLnR5cGU9PT1jLkNvbm5lY3Rpb25UeXBlLkRhdGEpe3ZhciBvPXRoaXMuY29ubmVjdGlvbi5kYXRhQ2hhbm5lbDtvJiYodD0hIW8ucmVhZHlTdGF0ZSYmXCJjbG9zZWRcIiE9PW8ucmVhZHlTdGF0ZSl9KG58fHQpJiZlLmNsb3NlKCl9fSxvLnByb3RvdHlwZS5fbWFrZU9mZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsUHJvbWlzZSxmdW5jdGlvbigpe3ZhciBuLG8sYSxzLGQsbCx1O3JldHVybiB0KHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpuPXRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvbixvPXRoaXMuY29ubmVjdGlvbi5wcm92aWRlcix0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSw3LCw4XSksWzQsbi5jcmVhdGVPZmZlcih0aGlzLmNvbm5lY3Rpb24ub3B0aW9ucy5jb25zdHJhaW50cyldO2Nhc2UgMjphPXQuc2VudCgpLHIuZGVmYXVsdC5sb2coXCJDcmVhdGVkIG9mZmVyLlwiKSx0aGlzLmNvbm5lY3Rpb24ub3B0aW9ucy5zZHBUcmFuc2Zvcm0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuY29ubmVjdGlvbi5vcHRpb25zLnNkcFRyYW5zZm9ybSYmKGEuc2RwPXRoaXMuY29ubmVjdGlvbi5vcHRpb25zLnNkcFRyYW5zZm9ybShhLnNkcCl8fGEuc2RwKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVybiB0LnRyeXMucHVzaChbMyw1LCw2XSksWzQsbi5zZXRMb2NhbERlc2NyaXB0aW9uKGEpXTtjYXNlIDQ6cmV0dXJuIHQuc2VudCgpLHIuZGVmYXVsdC5sb2coXCJTZXQgbG9jYWxEZXNjcmlwdGlvbjpcIixhLFwiZm9yOlwiK3RoaXMuY29ubmVjdGlvbi5wZWVyKSxzPXtzZHA6YSx0eXBlOnRoaXMuY29ubmVjdGlvbi50eXBlLGNvbm5lY3Rpb25JZDp0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGlvbklkLG1ldGFkYXRhOnRoaXMuY29ubmVjdGlvbi5tZXRhZGF0YSxicm93c2VyOmkudXRpbC5icm93c2VyfSx0aGlzLmNvbm5lY3Rpb24udHlwZT09PWMuQ29ubmVjdGlvblR5cGUuRGF0YSYmKGQ9dGhpcy5jb25uZWN0aW9uLHM9ZShlKHt9LHMpLHtsYWJlbDpkLmxhYmVsLHJlbGlhYmxlOmQucmVsaWFibGUsc2VyaWFsaXphdGlvbjpkLnNlcmlhbGl6YXRpb259KSksby5zb2NrZXQuc2VuZCh7dHlwZTpjLlNlcnZlck1lc3NhZ2VUeXBlLk9mZmVyLHBheWxvYWQ6cyxkc3Q6dGhpcy5jb25uZWN0aW9uLnBlZXJ9KSxbMyw2XTtjYXNlIDU6cmV0dXJuXCJPcGVyYXRpb25FcnJvcjogRmFpbGVkIHRvIHNldCBsb2NhbCBvZmZlciBzZHA6IENhbGxlZCBpbiB3cm9uZyBzdGF0ZToga0hhdmVSZW1vdGVPZmZlclwiIT0obD10LnNlbnQoKSkmJihvLmVtaXRFcnJvcihjLlBlZXJFcnJvclR5cGUuV2ViUlRDLGwpLHIuZGVmYXVsdC5sb2coXCJGYWlsZWQgdG8gc2V0TG9jYWxEZXNjcmlwdGlvbiwgXCIsbCkpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMyw4XTtjYXNlIDc6cmV0dXJuIHU9dC5zZW50KCksby5lbWl0RXJyb3IoYy5QZWVyRXJyb3JUeXBlLldlYlJUQyx1KSxyLmRlZmF1bHQubG9nKFwiRmFpbGVkIHRvIGNyZWF0ZU9mZmVyLCBcIix1KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfX0pfSl9LG8ucHJvdG90eXBlLl9tYWtlQW5zd2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsUHJvbWlzZSxmdW5jdGlvbigpe3ZhciBlLG4sbyxhLHM7cmV0dXJuIHQodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmU9dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uLG49dGhpcy5jb25uZWN0aW9uLnByb3ZpZGVyLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDcsLDhdKSxbNCxlLmNyZWF0ZUFuc3dlcigpXTtjYXNlIDI6bz10LnNlbnQoKSxyLmRlZmF1bHQubG9nKFwiQ3JlYXRlZCBhbnN3ZXIuXCIpLHRoaXMuY29ubmVjdGlvbi5vcHRpb25zLnNkcFRyYW5zZm9ybSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5jb25uZWN0aW9uLm9wdGlvbnMuc2RwVHJhbnNmb3JtJiYoby5zZHA9dGhpcy5jb25uZWN0aW9uLm9wdGlvbnMuc2RwVHJhbnNmb3JtKG8uc2RwKXx8by5zZHApLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuIHQudHJ5cy5wdXNoKFszLDUsLDZdKSxbNCxlLnNldExvY2FsRGVzY3JpcHRpb24obyldO2Nhc2UgNDpyZXR1cm4gdC5zZW50KCksci5kZWZhdWx0LmxvZyhcIlNldCBsb2NhbERlc2NyaXB0aW9uOlwiLG8sXCJmb3I6XCIrdGhpcy5jb25uZWN0aW9uLnBlZXIpLG4uc29ja2V0LnNlbmQoe3R5cGU6Yy5TZXJ2ZXJNZXNzYWdlVHlwZS5BbnN3ZXIscGF5bG9hZDp7c2RwOm8sdHlwZTp0aGlzLmNvbm5lY3Rpb24udHlwZSxjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uLmNvbm5lY3Rpb25JZCxicm93c2VyOmkudXRpbC5icm93c2VyfSxkc3Q6dGhpcy5jb25uZWN0aW9uLnBlZXJ9KSxbMyw2XTtjYXNlIDU6cmV0dXJuIGE9dC5zZW50KCksbi5lbWl0RXJyb3IoYy5QZWVyRXJyb3JUeXBlLldlYlJUQyxhKSxyLmRlZmF1bHQubG9nKFwiRmFpbGVkIHRvIHNldExvY2FsRGVzY3JpcHRpb24sIFwiLGEpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMyw4XTtjYXNlIDc6cmV0dXJuIHM9dC5zZW50KCksbi5lbWl0RXJyb3IoYy5QZWVyRXJyb3JUeXBlLldlYlJUQyxzKSxyLmRlZmF1bHQubG9nKFwiRmFpbGVkIHRvIGNyZWF0ZSBhbnN3ZXIsIFwiLHMpLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19fSl9KX0sby5wcm90b3R5cGUuaGFuZGxlU0RQPWZ1bmN0aW9uKGUsbyl7cmV0dXJuIG4odGhpcyx2b2lkIDAsUHJvbWlzZSxmdW5jdGlvbigpe3ZhciBuLGksYSxzO3JldHVybiB0KHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpvPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24obyksbj10aGlzLmNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb24saT10aGlzLmNvbm5lY3Rpb24ucHJvdmlkZXIsci5kZWZhdWx0LmxvZyhcIlNldHRpbmcgcmVtb3RlIGRlc2NyaXB0aW9uXCIsbyksYT10aGlzLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDUsLDZdKSxbNCxuLnNldFJlbW90ZURlc2NyaXB0aW9uKG8pXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLHIuZGVmYXVsdC5sb2coXCJTZXQgcmVtb3RlRGVzY3JpcHRpb246XCIrZStcIiBmb3I6XCIrdGhpcy5jb25uZWN0aW9uLnBlZXIpLFwiT0ZGRVJcIiE9PWU/WzMsNF06WzQsYS5fbWFrZUFuc3dlcigpXTtjYXNlIDM6dC5zZW50KCksdC5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMyw2XTtjYXNlIDU6cmV0dXJuIHM9dC5zZW50KCksaS5lbWl0RXJyb3IoYy5QZWVyRXJyb3JUeXBlLldlYlJUQyxzKSxyLmRlZmF1bHQubG9nKFwiRmFpbGVkIHRvIHNldFJlbW90ZURlc2NyaXB0aW9uLCBcIixzKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzJdfX0pfSl9LG8ucHJvdG90eXBlLmhhbmRsZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbih0aGlzLHZvaWQgMCxQcm9taXNlLGZ1bmN0aW9uKCl7dmFyIG4sbyxpLGEscyxkO3JldHVybiB0KHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyLmRlZmF1bHQubG9nKFwiaGFuZGxlQ2FuZGlkYXRlOlwiLGUpLG49ZS5jYW5kaWRhdGUsbz1lLnNkcE1MaW5lSW5kZXgsaT1lLnNkcE1pZCxhPXRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvbixzPXRoaXMuY29ubmVjdGlvbi5wcm92aWRlcix0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSwzLCw0XSksWzQsYS5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZSh7c2RwTWlkOmksc2RwTUxpbmVJbmRleDpvLGNhbmRpZGF0ZTpufSkpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLHIuZGVmYXVsdC5sb2coXCJBZGRlZCBJQ0UgY2FuZGlkYXRlIGZvcjpcIit0aGlzLmNvbm5lY3Rpb24ucGVlciksWzMsNF07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLHMuZW1pdEVycm9yKGMuUGVlckVycm9yVHlwZS5XZWJSVEMsZCksci5kZWZhdWx0LmxvZyhcIkZhaWxlZCB0byBoYW5kbGVDYW5kaWRhdGUsIFwiLGQpLFszLDRdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sby5wcm90b3R5cGUuX2FkZFRyYWNrc1RvQ29ubmVjdGlvbj1mdW5jdGlvbihlLG4pe2lmKHIuZGVmYXVsdC5sb2coXCJhZGQgdHJhY2tzIGZyb20gc3RyZWFtIFwiK2UuaWQrXCIgdG8gcGVlciBjb25uZWN0aW9uXCIpLCFuLmFkZFRyYWNrKXJldHVybiByLmRlZmF1bHQuZXJyb3IoXCJZb3VyIGJyb3dzZXIgZG9lcyd0IHN1cHBvcnQgUlRDUGVlckNvbm5lY3Rpb24jYWRkVHJhY2suIElnbm9yZWQuXCIpO2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtuLmFkZFRyYWNrKHQsZSl9KX0sby5wcm90b3R5cGUuX2FkZFN0cmVhbVRvTWVkaWFDb25uZWN0aW9uPWZ1bmN0aW9uKGUsbil7ci5kZWZhdWx0LmxvZyhcImFkZCBzdHJlYW0gXCIrZS5pZCtcIiB0byBtZWRpYSBjb25uZWN0aW9uIFwiK24uY29ubmVjdGlvbklkKSxuLmFkZFN0cmVhbShlKX0sb30oKTtleHBvcnRzLk5lZ290aWF0b3I9YTtcbn0se1wiLi91dGlsXCI6XCJCSFhmXCIsXCIuL2xvZ2dlclwiOlwiV09zOVwiLFwiLi9lbnVtc1wiOlwiWlJZZlwifV0sXCJ0UUZLXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciB0PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUscil7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSl9KShlLHIpfTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxyKSxlLnByb3RvdHlwZT1udWxsPT09cj9PYmplY3QuY3JlYXRlKHIpOihuLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuZXcgbil9fSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBlPXJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpLHI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcih0LHIsbil7dmFyIG89ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLnBlZXI9dCxvLnByb3ZpZGVyPXIsby5vcHRpb25zPW4sby5fb3Blbj0hMSxvLm1ldGFkYXRhPW4ubWV0YWRhdGEsb31yZXR1cm4gdChyLGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcIm9wZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wZW59LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSkscn0oZS5FdmVudEVtaXR0ZXIpO2V4cG9ydHMuQmFzZUNvbm5lY3Rpb249cjtcbn0se1wiZXZlbnRlbWl0dGVyM1wiOlwiSkpsU1wifV0sXCJkYkhQXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbyl7cmV0dXJuKGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmKGVbb109dFtvXSl9KSh0LG8pfTtyZXR1cm4gZnVuY3Rpb24odCxvKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxvKSx0LnByb3RvdHlwZT1udWxsPT09bz9PYmplY3QuY3JlYXRlKG8pOihyLnByb3RvdHlwZT1vLnByb3RvdHlwZSxuZXcgcil9fSgpLHQ9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4odD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbz0xLHI9YXJndW1lbnRzLmxlbmd0aDtvPHI7bysrKWZvcih2YXIgbiBpbiB0PWFyZ3VtZW50c1tvXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG89dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Isbz10JiZlW3RdLHI9MDtpZihvKXJldHVybiBvLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJnI+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW3IrK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX0scj10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1yZXF1aXJlKFwiLi91dGlsXCIpLGk9cihyZXF1aXJlKFwiLi9sb2dnZXJcIikpLGE9cmVxdWlyZShcIi4vbmVnb3RpYXRvclwiKSxzPXJlcXVpcmUoXCIuL2VudW1zXCIpLGw9cmVxdWlyZShcIi4vYmFzZWNvbm5lY3Rpb25cIiksYz1mdW5jdGlvbihyKXtmdW5jdGlvbiBsKGUsdCxvKXt2YXIgaT1yLmNhbGwodGhpcyxlLHQsbyl8fHRoaXM7cmV0dXJuIGkuX2xvY2FsU3RyZWFtPWkub3B0aW9ucy5fc3RyZWFtLGkuY29ubmVjdGlvbklkPWkub3B0aW9ucy5jb25uZWN0aW9uSWR8fGwuSURfUFJFRklYK24udXRpbC5yYW5kb21Ub2tlbigpLGkuX25lZ290aWF0b3I9bmV3IGEuTmVnb3RpYXRvcihpKSxpLl9sb2NhbFN0cmVhbSYmaS5fbmVnb3RpYXRvci5zdGFydENvbm5lY3Rpb24oe19zdHJlYW06aS5fbG9jYWxTdHJlYW0sb3JpZ2luYXRvcjohMH0pLGl9cmV0dXJuIGUobCxyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobC5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBzLkNvbm5lY3Rpb25UeXBlLk1lZGlhfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLnByb3RvdHlwZSxcImxvY2FsU3RyZWFtXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbFN0cmVhbX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobC5wcm90b3R5cGUsXCJyZW1vdGVTdHJlYW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxsLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmxvZyhcIlJlY2VpdmluZyBzdHJlYW1cIixlKSx0aGlzLl9yZW1vdGVTdHJlYW09ZSxyLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxzLkNvbm5lY3Rpb25FdmVudFR5cGUuU3RyZWFtLGUpfSxsLnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZSxvPWUucGF5bG9hZDtzd2l0Y2goZS50eXBlKXtjYXNlIHMuU2VydmVyTWVzc2FnZVR5cGUuQW5zd2VyOnRoaXMuX25lZ290aWF0b3IuaGFuZGxlU0RQKHQsby5zZHApLHRoaXMuX29wZW49ITA7YnJlYWs7Y2FzZSBzLlNlcnZlck1lc3NhZ2VUeXBlLkNhbmRpZGF0ZTp0aGlzLl9uZWdvdGlhdG9yLmhhbmRsZUNhbmRpZGF0ZShvLmNhbmRpZGF0ZSk7YnJlYWs7ZGVmYXVsdDppLmRlZmF1bHQud2FybihcIlVucmVjb2duaXplZCBtZXNzYWdlIHR5cGU6XCIrdCtcIiBmcm9tIHBlZXI6XCIrdGhpcy5wZWVyKX19LGwucHJvdG90eXBlLmFuc3dlcj1mdW5jdGlvbihlLHIpe3ZhciBuLGE7aWYodm9pZCAwPT09ciYmKHI9e30pLHRoaXMuX2xvY2FsU3RyZWFtKWkuZGVmYXVsdC53YXJuKFwiTG9jYWwgc3RyZWFtIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgTWVkaWFDb25uZWN0aW9uLiBBcmUgeW91IGFuc3dlcmluZyBhIGNhbGwgdHdpY2U/XCIpO2Vsc2V7dGhpcy5fbG9jYWxTdHJlYW09ZSxyJiZyLnNkcFRyYW5zZm9ybSYmKHRoaXMub3B0aW9ucy5zZHBUcmFuc2Zvcm09ci5zZHBUcmFuc2Zvcm0pLHRoaXMuX25lZ290aWF0b3Iuc3RhcnRDb25uZWN0aW9uKHQodCh7fSx0aGlzLm9wdGlvbnMuX3BheWxvYWQpLHtfc3RyZWFtOmV9KSk7dmFyIHM9dGhpcy5wcm92aWRlci5fZ2V0TWVzc2FnZXModGhpcy5jb25uZWN0aW9uSWQpO3RyeXtmb3IodmFyIGw9byhzKSxjPWwubmV4dCgpOyFjLmRvbmU7Yz1sLm5leHQoKSl7dmFyIHA9Yy52YWx1ZTt0aGlzLmhhbmRsZU1lc3NhZ2UocCl9fWNhdGNoKHUpe249e2Vycm9yOnV9fWZpbmFsbHl7dHJ5e2MmJiFjLmRvbmUmJihhPWwucmV0dXJuKSYmYS5jYWxsKGwpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX10aGlzLl9vcGVuPSEwfX0sbC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9uZWdvdGlhdG9yJiYodGhpcy5fbmVnb3RpYXRvci5jbGVhbnVwKCksdGhpcy5fbmVnb3RpYXRvcj1udWxsKSx0aGlzLl9sb2NhbFN0cmVhbT1udWxsLHRoaXMuX3JlbW90ZVN0cmVhbT1udWxsLHRoaXMucHJvdmlkZXImJih0aGlzLnByb3ZpZGVyLl9yZW1vdmVDb25uZWN0aW9uKHRoaXMpLHRoaXMucHJvdmlkZXI9bnVsbCksdGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuX3N0cmVhbSYmKHRoaXMub3B0aW9ucy5fc3RyZWFtPW51bGwpLHRoaXMub3BlbiYmKHRoaXMuX29wZW49ITEsci5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMscy5Db25uZWN0aW9uRXZlbnRUeXBlLkNsb3NlKSl9LGwuSURfUFJFRklYPVwibWNfXCIsbH0obC5CYXNlQ29ubmVjdGlvbik7ZXhwb3J0cy5NZWRpYUNvbm5lY3Rpb249Yztcbn0se1wiLi91dGlsXCI6XCJCSFhmXCIsXCIuL2xvZ2dlclwiOlwiV09zOVwiLFwiLi9uZWdvdGlhdG9yXCI6XCJIQ2RYXCIsXCIuL2VudW1zXCI6XCJaUllmXCIsXCIuL2Jhc2Vjb25uZWN0aW9uXCI6XCJ0UUZLXCJ9XSxcIkdHcDZcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykge1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYoZVtyXT10W3JdKX0pKHQscil9O3JldHVybiBmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LHIpLHQucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG8ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBvKX19KCksdD10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1yZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKSxvPXQocmVxdWlyZShcIi4vbG9nZ2VyXCIpKSxuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGUuZmlsZVJlYWRlcj1uZXcgRmlsZVJlYWRlcixlLl9xdWV1ZT1bXSxlLl9wcm9jZXNzaW5nPSExLGUuZmlsZVJlYWRlci5vbmxvYWQ9ZnVuY3Rpb24odCl7ZS5fcHJvY2Vzc2luZz0hMSx0LnRhcmdldCYmZS5lbWl0KFwiZG9uZVwiLHQudGFyZ2V0LnJlc3VsdCksZS5kb05leHRUYXNrKCl9LGUuZmlsZVJlYWRlci5vbmVycm9yPWZ1bmN0aW9uKHQpe28uZGVmYXVsdC5lcnJvcihcIkVuY29kaW5nUXVldWUgZXJyb3I6XCIsdCksZS5fcHJvY2Vzc2luZz0hMSxlLmRlc3Ryb3koKSxlLmVtaXQoXCJlcnJvclwiLHQpfSxlfXJldHVybiBlKHIsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwicXVldWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1ZXVlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucXVldWUubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcInByb2Nlc3NpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3Npbmd9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksci5wcm90b3R5cGUuZW5xdWU9ZnVuY3Rpb24oZSl7dGhpcy5xdWV1ZS5wdXNoKGUpLHRoaXMucHJvY2Vzc2luZ3x8dGhpcy5kb05leHRUYXNrKCl9LHIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZpbGVSZWFkZXIuYWJvcnQoKSx0aGlzLl9xdWV1ZT1bXX0sci5wcm90b3R5cGUuZG9OZXh0VGFzaz1mdW5jdGlvbigpezAhPT10aGlzLnNpemUmJih0aGlzLnByb2Nlc3Npbmd8fCh0aGlzLl9wcm9jZXNzaW5nPSEwLHRoaXMuZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcih0aGlzLnF1ZXVlLnNoaWZ0KCkpKSl9LHJ9KHIuRXZlbnRFbWl0dGVyKTtleHBvcnRzLkVuY29kaW5nUXVldWU9bjtcbn0se1wiZXZlbnRlbWl0dGVyM1wiOlwiSkpsU1wiLFwiLi9sb2dnZXJcIjpcIldPczlcIn1dLFwiR0JUUVwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LG4pe3JldHVybihlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkodCxuKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSx0PXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLG49dCYmZVt0XSxpPTA7aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9LG49dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9cmVxdWlyZShcIi4vdXRpbFwiKSxvPW4ocmVxdWlyZShcIi4vbG9nZ2VyXCIpKSxyPXJlcXVpcmUoXCIuL25lZ290aWF0b3JcIiksYT1yZXF1aXJlKFwiLi9lbnVtc1wiKSxzPXJlcXVpcmUoXCIuL2Jhc2Vjb25uZWN0aW9uXCIpLHU9cmVxdWlyZShcIi4vZW5jb2RpbmdRdWV1ZVwiKSxsPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHMoZSx0LGwpe3ZhciBmPW4uY2FsbCh0aGlzLGUsdCxsKXx8dGhpcztyZXR1cm4gZi5zdHJpbmdpZnk9SlNPTi5zdHJpbmdpZnksZi5wYXJzZT1KU09OLnBhcnNlLGYuX2J1ZmZlcj1bXSxmLl9idWZmZXJTaXplPTAsZi5fYnVmZmVyaW5nPSExLGYuX2NodW5rZWREYXRhPXt9LGYuX2VuY29kaW5nUXVldWU9bmV3IHUuRW5jb2RpbmdRdWV1ZSxmLmNvbm5lY3Rpb25JZD1mLm9wdGlvbnMuY29ubmVjdGlvbklkfHxzLklEX1BSRUZJWCtpLnV0aWwucmFuZG9tVG9rZW4oKSxmLmxhYmVsPWYub3B0aW9ucy5sYWJlbHx8Zi5jb25uZWN0aW9uSWQsZi5zZXJpYWxpemF0aW9uPWYub3B0aW9ucy5zZXJpYWxpemF0aW9ufHxhLlNlcmlhbGl6YXRpb25UeXBlLkJpbmFyeSxmLnJlbGlhYmxlPSEhZi5vcHRpb25zLnJlbGlhYmxlLGYuX2VuY29kaW5nUXVldWUub24oXCJkb25lXCIsZnVuY3Rpb24oZSl7Zi5fYnVmZmVyZWRTZW5kKGUpfSksZi5fZW5jb2RpbmdRdWV1ZS5vbihcImVycm9yXCIsZnVuY3Rpb24oKXtvLmRlZmF1bHQuZXJyb3IoXCJEQyNcIitmLmNvbm5lY3Rpb25JZCtcIjogRXJyb3Igb2NjdXJlZCBpbiBlbmNvZGluZyBmcm9tIGJsb2IgdG8gYXJyYXlidWZmZXIsIGNsb3NlIERDXCIpLGYuY2xvc2UoKX0pLGYuX25lZ290aWF0b3I9bmV3IHIuTmVnb3RpYXRvcihmKSxmLl9uZWdvdGlhdG9yLnN0YXJ0Q29ubmVjdGlvbihmLm9wdGlvbnMuX3BheWxvYWR8fHtvcmlnaW5hdG9yOiEwfSksZn1yZXR1cm4gZShzLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuQ29ubmVjdGlvblR5cGUuRGF0YX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJkYXRhQ2hhbm5lbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwiYnVmZmVyU2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyU2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxzLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3RoaXMuX2RjPWUsdGhpcy5fY29uZmlndXJlRGF0YUNoYW5uZWwoKX0scy5wcm90b3R5cGUuX2NvbmZpZ3VyZURhdGFDaGFubmVsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpLnV0aWwuc3VwcG9ydHMuYmluYXJ5QmxvYiYmIWkudXRpbC5zdXBwb3J0cy5yZWxpYWJsZXx8KHRoaXMuZGF0YUNoYW5uZWwuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIpLHRoaXMuZGF0YUNoYW5uZWwub25vcGVuPWZ1bmN0aW9uKCl7by5kZWZhdWx0LmxvZyhcIkRDI1wiK2UuY29ubmVjdGlvbklkK1wiIGRjIGNvbm5lY3Rpb24gc3VjY2Vzc1wiKSxlLl9vcGVuPSEwLGUuZW1pdChhLkNvbm5lY3Rpb25FdmVudFR5cGUuT3Blbil9LHRoaXMuZGF0YUNoYW5uZWwub25tZXNzYWdlPWZ1bmN0aW9uKHQpe28uZGVmYXVsdC5sb2coXCJEQyNcIitlLmNvbm5lY3Rpb25JZCtcIiBkYyBvbm1lc3NhZ2U6XCIsdC5kYXRhKSxlLl9oYW5kbGVEYXRhTWVzc2FnZSh0KX0sdGhpcy5kYXRhQ2hhbm5lbC5vbmNsb3NlPWZ1bmN0aW9uKCl7by5kZWZhdWx0LmxvZyhcIkRDI1wiK2UuY29ubmVjdGlvbklkK1wiIGRjIGNsb3NlZCBmb3I6XCIsZS5wZWVyKSxlLmNsb3NlKCl9fSxzLnByb3RvdHlwZS5faGFuZGxlRGF0YU1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxvPWUuZGF0YSxyPW8uY29uc3RydWN0b3Iscz1vO2lmKHRoaXMuc2VyaWFsaXphdGlvbj09PWEuU2VyaWFsaXphdGlvblR5cGUuQmluYXJ5fHx0aGlzLnNlcmlhbGl6YXRpb249PT1hLlNlcmlhbGl6YXRpb25UeXBlLkJpbmFyeVVURjgpe2lmKHI9PT1CbG9iKXJldHVybiB2b2lkIGkudXRpbC5ibG9iVG9BcnJheUJ1ZmZlcihvLGZ1bmN0aW9uKGUpe3ZhciBuPWkudXRpbC51bnBhY2soZSk7dC5lbWl0KGEuQ29ubmVjdGlvbkV2ZW50VHlwZS5EYXRhLG4pfSk7aWYocj09PUFycmF5QnVmZmVyKXM9aS51dGlsLnVucGFjayhvKTtlbHNlIGlmKHI9PT1TdHJpbmcpe3ZhciB1PWkudXRpbC5iaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKG8pO3M9aS51dGlsLnVucGFjayh1KX19ZWxzZSB0aGlzLnNlcmlhbGl6YXRpb249PT1hLlNlcmlhbGl6YXRpb25UeXBlLkpTT04mJihzPXRoaXMucGFyc2UobykpO3MuX19wZWVyRGF0YT90aGlzLl9oYW5kbGVDaHVuayhzKTpuLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxhLkNvbm5lY3Rpb25FdmVudFR5cGUuRGF0YSxzKX0scy5wcm90b3R5cGUuX2hhbmRsZUNodW5rPWZ1bmN0aW9uKGUpe3ZhciB0PWUuX19wZWVyRGF0YSxuPXRoaXMuX2NodW5rZWREYXRhW3RdfHx7ZGF0YTpbXSxjb3VudDowLHRvdGFsOmUudG90YWx9O2lmKG4uZGF0YVtlLm5dPWUuZGF0YSxuLmNvdW50KyssdGhpcy5fY2h1bmtlZERhdGFbdF09bixuLnRvdGFsPT09bi5jb3VudCl7ZGVsZXRlIHRoaXMuX2NodW5rZWREYXRhW3RdO3ZhciBpPW5ldyBCbG9iKG4uZGF0YSk7dGhpcy5faGFuZGxlRGF0YU1lc3NhZ2Uoe2RhdGE6aX0pfX0scy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXI9W10sdGhpcy5fYnVmZmVyU2l6ZT0wLHRoaXMuX2NodW5rZWREYXRhPXt9LHRoaXMuX25lZ290aWF0b3ImJih0aGlzLl9uZWdvdGlhdG9yLmNsZWFudXAoKSx0aGlzLl9uZWdvdGlhdG9yPW51bGwpLHRoaXMucHJvdmlkZXImJih0aGlzLnByb3ZpZGVyLl9yZW1vdmVDb25uZWN0aW9uKHRoaXMpLHRoaXMucHJvdmlkZXI9bnVsbCksdGhpcy5kYXRhQ2hhbm5lbCYmKHRoaXMuZGF0YUNoYW5uZWwub25vcGVuPW51bGwsdGhpcy5kYXRhQ2hhbm5lbC5vbm1lc3NhZ2U9bnVsbCx0aGlzLmRhdGFDaGFubmVsLm9uY2xvc2U9bnVsbCx0aGlzLl9kYz1udWxsKSx0aGlzLl9lbmNvZGluZ1F1ZXVlJiYodGhpcy5fZW5jb2RpbmdRdWV1ZS5kZXN0cm95KCksdGhpcy5fZW5jb2RpbmdRdWV1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9lbmNvZGluZ1F1ZXVlPW51bGwpLHRoaXMub3BlbiYmKHRoaXMuX29wZW49ITEsbi5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsYS5Db25uZWN0aW9uRXZlbnRUeXBlLkNsb3NlKSl9LHMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm9wZW4paWYodGhpcy5zZXJpYWxpemF0aW9uPT09YS5TZXJpYWxpemF0aW9uVHlwZS5KU09OKXRoaXMuX2J1ZmZlcmVkU2VuZCh0aGlzLnN0cmluZ2lmeShlKSk7ZWxzZSBpZih0aGlzLnNlcmlhbGl6YXRpb249PT1hLlNlcmlhbGl6YXRpb25UeXBlLkJpbmFyeXx8dGhpcy5zZXJpYWxpemF0aW9uPT09YS5TZXJpYWxpemF0aW9uVHlwZS5CaW5hcnlVVEY4KXt2YXIgbz1pLnV0aWwucGFjayhlKTtpZighdCYmby5zaXplPmkudXRpbC5jaHVua2VkTVRVKXJldHVybiB2b2lkIHRoaXMuX3NlbmRDaHVua3Mobyk7aS51dGlsLnN1cHBvcnRzLmJpbmFyeUJsb2I/dGhpcy5fYnVmZmVyZWRTZW5kKG8pOnRoaXMuX2VuY29kaW5nUXVldWUuZW5xdWUobyl9ZWxzZSB0aGlzLl9idWZmZXJlZFNlbmQoZSk7ZWxzZSBuLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxhLkNvbm5lY3Rpb25FdmVudFR5cGUuRXJyb3IsbmV3IEVycm9yKFwiQ29ubmVjdGlvbiBpcyBub3Qgb3Blbi4gWW91IHNob3VsZCBsaXN0ZW4gZm9yIHRoZSBgb3BlbmAgZXZlbnQgYmVmb3JlIHNlbmRpbmcgbWVzc2FnZXMuXCIpKX0scy5wcm90b3R5cGUuX2J1ZmZlcmVkU2VuZD1mdW5jdGlvbihlKXshdGhpcy5fYnVmZmVyaW5nJiZ0aGlzLl90cnlTZW5kKGUpfHwodGhpcy5fYnVmZmVyLnB1c2goZSksdGhpcy5fYnVmZmVyU2l6ZT10aGlzLl9idWZmZXIubGVuZ3RoKX0scy5wcm90b3R5cGUuX3RyeVNlbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdGhpcy5vcGVuKXJldHVybiExO2lmKHRoaXMuZGF0YUNoYW5uZWwuYnVmZmVyZWRBbW91bnQ+cy5NQVhfQlVGRkVSRURfQU1PVU5UKXJldHVybiB0aGlzLl9idWZmZXJpbmc9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1ZmZlcmluZz0hMSx0Ll90cnlCdWZmZXIoKX0sNTApLCExO3RyeXt0aGlzLmRhdGFDaGFubmVsLnNlbmQoZSl9Y2F0Y2gobil7cmV0dXJuIG8uZGVmYXVsdC5lcnJvcihcIkRDIzpcIit0aGlzLmNvbm5lY3Rpb25JZCtcIiBFcnJvciB3aGVuIHNlbmRpbmc6XCIsbiksdGhpcy5fYnVmZmVyaW5nPSEwLHRoaXMuY2xvc2UoKSwhMX1yZXR1cm4hMH0scy5wcm90b3R5cGUuX3RyeUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMub3BlbiYmMCE9PXRoaXMuX2J1ZmZlci5sZW5ndGgpe3ZhciBlPXRoaXMuX2J1ZmZlclswXTt0aGlzLl90cnlTZW5kKGUpJiYodGhpcy5fYnVmZmVyLnNoaWZ0KCksdGhpcy5fYnVmZmVyU2l6ZT10aGlzLl9idWZmZXIubGVuZ3RoLHRoaXMuX3RyeUJ1ZmZlcigpKX19LHMucHJvdG90eXBlLl9zZW5kQ2h1bmtzPWZ1bmN0aW9uKGUpe3ZhciBuLHIsYT1pLnV0aWwuY2h1bmsoZSk7by5kZWZhdWx0LmxvZyhcIkRDI1wiK3RoaXMuY29ubmVjdGlvbklkK1wiIFRyeSB0byBzZW5kIFwiK2EubGVuZ3RoK1wiIGNodW5rcy4uLlwiKTt0cnl7Zm9yKHZhciBzPXQoYSksdT1zLm5leHQoKTshdS5kb25lO3U9cy5uZXh0KCkpe3ZhciBsPXUudmFsdWU7dGhpcy5zZW5kKGwsITApfX1jYXRjaChmKXtuPXtlcnJvcjpmfX1maW5hbGx5e3RyeXt1JiYhdS5kb25lJiYocj1zLnJldHVybikmJnIuY2FsbChzKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19fSxzLnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGF5bG9hZDtzd2l0Y2goZS50eXBlKXtjYXNlIGEuU2VydmVyTWVzc2FnZVR5cGUuQW5zd2VyOnRoaXMuX25lZ290aWF0b3IuaGFuZGxlU0RQKGUudHlwZSx0LnNkcCk7YnJlYWs7Y2FzZSBhLlNlcnZlck1lc3NhZ2VUeXBlLkNhbmRpZGF0ZTp0aGlzLl9uZWdvdGlhdG9yLmhhbmRsZUNhbmRpZGF0ZSh0LmNhbmRpZGF0ZSk7YnJlYWs7ZGVmYXVsdDpvLmRlZmF1bHQud2FybihcIlVucmVjb2duaXplZCBtZXNzYWdlIHR5cGU6XCIsZS50eXBlLFwiZnJvbSBwZWVyOlwiLHRoaXMucGVlcil9fSxzLklEX1BSRUZJWD1cImRjX1wiLHMuTUFYX0JVRkZFUkVEX0FNT1VOVD04Mzg4NjA4LHN9KHMuQmFzZUNvbm5lY3Rpb24pO2V4cG9ydHMuRGF0YUNvbm5lY3Rpb249bDtcbn0se1wiLi91dGlsXCI6XCJCSFhmXCIsXCIuL2xvZ2dlclwiOlwiV09zOVwiLFwiLi9uZWdvdGlhdG9yXCI6XCJIQ2RYXCIsXCIuL2VudW1zXCI6XCJaUllmXCIsXCIuL2Jhc2Vjb25uZWN0aW9uXCI6XCJ0UUZLXCIsXCIuL2VuY29kaW5nUXVldWVcIjpcIkdHcDZcIn1dLFwiaW43TFwiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7XG5cInVzZSBzdHJpY3RcIjt2YXIgdD10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odCxlLHIsbyl7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoZnVuY3Rpb24obixzKXtmdW5jdGlvbiBpKHQpe3RyeXthKG8ubmV4dCh0KSl9Y2F0Y2goZSl7cyhlKX19ZnVuY3Rpb24gdSh0KXt0cnl7YShvLnRocm93KHQpKX1jYXRjaChlKXtzKGUpfX1mdW5jdGlvbiBhKHQpe3ZhciBlO3QuZG9uZT9uKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihmdW5jdGlvbih0KXt0KGUpfSkpLnRoZW4oaSx1KX1hKChvPW8uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KX0sZT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0LGUpe3ZhciByLG8sbixzLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmblswXSl0aHJvdyBuWzFdO3JldHVybiBuWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHM9e25leHQ6dSgwKSx0aHJvdzp1KDEpLHJldHVybjp1KDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHM7ZnVuY3Rpb24gdShzKXtyZXR1cm4gZnVuY3Rpb24odSl7cmV0dXJuIGZ1bmN0aW9uKHMpe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtpOyl0cnl7aWYocj0xLG8mJihuPTImc1swXT9vLnJldHVybjpzWzBdP28udGhyb3d8fCgobj1vLnJldHVybikmJm4uY2FsbChvKSwwKTpvLm5leHQpJiYhKG49bi5jYWxsKG8sc1sxXSkpLmRvbmUpcmV0dXJuIG47c3dpdGNoKG89MCxuJiYocz1bMiZzWzBdLG4udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm49czticmVhaztjYXNlIDQ6cmV0dXJuIGkubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6aS5sYWJlbCsrLG89c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1pLm9wcy5wb3AoKSxpLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG49KG49aS50cnlzKS5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXSkmJig2PT09c1swXXx8Mj09PXNbMF0pKXtpPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighbnx8c1sxXT5uWzBdJiZzWzFdPG5bM10pKXtpLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmkubGFiZWw8blsxXSl7aS5sYWJlbD1uWzFdLG49czticmVha31pZihuJiZpLmxhYmVsPG5bMl0pe2kubGFiZWw9blsyXSxpLm9wcy5wdXNoKHMpO2JyZWFrfW5bMl0mJmkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZX1zPWUuY2FsbCh0LGkpfWNhdGNoKHUpe3M9WzYsdV0sbz0wfWZpbmFsbHl7cj1uPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLHVdKX19fSxyPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPXJlcXVpcmUoXCIuL3V0aWxcIiksbj1yKHJlcXVpcmUoXCIuL2xvZ2dlclwiKSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHIodCl7dGhpcy5fb3B0aW9ucz10fXJldHVybiByLnByb3RvdHlwZS5fYnVpbGRVcmw9ZnVuY3Rpb24odCl7dmFyIGU9KHRoaXMuX29wdGlvbnMuc2VjdXJlP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrdGhpcy5fb3B0aW9ucy5ob3N0K1wiOlwiK3RoaXMuX29wdGlvbnMucG9ydCt0aGlzLl9vcHRpb25zLnBhdGgrdGhpcy5fb3B0aW9ucy5rZXkrXCIvXCIrdDtyZXR1cm4gZSs9XCI/dHM9XCIrKG5ldyBEYXRlKS5nZXRUaW1lKCkrTWF0aC5yYW5kb20oKX0sci5wcm90b3R5cGUucmV0cmlldmVJZD1mdW5jdGlvbigpe3JldHVybiB0KHRoaXMsdm9pZCAwLFByb21pc2UsZnVuY3Rpb24oKXt2YXIgdCxyLHMsaTtyZXR1cm4gZSh0aGlzLGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6dD10aGlzLl9idWlsZFVybChcImlkXCIpLGUubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGUudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCxmZXRjaCh0KV07Y2FzZSAyOmlmKDIwMCE9PShyPWUuc2VudCgpKS5zdGF0dXMpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IuIFN0YXR1czpcIityLnN0YXR1cyk7cmV0dXJuWzIsci50ZXh0KCldO2Nhc2UgMzp0aHJvdyBzPWUuc2VudCgpLG4uZGVmYXVsdC5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgSURcIixzKSxpPVwiXCIsXCIvXCI9PT10aGlzLl9vcHRpb25zLnBhdGgmJnRoaXMuX29wdGlvbnMuaG9zdCE9PW8udXRpbC5DTE9VRF9IT1NUJiYoaT1cIiBJZiB5b3UgcGFzc2VkIGluIGEgYHBhdGhgIHRvIHlvdXIgc2VsZi1ob3N0ZWQgUGVlclNlcnZlciwgeW91J2xsIGFsc28gbmVlZCB0byBwYXNzIGluIHRoYXQgc2FtZSBwYXRoIHdoZW4gY3JlYXRpbmcgYSBuZXcgUGVlci5cIiksbmV3IEVycm9yKFwiQ291bGQgbm90IGdldCBhbiBJRCBmcm9tIHRoZSBzZXJ2ZXIuXCIraSk7Y2FzZSA0OnJldHVyblsyXX19KX0pfSxyLnByb3RvdHlwZS5saXN0QWxsUGVlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLHZvaWQgMCxQcm9taXNlLGZ1bmN0aW9uKCl7dmFyIHQscixzLGk7cmV0dXJuIGUodGhpcyxmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnQ9dGhpcy5fYnVpbGRVcmwoXCJwZWVyc1wiKSxlLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBlLnRyeXMucHVzaChbMSwzLCw0XSksWzQsZmV0Y2godCldO2Nhc2UgMjppZigyMDAhPT0ocj1lLnNlbnQoKSkuc3RhdHVzKXtpZig0MDE9PT1yLnN0YXR1cyl0aHJvdyBzPVwiXCIscz10aGlzLl9vcHRpb25zLmhvc3Q9PT1vLnV0aWwuQ0xPVURfSE9TVD9cIkl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIHRoZSBjbG91ZCBzZXJ2ZXIuIFlvdSBjYW4gZW1haWwgdGVhbUBwZWVyanMuY29tIHRvIGVuYWJsZSBwZWVyIGxpc3RpbmcgZm9yIHlvdXIgQVBJIGtleS5cIjpcIllvdSBuZWVkIHRvIGVuYWJsZSBgYWxsb3dfZGlzY292ZXJ5YCBvbiB5b3VyIHNlbGYtaG9zdGVkIFBlZXJTZXJ2ZXIgdG8gdXNlIHRoaXMgZmVhdHVyZS5cIixuZXcgRXJyb3IoXCJJdCBkb2Vzbid0IGxvb2sgbGlrZSB5b3UgaGF2ZSBwZXJtaXNzaW9uIHRvIGxpc3QgcGVlcnMgSURzLiBcIitzKTt0aHJvdyBuZXcgRXJyb3IoXCJFcnJvci4gU3RhdHVzOlwiK3Iuc3RhdHVzKX1yZXR1cm5bMixyLmpzb24oKV07Y2FzZSAzOnRocm93IGk9ZS5zZW50KCksbi5kZWZhdWx0LmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyBsaXN0IHBlZXJzXCIsaSksbmV3IEVycm9yKFwiQ291bGQgbm90IGdldCBsaXN0IHBlZXJzIGZyb20gdGhlIHNlcnZlci5cIitpKTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LHJ9KCk7ZXhwb3J0cy5BUEk9cztcbn0se1wiLi91dGlsXCI6XCJCSFhmXCIsXCIuL2xvZ2dlclwiOlwiV09zOVwifV0sXCJIeHBkXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO3ZhciBlPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuKGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KSh0LG4pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9fSgpLHQ9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4odD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG49dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Isbj10JiZlW3RdLHI9MDtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJnI+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW3IrK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX0scj10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighbilyZXR1cm4gZTt2YXIgcixvLGk9bi5jYWxsKGUpLHM9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEocj1pLm5leHQoKSkuZG9uZTspcy5wdXNoKHIudmFsdWUpfWNhdGNoKGEpe289e2Vycm9yOmF9fWZpbmFsbHl7dHJ5e3ImJiFyLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gc30sbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1yZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKSxzPXJlcXVpcmUoXCIuL3V0aWxcIiksYT1vKHJlcXVpcmUoXCIuL2xvZ2dlclwiKSksYz1yZXF1aXJlKFwiLi9zb2NrZXRcIiksbD1yZXF1aXJlKFwiLi9tZWRpYWNvbm5lY3Rpb25cIiksZD1yZXF1aXJlKFwiLi9kYXRhY29ubmVjdGlvblwiKSx1PXJlcXVpcmUoXCIuL2VudW1zXCIpLHA9cmVxdWlyZShcIi4vYXBpXCIpLGg9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fSgpLGY9ZnVuY3Rpb24obyl7ZnVuY3Rpb24gaShlLG4pe3ZhciByLGM9by5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBjLl9pZD1udWxsLGMuX2xhc3RTZXJ2ZXJJZD1udWxsLGMuX2Rlc3Ryb3llZD0hMSxjLl9kaXNjb25uZWN0ZWQ9ITEsYy5fb3Blbj0hMSxjLl9jb25uZWN0aW9ucz1uZXcgTWFwLGMuX2xvc3RNZXNzYWdlcz1uZXcgTWFwLGUmJmUuY29uc3RydWN0b3I9PU9iamVjdD9uPWU6ZSYmKHI9ZS50b1N0cmluZygpKSxuPXQoe2RlYnVnOjAsaG9zdDpzLnV0aWwuQ0xPVURfSE9TVCxwb3J0OnMudXRpbC5DTE9VRF9QT1JULHBhdGg6XCIvXCIsa2V5OmkuREVGQVVMVF9LRVksdG9rZW46cy51dGlsLnJhbmRvbVRva2VuKCksY29uZmlnOnMudXRpbC5kZWZhdWx0Q29uZmlnfSxuKSxjLl9vcHRpb25zPW4sXCIvXCI9PT1jLl9vcHRpb25zLmhvc3QmJihjLl9vcHRpb25zLmhvc3Q9d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSxjLl9vcHRpb25zLnBhdGgmJihcIi9cIiE9PWMuX29wdGlvbnMucGF0aFswXSYmKGMuX29wdGlvbnMucGF0aD1cIi9cIitjLl9vcHRpb25zLnBhdGgpLFwiL1wiIT09Yy5fb3B0aW9ucy5wYXRoW2MuX29wdGlvbnMucGF0aC5sZW5ndGgtMV0mJihjLl9vcHRpb25zLnBhdGgrPVwiL1wiKSksdm9pZCAwPT09Yy5fb3B0aW9ucy5zZWN1cmUmJmMuX29wdGlvbnMuaG9zdCE9PXMudXRpbC5DTE9VRF9IT1NUP2MuX29wdGlvbnMuc2VjdXJlPXMudXRpbC5pc1NlY3VyZSgpOmMuX29wdGlvbnMuaG9zdD09cy51dGlsLkNMT1VEX0hPU1QmJihjLl9vcHRpb25zLnNlY3VyZT0hMCksYy5fb3B0aW9ucy5sb2dGdW5jdGlvbiYmYS5kZWZhdWx0LnNldExvZ0Z1bmN0aW9uKGMuX29wdGlvbnMubG9nRnVuY3Rpb24pLGEuZGVmYXVsdC5sb2dMZXZlbD1jLl9vcHRpb25zLmRlYnVnfHwwLGMuX2FwaT1uZXcgcC5BUEkobiksYy5fc29ja2V0PWMuX2NyZWF0ZVNlcnZlckNvbm5lY3Rpb24oKSxzLnV0aWwuc3VwcG9ydHMuYXVkaW9WaWRlb3x8cy51dGlsLnN1cHBvcnRzLmRhdGE/ciYmIXMudXRpbC52YWxpZGF0ZUlkKHIpPyhjLl9kZWxheWVkQWJvcnQodS5QZWVyRXJyb3JUeXBlLkludmFsaWRJRCwnSUQgXCInK3IrJ1wiIGlzIGludmFsaWQnKSxjKToocj9jLl9pbml0aWFsaXplKHIpOmMuX2FwaS5yZXRyaWV2ZUlkKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gYy5faW5pdGlhbGl6ZShlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBjLl9hYm9ydCh1LlBlZXJFcnJvclR5cGUuU2VydmVyRXJyb3IsZSl9KSxjKTooYy5fZGVsYXllZEFib3J0KHUuUGVlckVycm9yVHlwZS5Ccm93c2VySW5jb21wYXRpYmxlLFwiVGhlIGN1cnJlbnQgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYlJUQ1wiKSxjKX1yZXR1cm4gZShpLG8pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJvcHRpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcHRpb25zfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcIm9wZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wZW59LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwic29ja2V0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb2NrZXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwiY29ubmVjdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdCxvPU9iamVjdC5jcmVhdGUobnVsbCk7dHJ5e2Zvcih2YXIgaT1uKHRoaXMuX2Nvbm5lY3Rpb25zKSxzPWkubmV4dCgpOyFzLmRvbmU7cz1pLm5leHQoKSl7dmFyIGE9cihzLnZhbHVlLDIpLGM9YVswXSxsPWFbMV07b1tjXT1sfX1jYXRjaChkKXtlPXtlcnJvcjpkfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYodD1pLnJldHVybikmJnQuY2FsbChpKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19cmV0dXJuIG99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwiZGVzdHJveWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXN0cm95ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwiZGlzY29ubmVjdGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNjb25uZWN0ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2NyZWF0ZVNlcnZlckNvbm5lY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IGMuU29ja2V0KHRoaXMuX29wdGlvbnMuc2VjdXJlLHRoaXMuX29wdGlvbnMuaG9zdCx0aGlzLl9vcHRpb25zLnBvcnQsdGhpcy5fb3B0aW9ucy5wYXRoLHRoaXMuX29wdGlvbnMua2V5LHRoaXMuX29wdGlvbnMucGluZ0ludGVydmFsKTtyZXR1cm4gdC5vbih1LlNvY2tldEV2ZW50VHlwZS5NZXNzYWdlLGZ1bmN0aW9uKHQpe2UuX2hhbmRsZU1lc3NhZ2UodCl9KSx0Lm9uKHUuU29ja2V0RXZlbnRUeXBlLkVycm9yLGZ1bmN0aW9uKHQpe2UuX2Fib3J0KHUuUGVlckVycm9yVHlwZS5Tb2NrZXRFcnJvcix0KX0pLHQub24odS5Tb2NrZXRFdmVudFR5cGUuRGlzY29ubmVjdGVkLGZ1bmN0aW9uKCl7ZS5kaXNjb25uZWN0ZWR8fChlLmVtaXRFcnJvcih1LlBlZXJFcnJvclR5cGUuTmV0d29yayxcIkxvc3QgY29ubmVjdGlvbiB0byBzZXJ2ZXIuXCIpLGUuZGlzY29ubmVjdCgpKX0pLHQub24odS5Tb2NrZXRFdmVudFR5cGUuQ2xvc2UsZnVuY3Rpb24oKXtlLmRpc2Nvbm5lY3RlZHx8ZS5fYWJvcnQodS5QZWVyRXJyb3JUeXBlLlNvY2tldENsb3NlZCxcIlVuZGVybHlpbmcgc29ja2V0IGlzIGFscmVhZHkgY2xvc2VkLlwiKX0pLHR9LGkucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3RoaXMuX2lkPWUsdGhpcy5zb2NrZXQuc3RhcnQoZSx0aGlzLl9vcHRpb25zLnRva2VuKX0saS5wcm90b3R5cGUuX2hhbmRsZU1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQscixvPWUudHlwZSxpPWUucGF5bG9hZCxzPWUuc3JjO3N3aXRjaChvKXtjYXNlIHUuU2VydmVyTWVzc2FnZVR5cGUuT3Blbjp0aGlzLl9sYXN0U2VydmVySWQ9dGhpcy5pZCx0aGlzLl9vcGVuPSEwLHRoaXMuZW1pdCh1LlBlZXJFdmVudFR5cGUuT3Blbix0aGlzLmlkKTticmVhaztjYXNlIHUuU2VydmVyTWVzc2FnZVR5cGUuRXJyb3I6dGhpcy5fYWJvcnQodS5QZWVyRXJyb3JUeXBlLlNlcnZlckVycm9yLGkubXNnKTticmVhaztjYXNlIHUuU2VydmVyTWVzc2FnZVR5cGUuSWRUYWtlbjp0aGlzLl9hYm9ydCh1LlBlZXJFcnJvclR5cGUuVW5hdmFpbGFibGVJRCwnSUQgXCInK3RoaXMuaWQrJ1wiIGlzIHRha2VuJyk7YnJlYWs7Y2FzZSB1LlNlcnZlck1lc3NhZ2VUeXBlLkludmFsaWRLZXk6dGhpcy5fYWJvcnQodS5QZWVyRXJyb3JUeXBlLkludmFsaWRLZXksJ0FQSSBLRVkgXCInK3RoaXMuX29wdGlvbnMua2V5KydcIiBpcyBpbnZhbGlkJyk7YnJlYWs7Y2FzZSB1LlNlcnZlck1lc3NhZ2VUeXBlLkxlYXZlOmEuZGVmYXVsdC5sb2coXCJSZWNlaXZlZCBsZWF2ZSBtZXNzYWdlIGZyb20gXCIrcyksdGhpcy5fY2xlYW51cFBlZXIocyksdGhpcy5fY29ubmVjdGlvbnMuZGVsZXRlKHMpO2JyZWFrO2Nhc2UgdS5TZXJ2ZXJNZXNzYWdlVHlwZS5FeHBpcmU6dGhpcy5lbWl0RXJyb3IodS5QZWVyRXJyb3JUeXBlLlBlZXJVbmF2YWlsYWJsZSxcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHBlZXIgXCIrcyk7YnJlYWs7Y2FzZSB1LlNlcnZlck1lc3NhZ2VUeXBlLk9mZmVyOnZhciBjPWkuY29ubmVjdGlvbklkO2lmKChfPXRoaXMuZ2V0Q29ubmVjdGlvbihzLGMpKSYmKF8uY2xvc2UoKSxhLmRlZmF1bHQud2FybihcIk9mZmVyIHJlY2VpdmVkIGZvciBleGlzdGluZyBDb25uZWN0aW9uIElEOlwiK2MpKSxpLnR5cGU9PT11LkNvbm5lY3Rpb25UeXBlLk1lZGlhKV89bmV3IGwuTWVkaWFDb25uZWN0aW9uKHMsdGhpcyx7Y29ubmVjdGlvbklkOmMsX3BheWxvYWQ6aSxtZXRhZGF0YTppLm1ldGFkYXRhfSksdGhpcy5fYWRkQ29ubmVjdGlvbihzLF8pLHRoaXMuZW1pdCh1LlBlZXJFdmVudFR5cGUuQ2FsbCxfKTtlbHNle2lmKGkudHlwZSE9PXUuQ29ubmVjdGlvblR5cGUuRGF0YSlyZXR1cm4gdm9pZCBhLmRlZmF1bHQud2FybihcIlJlY2VpdmVkIG1hbGZvcm1lZCBjb25uZWN0aW9uIHR5cGU6XCIraS50eXBlKTtfPW5ldyBkLkRhdGFDb25uZWN0aW9uKHMsdGhpcyx7Y29ubmVjdGlvbklkOmMsX3BheWxvYWQ6aSxtZXRhZGF0YTppLm1ldGFkYXRhLGxhYmVsOmkubGFiZWwsc2VyaWFsaXphdGlvbjppLnNlcmlhbGl6YXRpb24scmVsaWFibGU6aS5yZWxpYWJsZX0pLHRoaXMuX2FkZENvbm5lY3Rpb24ocyxfKSx0aGlzLmVtaXQodS5QZWVyRXZlbnRUeXBlLkNvbm5lY3Rpb24sXyl9dmFyIHA9dGhpcy5fZ2V0TWVzc2FnZXMoYyk7dHJ5e2Zvcih2YXIgaD1uKHApLGY9aC5uZXh0KCk7IWYuZG9uZTtmPWgubmV4dCgpKXt2YXIgeT1mLnZhbHVlO18uaGFuZGxlTWVzc2FnZSh5KX19Y2F0Y2godil7dD17ZXJyb3I6dn19ZmluYWxseXt0cnl7ZiYmIWYuZG9uZSYmKHI9aC5yZXR1cm4pJiZyLmNhbGwoaCl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fWJyZWFrO2RlZmF1bHQ6aWYoIWkpcmV0dXJuIHZvaWQgYS5kZWZhdWx0Lndhcm4oXCJZb3UgcmVjZWl2ZWQgYSBtYWxmb3JtZWQgbWVzc2FnZSBmcm9tIFwiK3MrXCIgb2YgdHlwZSBcIitvKTt2YXIgXztjPWkuY29ubmVjdGlvbklkOyhfPXRoaXMuZ2V0Q29ubmVjdGlvbihzLGMpKSYmXy5wZWVyQ29ubmVjdGlvbj9fLmhhbmRsZU1lc3NhZ2UoZSk6Yz90aGlzLl9zdG9yZU1lc3NhZ2UoYyxlKTphLmRlZmF1bHQud2FybihcIllvdSByZWNlaXZlZCBhbiB1bnJlY29nbml6ZWQgbWVzc2FnZTpcIixlKX19LGkucHJvdG90eXBlLl9zdG9yZU1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl9sb3N0TWVzc2FnZXMuaGFzKGUpfHx0aGlzLl9sb3N0TWVzc2FnZXMuc2V0KGUsW10pLHRoaXMuX2xvc3RNZXNzYWdlcy5nZXQoZSkucHVzaCh0KX0saS5wcm90b3R5cGUuX2dldE1lc3NhZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xvc3RNZXNzYWdlcy5nZXQoZSk7cmV0dXJuIHQ/KHRoaXMuX2xvc3RNZXNzYWdlcy5kZWxldGUoZSksdCk6W119LGkucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD17fSksdGhpcy5kaXNjb25uZWN0ZWQpcmV0dXJuIGEuZGVmYXVsdC53YXJuKFwiWW91IGNhbm5vdCBjb25uZWN0IHRvIGEgbmV3IFBlZXIgYmVjYXVzZSB5b3UgY2FsbGVkIC5kaXNjb25uZWN0KCkgb24gdGhpcyBQZWVyIGFuZCBlbmRlZCB5b3VyIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2VydmVyLiBZb3UgY2FuIGNyZWF0ZSBhIG5ldyBQZWVyIHRvIHJlY29ubmVjdCwgb3IgY2FsbCByZWNvbm5lY3Qgb24gdGhpcyBwZWVyIGlmIHlvdSBiZWxpZXZlIGl0cyBJRCB0byBzdGlsbCBiZSBhdmFpbGFibGUuXCIpLHZvaWQgdGhpcy5lbWl0RXJyb3IodS5QZWVyRXJyb3JUeXBlLkRpc2Nvbm5lY3RlZCxcIkNhbm5vdCBjb25uZWN0IHRvIG5ldyBQZWVyIGFmdGVyIGRpc2Nvbm5lY3RpbmcgZnJvbSBzZXJ2ZXIuXCIpO3ZhciBuPW5ldyBkLkRhdGFDb25uZWN0aW9uKGUsdGhpcyx0KTtyZXR1cm4gdGhpcy5fYWRkQ29ubmVjdGlvbihlLG4pLG59LGkucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSx0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4gYS5kZWZhdWx0Lndhcm4oXCJZb3UgY2Fubm90IGNvbm5lY3QgdG8gYSBuZXcgUGVlciBiZWNhdXNlIHlvdSBjYWxsZWQgLmRpc2Nvbm5lY3QoKSBvbiB0aGlzIFBlZXIgYW5kIGVuZGVkIHlvdXIgY29ubmVjdGlvbiB3aXRoIHRoZSBzZXJ2ZXIuIFlvdSBjYW4gY3JlYXRlIGEgbmV3IFBlZXIgdG8gcmVjb25uZWN0LlwiKSx2b2lkIHRoaXMuZW1pdEVycm9yKHUuUGVlckVycm9yVHlwZS5EaXNjb25uZWN0ZWQsXCJDYW5ub3QgY29ubmVjdCB0byBuZXcgUGVlciBhZnRlciBkaXNjb25uZWN0aW5nIGZyb20gc2VydmVyLlwiKTtpZih0KXtuLl9zdHJlYW09dDt2YXIgcj1uZXcgbC5NZWRpYUNvbm5lY3Rpb24oZSx0aGlzLG4pO3JldHVybiB0aGlzLl9hZGRDb25uZWN0aW9uKGUscikscn1hLmRlZmF1bHQuZXJyb3IoXCJUbyBjYWxsIGEgcGVlciwgeW91IG11c3QgcHJvdmlkZSBhIHN0cmVhbSBmcm9tIHlvdXIgYnJvd3NlcidzIGBnZXRVc2VyTWVkaWFgLlwiKX0saS5wcm90b3R5cGUuX2FkZENvbm5lY3Rpb249ZnVuY3Rpb24oZSx0KXthLmRlZmF1bHQubG9nKFwiYWRkIGNvbm5lY3Rpb24gXCIrdC50eXBlK1wiOlwiK3QuY29ubmVjdGlvbklkK1wiIHRvIHBlZXJJZDpcIitlKSx0aGlzLl9jb25uZWN0aW9ucy5oYXMoZSl8fHRoaXMuX2Nvbm5lY3Rpb25zLnNldChlLFtdKSx0aGlzLl9jb25uZWN0aW9ucy5nZXQoZSkucHVzaCh0KX0saS5wcm90b3R5cGUuX3JlbW92ZUNvbm5lY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY29ubmVjdGlvbnMuZ2V0KGUucGVlcik7aWYodCl7dmFyIG49dC5pbmRleE9mKGUpOy0xIT09biYmdC5zcGxpY2UobiwxKX10aGlzLl9sb3N0TWVzc2FnZXMuZGVsZXRlKGUuY29ubmVjdGlvbklkKX0saS5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByLG8saT10aGlzLl9jb25uZWN0aW9ucy5nZXQoZSk7aWYoIWkpcmV0dXJuIG51bGw7dHJ5e2Zvcih2YXIgcz1uKGkpLGE9cy5uZXh0KCk7IWEuZG9uZTthPXMubmV4dCgpKXt2YXIgYz1hLnZhbHVlO2lmKGMuY29ubmVjdGlvbklkPT09dClyZXR1cm4gY319Y2F0Y2gobCl7cj17ZXJyb3I6bH19ZmluYWxseXt0cnl7YSYmIWEuZG9uZSYmKG89cy5yZXR1cm4pJiZvLmNhbGwocyl9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBudWxsfSxpLnByb3RvdHlwZS5fZGVsYXllZEFib3J0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fYWJvcnQoZSx0KX0sMCl9LGkucHJvdG90eXBlLl9hYm9ydD1mdW5jdGlvbihlLHQpe2EuZGVmYXVsdC5lcnJvcihcIkFib3J0aW5nIVwiKSx0aGlzLmVtaXRFcnJvcihlLHQpLHRoaXMuX2xhc3RTZXJ2ZXJJZD90aGlzLmRpc2Nvbm5lY3QoKTp0aGlzLmRlc3Ryb3koKX0saS5wcm90b3R5cGUuZW1pdEVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIG47YS5kZWZhdWx0LmVycm9yKFwiRXJyb3I6XCIsdCksKG49XCJzdHJpbmdcIj09dHlwZW9mIHQ/bmV3IEVycm9yKHQpOnQpLnR5cGU9ZSx0aGlzLmVtaXQodS5QZWVyRXZlbnRUeXBlLkVycm9yLG4pfSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95ZWR8fChhLmRlZmF1bHQubG9nKFwiRGVzdHJveSBwZWVyIHdpdGggSUQ6XCIrdGhpcy5pZCksdGhpcy5kaXNjb25uZWN0KCksdGhpcy5fY2xlYW51cCgpLHRoaXMuX2Rlc3Ryb3llZD0hMCx0aGlzLmVtaXQodS5QZWVyRXZlbnRUeXBlLkNsb3NlKSl9LGkucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKCl7dmFyIGUsdDt0cnl7Zm9yKHZhciByPW4odGhpcy5fY29ubmVjdGlvbnMua2V5cygpKSxvPXIubmV4dCgpOyFvLmRvbmU7bz1yLm5leHQoKSl7dmFyIGk9by52YWx1ZTt0aGlzLl9jbGVhbnVwUGVlcihpKSx0aGlzLl9jb25uZWN0aW9ucy5kZWxldGUoaSl9fWNhdGNoKHMpe2U9e2Vycm9yOnN9fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJih0PXIucmV0dXJuKSYmdC5jYWxsKHIpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKX0saS5wcm90b3R5cGUuX2NsZWFudXBQZWVyPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbz10aGlzLl9jb25uZWN0aW9ucy5nZXQoZSk7aWYobyl0cnl7Zm9yKHZhciBpPW4obykscz1pLm5leHQoKTshcy5kb25lO3M9aS5uZXh0KCkpe3MudmFsdWUuY2xvc2UoKX19Y2F0Y2goYSl7dD17ZXJyb3I6YX19ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fX0saS5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbigpe2lmKCF0aGlzLmRpc2Nvbm5lY3RlZCl7dmFyIGU9dGhpcy5pZDthLmRlZmF1bHQubG9nKFwiRGlzY29ubmVjdCBwZWVyIHdpdGggSUQ6XCIrZSksdGhpcy5fZGlzY29ubmVjdGVkPSEwLHRoaXMuX29wZW49ITEsdGhpcy5zb2NrZXQuY2xvc2UoKSx0aGlzLl9sYXN0U2VydmVySWQ9ZSx0aGlzLl9pZD1udWxsLHRoaXMuZW1pdCh1LlBlZXJFdmVudFR5cGUuRGlzY29ubmVjdGVkLGUpfX0saS5wcm90b3R5cGUucmVjb25uZWN0PWZ1bmN0aW9uKCl7aWYodGhpcy5kaXNjb25uZWN0ZWQmJiF0aGlzLmRlc3Ryb3llZClhLmRlZmF1bHQubG9nKFwiQXR0ZW1wdGluZyByZWNvbm5lY3Rpb24gdG8gc2VydmVyIHdpdGggSUQgXCIrdGhpcy5fbGFzdFNlcnZlcklkKSx0aGlzLl9kaXNjb25uZWN0ZWQ9ITEsdGhpcy5faW5pdGlhbGl6ZSh0aGlzLl9sYXN0U2VydmVySWQpO2Vsc2V7aWYodGhpcy5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBwZWVyIGNhbm5vdCByZWNvbm5lY3QgdG8gdGhlIHNlcnZlci4gSXQgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQuXCIpO2lmKHRoaXMuZGlzY29ubmVjdGVkfHx0aGlzLm9wZW4pdGhyb3cgbmV3IEVycm9yKFwiUGVlciBcIit0aGlzLmlkK1wiIGNhbm5vdCByZWNvbm5lY3QgYmVjYXVzZSBpdCBpcyBub3QgZGlzY29ubmVjdGVkIGZyb20gdGhlIHNlcnZlciFcIik7YS5kZWZhdWx0LmVycm9yKFwiSW4gYSBodXJyeT8gV2UncmUgc3RpbGwgdHJ5aW5nIHRvIG1ha2UgdGhlIGluaXRpYWwgY29ubmVjdGlvbiFcIil9fSxpLnByb3RvdHlwZS5saXN0QWxsUGVlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1lJiYoZT1mdW5jdGlvbihlKXt9KSx0aGlzLl9hcGkubGlzdEFsbFBlZXJzKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9hYm9ydCh1LlBlZXJFcnJvclR5cGUuU2VydmVyRXJyb3IsZSl9KX0saS5ERUZBVUxUX0tFWT1cInBlZXJqc1wiLGl9KGkuRXZlbnRFbWl0dGVyKTtleHBvcnRzLlBlZXI9Zjtcbn0se1wiZXZlbnRlbWl0dGVyM1wiOlwiSkpsU1wiLFwiLi91dGlsXCI6XCJCSFhmXCIsXCIuL2xvZ2dlclwiOlwiV09zOVwiLFwiLi9zb2NrZXRcIjpcIndKbHZcIixcIi4vbWVkaWFjb25uZWN0aW9uXCI6XCJkYkhQXCIsXCIuL2RhdGFjb25uZWN0aW9uXCI6XCJHQlRRXCIsXCIuL2VudW1zXCI6XCJaUllmXCIsXCIuL2FwaVwiOlwiaW43TFwifV0sXCJpVEs2XCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBlPXJlcXVpcmUoXCIuL3V0aWxcIikscj1yZXF1aXJlKFwiLi9wZWVyXCIpO2V4cG9ydHMucGVlcmpzPXtQZWVyOnIuUGVlcix1dGlsOmUudXRpbH0sZXhwb3J0cy5kZWZhdWx0PXIuUGVlcix3aW5kb3cucGVlcmpzPWV4cG9ydHMucGVlcmpzLHdpbmRvdy5QZWVyPXIuUGVlcjtcbn0se1wiLi91dGlsXCI6XCJCSFhmXCIsXCIuL3BlZXJcIjpcIkh4cGRcIn1dfSx7fSxbXCJpVEs2XCJdLCBudWxsKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9L3BlZXJqcy5taW4uanMubWFwIiwiaW1wb3J0IHtWZWN0b3Isb2JqX3N0YXRlLHJvb21fc3RhdGV9IGZyb20gXCIuLi9saWIvc3RhdGVcIjtcclxuaW1wb3J0IHtnYW1lLEdldFZpZXdwb3J0RGltZW5zaW9ucyxwZWVyX3RvX3BlZXJfZ2FtZSx2aWV3cG9ydH0gZnJvbSBcIi4uL3ZhblwiO1xyXG5cclxubGV0IGNhbnZhc19lbGVtZW50OkhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXJnZXRcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG5leHBvcnQgbGV0IGcgPSBuZXcgcGVlcl90b19wZWVyX2dhbWU8e30+KGNhbnZhc19lbGVtZW50LmdldENvbnRleHQoXCIyZFwiKSx7fSk7XHJcblxyXG5cclxuXHJcbmcubG9hZFJvb21TdHJpbmcoXCJsb2FkaW5nXCIpO1xyXG5cclxuIiwiaW1wb3J0IHsgZXhlY190eXBlIH0gZnJvbSBcIi4uLy4uL2xpYi9jb250cm9sc1wiO1xyXG5pbXBvcnQgeyBHb29tYmEsIGRpcmVjdGlvbiwgZ29vbWJhX3N0YXRlIH0gZnJvbSBcIi4vR29vbWJhXCI7XHJcbmltcG9ydCB7b2JqX3N0YXRlfSBmcm9tIFwiLi4vLi4vbGliL3N0YXRlXCI7XHJcbmltcG9ydCB7UGxheWVyX1BhcmFtc30gZnJvbSBcImdhbWUvb2JqZWN0cy9QbGF5ZXJcIjtcclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sbGVkUGxheWVyIGV4dGVuZHMgR29vbWJhIHtcclxuICBjb25zdHJ1Y3RvcihzdGF0ZTpvYmpfc3RhdGUscGFyYW1zOlBsYXllcl9QYXJhbXMpe1xyXG4gICAgc3VwZXIoc3RhdGUscGFyYW1zKTtcclxuICB9XHJcbiAgdGFncyA9IFtcInBsYXllclwiXTtcclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgb2JqX3N0YXRlLCBWZWN0b3IgfSBmcm9tIFwiLi4vLi4vbGliL3N0YXRlXCI7XHJcbmltcG9ydCB7IG9iaiB9IGZyb20gXCIuLi8uLi9saWIvb2JqZWN0XCI7XHJcblxyXG5pbnRlcmZhY2UgY3Vyc29yX3BhcmFtc3tcclxuICBpZDpzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEN1cnNvciBleHRlbmRzIG9iaiB7XHJcbiAgc3ByaXRlX3VybCA9IFwiLi9zcHJpdGVzL2N1cnNvci5wbmdcIjtcclxuICBoZWlnaHQgPSA2NDtcclxuICB3aWR0aCA9IDY0O1xyXG4gIGNvbGxpc2lvbiA9IGZhbHNlO1xyXG4gIHJlbmRlciA9IHRydWU7XHJcbiAgZ3Jhdml0eSA9IGZhbHNlO1xyXG4gIHRhZ3MgPSBbXCJDdXJzb3JcIl07XHJcbn1cclxuIiwiaW1wb3J0IHsgVmVjdG9yLCBvYmpfc3RhdGUsIHN0YXRlX2Z1bmN9IGZyb20gXCIuLi8uLi9saWIvc3RhdGVcIjtcclxuaW1wb3J0IHsgc3ByaXRlLCBzcHJpdGVfZ2VuIH0gZnJvbSBcIi4uLy4uL2xpYi9zcHJpdGVcIjtcclxuaW1wb3J0IHsgb2JqIH0gZnJvbSBcIi4uLy4uL2xpYi9vYmplY3RcIjtcclxuaW1wb3J0IHsgcGxhdGZvcm1lcl9vYmosIHBsYXRmb3JtZXJfb2JqX2NvbXBvc2l0ZSwgcGxhdF9zdGF0ZSB9IGZyb20gXCIuL2Fic3RyYWN0L3BsYXRmb3JtZXJfb2JqXCI7XHJcbmltcG9ydCB7IFBvbGxfTW91c2UgfSBmcm9tIFwiLi4vLi4vbGliL2NvbnRyb2xzXCI7XHJcbmltcG9ydCB7IGNvbGxpc2lvbl9ib3ggfSBmcm9tIFwiLi4vLi4vbGliL2NvbGxpc2lvblwiO1xyXG5pbXBvcnQgeyBCaW5kIH0gZnJvbSBcIi4uLy4uL2xpYi9jb250cm9sc1wiO1xyXG5pbXBvcnQge1RleHRfTm9kZSxUZXh0fSBmcm9tIFwiLi4vLi4vbGliL2h1ZFwiO1xyXG5pbXBvcnQgeyBPdmVyd29ybGQgfSBmcm9tIFwiLi4vcm9vbXMvT3ZlcndvcmxkXCI7XHJcbmltcG9ydCB7IGcgfSBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQgeyBzY2FsZV90eXBlIH0gZnJvbSBcIi4uLy4uL2xpYi9yZW5kZXJcIjtcclxuaW1wb3J0IHtWZWN9IGZyb20gXCJsaWIvbWF0aFwiO1xyXG5cclxuZXhwb3J0IGVudW0gZGlyZWN0aW9uIHtcclxuICBsZWZ0LFxyXG4gIHJpZ2h0XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZ29vbWJhX3N0YXRlIGV4dGVuZHMgb2JqX3N0YXRlLCBwbGF0X3N0YXRlIHtcclxuICBkaXJlY3Rpb246IGRpcmVjdGlvbixcclxuICBqdW1waW5nOiBib29sZWFuLFxyXG4gIHRpbWVzX2FpcnNob3Q6IG51bWJlcixcclxuICBtYXhfdGltZXNfYWlyc2hvdDogbnVtYmVyLFxyXG4gIHBvaW50aW5nX3Rvd2FyZHM6VmVjdG9yXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZ3VuX3N0YXRlIGV4dGVuZHMgb2JqX3N0YXRlIHtcclxuICByb3RhdGlvbjogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyX1BhcmFtc3tcclxuICBpZDpzdHJpbmcsXHJcbiAgcmVzcGF3bl9wb2ludDpWZWN0b3JcclxufVxyXG5cclxuaW50ZXJmYWNlIGdvb21iYV9wYXJhbXN7XHJcbiAgaWQ/OnN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR29vbWJhIGV4dGVuZHMgcGxhdGZvcm1lcl9vYmp7XHJcbiAgc3ByaXRlX3VybCA9IFwiLi9zcHJpdGVzL2ZvbGRlci9yb2JvdC5wbmdcIjtcclxuICBoZWlnaHQgPSAxNDk7XHJcbiAgd2lkdGggPSAxNDk7XHJcbiAgdGFncyA9IFtcImR1bW15XCJdXHJcbiAgY29sbGlzaW9uID0gdHJ1ZTtcclxuICBsYXllciA9IDI7XHJcbiAgaGVhbHRoX3RleHQ6IFRleHQ7XHJcbiAgc3RhdGU6Z29vbWJhX3N0YXRlO1xyXG4gIGNvbnN0cnVjdG9yKHN0YXRlOm9ial9zdGF0ZSxwYXJhbWV0ZXJzOmdvb21iYV9wYXJhbXMgPSBHb29tYmEuZGVmYXVsdF9wYXJhbXMpIHtcclxuICAgIFxyXG4gICAgc3VwZXIoc3RhdGUscGFyYW1ldGVycyk7XHJcbiAgICBpZiAocGFyYW1ldGVycy5pZCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5pZCA9IHBhcmFtZXRlcnMuaWQ7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUse1xyXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbi5sZWZ0LFxyXG4gICAgICBqdW1waW5nOiBmYWxzZSxcclxuICAgICAgaGVhbHRoOiAxMDAsXHJcbiAgICAgIHRpbWVzX2FpcnNob3Q6IDAsXHJcbiAgICAgIG1heF90aW1lc19haXJzaG90OiAwLFxyXG4gICAgICBwb2ludGluZ190b3dhcmRzOlZlYy5jcmVhdGUoMCwwKVxyXG4gICAgfSlcclxuICAgIC8vdGhpcy5hbmltYXRpb25zLnBsYXkoXCJ3YWxrMVwiKTtcclxuICB9XHJcbiAgcmVnaXN0ZXJBbmltYXRpb25zKCkge1xyXG4gICAgbGV0IHNwcml0ZXMgPSBzcHJpdGVfZ2VuKHRoaXMuc3ByaXRlX3NoZWV0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICB0aGlzLmFuaW1hdGlvbnMuYWRkKFwid2FsazFcIiwgW1xyXG4gICAgICBbMCwgc3ByaXRlc1swXVswXV0sXHJcbiAgICAgIFsxMDAsIHNwcml0ZXNbMF1bMV1dLFxyXG4gICAgICBbNDAwLCBzcHJpdGVzWzBdWzBdXSxcclxuICAgICAgWzUwMCwgc3ByaXRlc1swXVsyXV1cclxuICAgIF0sIDgwMClcclxuICAgIHRoaXMuYW5pbWF0aW9ucy5hZGQoXCJ3YWxrMlwiLCBbXHJcbiAgICAgIFswLCBzcHJpdGVzWzBdWzVdXSxcclxuICAgICAgWzEwMCwgc3ByaXRlc1swXVs0XV0sXHJcbiAgICAgIFs0MDAsIHNwcml0ZXNbMF1bNV1dLFxyXG4gICAgICBbNTAwLCBzcHJpdGVzWzBdWzNdXVxyXG4gICAgXSwgODAwKVxyXG4gICAgdGhpcy5hbmltYXRpb25zLmFkZChcImlkbGVsZWZ0XCIsIFtcclxuICAgICAgWzAsIHNwcml0ZXNbMF1bMF1dXHJcbiAgICBdLCAxKTtcclxuICAgIHRoaXMuYW5pbWF0aW9ucy5hZGQoJ2lkbGVyaWdodCcsIFtcclxuICAgICAgWzAsIHNwcml0ZXNbMF1bNV1dXHJcbiAgICBdLCAxKTtcclxuICAgIHRoaXMuYW5pbWF0aW9ucy5hZGQoJ2ZhbGxsZWZ0JywgW1xyXG4gICAgICBbMCwgc3ByaXRlc1swXVs2XV1cclxuICAgIF0sIDEpO1xyXG4gICAgdGhpcy5hbmltYXRpb25zLmFkZCgnZmFsbHJpZ2h0JywgW1xyXG4gICAgICBbMCwgc3ByaXRlc1swXVs3XV1cclxuICAgIF0sIDEpXHJcbiAgfVxyXG4gIHJlZ2lzdGVyQXVkaW8oKSB7XHJcbiAgICB0aGlzLmF1ZGlvLmFkZChcInNsaW1lXCIsIFwiLi9zb3VuZHMvZ29vbWJhL3NsaW1lYmFsbC53YXZcIik7XHJcbiAgICB0aGlzLmF1ZGlvLmFkZChcImV4cGxvc2lvblwiLCBcIi4vc291bmRzL2V4cGxvc2lvbi5tcDNcIilcclxuICB9XHJcbiAgcmVuZGVyZih0OiBudW1iZXIpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmp1bXBpbmcpIHtcclxuICAgICAgbGV0IGFuaW1hdGlvbiA9IHRoaXMuc3RhdGUuZGlyZWN0aW9uID09IGRpcmVjdGlvbi5sZWZ0ID8gXCJmYWxsbGVmdFwiIDogXCJmYWxscmlnaHRcIjtcclxuICAgICAgdGhpcy5hbmltYXRpb25zLnBsYXkoYW5pbWF0aW9uKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUudmVsb2NpdHkueCA9PSAwICYmIHRoaXMuc3RhdGUudmVsb2NpdHkueSA9PSAwKSB7XHJcbiAgICAgIGxldCBhbmltYXRpb24gPSB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PSBkaXJlY3Rpb24ubGVmdCA/IFwiaWRsZWxlZnRcIiA6IFwiaWRsZXJpZ2h0XCI7XHJcbiAgICAgIHRoaXMuYW5pbWF0aW9ucy5wbGF5KGFuaW1hdGlvbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghdGhpcy5hbmltYXRpb25zLmFuaW1hdGluZykge1xyXG4gICAgICBsZXQgYW5pbWF0aW9uID0gdGhpcy5zdGF0ZS5kaXJlY3Rpb24gPT0gZGlyZWN0aW9uLmxlZnQgPyBcIndhbGsxXCIgOiBcIndhbGsyXCI7XHJcbiAgICAgIHRoaXMuYW5pbWF0aW9ucy5wbGF5KGFuaW1hdGlvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3VwZXIucmVuZGVyZih0KTtcclxuICB9XHJcbiAgc3RhdGVmKHRpbWU6IG51bWJlcikge1xyXG4gICAgbGV0IHJvb20gPSBnLmdldFJvb20oKTtcclxuICAgIGlmICh0aGlzLmNvbGxpc2lvbikge1xyXG4gICAgICBsZXQgY29sID0gdGhpcy5nZXRGdWxsQ29sbGlzaW9uQm94KCk7XHJcbiAgICAgIGlmIChyb29tLmNoZWNrQ29sbGlzaW9ucyh7XHJcbiAgICAgICAgd2lkdGg6IGNvbC53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgICAgeDogY29sLngsXHJcbiAgICAgICAgeTogY29sLnkgLSBjb2wuaGVpZ2h0IC8gMiAtIDEsXHJcbiAgICAgIH0pLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0aGlzLnN0YXRlLmp1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0YXRlLm1heF90aW1lc19haXJzaG90ID0gTWF0aC5tYXgodGhpcy5zdGF0ZS50aW1lc19haXJzaG90LCB0aGlzLnN0YXRlLm1heF90aW1lc19haXJzaG90KTtcclxuICAgICAgICB0aGlzLnN0YXRlLnRpbWVzX2FpcnNob3QgPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc3RhdGUuanVtcGluZyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLnN0YXRlLnZlbG9jaXR5LnkgPiAwKSB7XHJcbiAgICAgIHRoaXMuc3RhdGUudmVsb2NpdHkueSA9IHRoaXMuc3RhdGUudmVsb2NpdHkueSAtIDAuNCAqIDE2IC8gdGltZTtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUudmVsb2NpdHkueSA8IDApXHJcbiAgICAgICAgdGhpcy5zdGF0ZS52ZWxvY2l0eS55ID0gMDtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnN0YXRlLnZlbG9jaXR5LnkgPCAwKSB7XHJcbiAgICAgIHRoaXMuc3RhdGUudmVsb2NpdHkueSA9IHRoaXMuc3RhdGUudmVsb2NpdHkueSArIDAuNCAqIDE2IC8gdGltZTtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUudmVsb2NpdHkueSA+IDApXHJcbiAgICAgICAgdGhpcy5zdGF0ZS52ZWxvY2l0eS55ID0gMDtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnN0YXRlLnZlbG9jaXR5LnggPiAwKSB7XHJcbiAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uID0gZGlyZWN0aW9uLnJpZ2h0O1xyXG4gICAgICB0aGlzLnN0YXRlLnZlbG9jaXR5LnggPSB0aGlzLnN0YXRlLnZlbG9jaXR5LnggLSAwLjQgKiAxNiAvIHRpbWU7O1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS52ZWxvY2l0eS54IDwgMCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUudmVsb2NpdHkueCA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUudmVsb2NpdHkueCA8IDApIHtcclxuICAgICAgdGhpcy5zdGF0ZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb24ubGVmdDtcclxuICAgICAgdGhpcy5zdGF0ZS52ZWxvY2l0eS54ID0gdGhpcy5zdGF0ZS52ZWxvY2l0eS54ICsgMC40ICogMTYgLyB0aW1lOztcclxuICAgICAgaWYgKHRoaXMuc3RhdGUudmVsb2NpdHkueCA+IDApIHtcclxuICAgICAgICB0aGlzLnN0YXRlLnZlbG9jaXR5LnggPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7VmVjdG9yLCBvYmpfc3RhdGV9IGZyb20gXCIuLi8uLi9saWIvc3RhdGVcIjtcclxuaW1wb3J0IHsgcGxhdGZvcm1lcl9vYmogfSBmcm9tIFwiLi9hYnN0cmFjdC9wbGF0Zm9ybWVyX29ialwiO1xyXG5pbXBvcnQgeyBnIH0gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IHsgQ3Vyc29yIH0gZnJvbSBcIi4vQ3Vyc29yXCI7XHJcbmltcG9ydCB7IGd1bl9zdGF0ZSwgR29vbWJhIH0gZnJvbSBcIi4vR29vbWJhXCI7XHJcbmltcG9ydCB7cm90YXRpb25fbGVuZ3RofSBmcm9tIFwibGliL21hdGhcIlxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHdW4gZXh0ZW5kcyBwbGF0Zm9ybWVyX29iaiB7XHJcbiAgc3ByaXRlX3VybCA9IFwiLi9zcHJpdGVzL2ZvbGRlci9ndW4ucG5nXCI7XHJcbiAgaGVpZ2h0ID0gNTA7XHJcbiAgd2lkdGggPSAyMDtcclxuICBjb2xsaXNpb24gPSBmYWxzZTtcclxuICByZW5kZXIgPSB0cnVlO1xyXG4gIHBsYXllcjogR29vbWJhO1xyXG4gIGdyYXZpdHkgPSBmYWxzZTtcclxuICBjdXJzb3I6IEN1cnNvcjtcclxuICB0YWdzID0gW1wiZ3VuXCJdO1xyXG4gIHN0YXRlZih0OiBudW1iZXIpIHtcclxuICAgIGlmICh0aGlzLnBsYXllcikge1xyXG4gICAgICBsZXQgYW5nbGUgPSB0aGlzLnBsYXllci5hbmdsZVRvd2FyZHNQb2ludCh0aGlzLnBsYXllci5zdGF0ZS5wb2ludGluZ190b3dhcmRzKTtcclxuICAgICAgbGV0IHJvdCA9IHJvdGF0aW9uX2xlbmd0aCg1MCwgYW5nbGUpO1xyXG4gICAgICB0aGlzLnN0YXRlLnJvdGF0aW9uID0gYW5nbGU7XHJcbiAgICAgIHRoaXMuc3RhdGUucG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogcm90LnggKyB0aGlzLnBsYXllci5zdGF0ZS5wb3NpdGlvbi54LFxyXG4gICAgICAgIHk6IHJvdC55ICsgdGhpcy5wbGF5ZXIuc3RhdGUucG9zaXRpb24ueVxyXG4gICAgICB9O1xyXG5cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgcm9vbSA9IGcuZ2V0Um9vbSgpO1xyXG4gICAgICB0aGlzLnBsYXllciA9IHRoaXMucGFyZW50LmdldEl0ZW1zQnlUYWcoXCJwbGF5ZXJcIilbMF0gYXMgR29vbWJhO1xyXG4gICAgICB0aGlzLmN1cnNvciA9IDxDdXJzb3I+cm9vbS5nZXRPYmpCeVRhZyhcIkN1cnNvclwiKVswXTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IG9ial9zdGF0ZSwgVmVjdG9yIH0gZnJvbSBcIi4uLy4uL2xpYi9zdGF0ZVwiO1xyXG5pbXBvcnQgeyBjb21wb3NpdGVfb2JqIH0gZnJvbSBcIi4uLy4uL2xpYi9vYmplY3RcIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlZFBsYXllciB9IGZyb20gXCIuL0NvbnRyb2xsZWRQbGF5ZXJcIjtcclxuaW1wb3J0IHsgR3VuIH0gZnJvbSBcIi4vR3VuXCI7XHJcbmltcG9ydCB7IFZlYyB9IGZyb20gXCJsaWIvbWF0aFwiO1xyXG5pbXBvcnQgeyBwcm9ncmVzc19iYXIgfSBmcm9tIFwiLi9wcm9ncmVzc19iYXJcIjtcclxuaW1wb3J0IHtjb3B5fSBmcm9tIFwic3JjL3ZhblwiO1xyXG5cclxuXHJcbmludGVyZmFjZSBQbGF5ZXJfc3RhdGUgZXh0ZW5kcyBvYmpfc3RhdGV7XHJcbiAgaGVhbHRoOm51bWJlcjtcclxuICBpc1Jlc3Bhd25pbmc6Ym9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJfUGFyYW1ze1xyXG4gIGlkOnN0cmluZ1xyXG4gIHJlc3Bhd25fcG9pbnQ6VmVjdG9yLFxyXG4gIHJlc3Bhd25fdGltZTpudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIGNvbXBvc2l0ZV9vYmp7XHJcbiAgZW5lbXkgPSB0cnVlO1xyXG4gIHN0YXRlOlBsYXllcl9zdGF0ZTtcclxuICBwYXJhbXM6UGxheWVyX1BhcmFtcztcclxuICBzdGF0aWMgZGVmYXVsdF9wYXJhbXM6UGxheWVyX1BhcmFtcyA9IHtcclxuICAgIHJlc3Bhd25fcG9pbnQ6VmVjLmNyZWF0ZSgwLDApLFxyXG4gICAgcmVzcGF3bl90aW1lOjMwMDAsXHJcbiAgICBpZDpcInRlc3RcIlxyXG4gIH1cclxuICBjb25zdHJ1Y3RvcihzdGF0ZTpvYmpfc3RhdGUsIHBhcmFtZXRlcnM6IFBsYXllcl9QYXJhbXMgPSBjb3B5KFBsYXllci5kZWZhdWx0X3BhcmFtcykpIHtcclxuICAgIHN1cGVyKHN0YXRlLHBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy5zdGF0ZS5oZWFsdGggPSAxMDA7XHJcbiAgICB0aGlzLnN0YXRlLmlzUmVzcGF3bmluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5hZGRJdGVtKG5ldyBDb250cm9sbGVkUGxheWVyKHN0YXRlLCBwYXJhbWV0ZXJzKSk7XHJcbiAgICB0aGlzLmFkZEl0ZW0obmV3IEd1bih7XHJcbiAgICAgIHBvc2l0aW9uOnt4OiBzdGF0ZS5wb3NpdGlvbi54LCB5OiBzdGF0ZS5wb3NpdGlvbi55ICsgMTAwfSxcclxuICAgIH0scGFyYW1ldGVycykpO1xyXG4gICAgdGhpcy5hZGRJdGVtKG5ldyBwcm9ncmVzc19iYXIoe1xyXG4gICAgICBwb3NpdGlvbjpWZWMuY3JlYXRlKDAsMClcclxuICAgIH0se1xyXG4gICAgICB3aWR0aDoxMDAsXHJcbiAgICAgIGhlaWdodDoyMCxcclxuICAgICAgdmVydF9vZmZzZXQ6MFxyXG4gICAgfSkpXHJcbiAgfVxyXG4gIHN0YXRlZihkZWx0YV90aW1lOm51bWJlcil7XHJcbiAgICBcclxuICAgIGxldCBjb250cm9sbGVkID0gdGhpcy5jYWNoZShcInBsYXllclwiLHRoaXMuZ2V0SXRlbXNCeVRhZyhcInBsYXllclwiKVswXSkgYXMgQ29udHJvbGxlZFBsYXllcjtcclxuICAgIGxldCBoZWFsdGhfYmFyID0gdGhpcy5jYWNoZShcImhlYWx0aF9iYXJcIix0aGlzLmdldEl0ZW1zQnlUYWcoXCJoZWFsdGhfYmFyXCIpWzBdKSBhcyBwcm9ncmVzc19iYXI7XHJcbiAgICBsZXQgZ3VuID0gdGhpcy5jYWNoZShcImd1blwiLHRoaXMuZ2V0SXRlbXNCeVRhZyhcImd1blwiKVswXSkgYXMgR3VuO1xyXG4gICAgc3VwZXIuc3RhdGVmKGRlbHRhX3RpbWUpO1xyXG4gICAgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9IFZlYy5mcm9tKGNvbnRyb2xsZWQuc3RhdGUucG9zaXRpb24pO1xyXG4gICAgaGVhbHRoX2Jhci5zdGF0ZS5wb3NpdGlvbiA9IFZlYy5hZGQodGhpcy5zdGF0ZS5wb3NpdGlvbixWZWMuY3JlYXRlKDAsOTApKTtcclxuICAgIGhlYWx0aF9iYXIuc3RhdGUucGVyY2VudGFnZSA9IHRoaXMuc3RhdGUuaGVhbHRoLzEwMDtcclxuICAgIGlmKHRoaXMuc3RhdGUuaGVhbHRoIDw9IDAgJiYgIXRoaXMuc3RhdGUuaXNSZXNwYXduaW5nKXtcclxuICAgICAgdGhpcy5yZW5kZXIgPSBmYWxzZTtcclxuICAgICAgY29udHJvbGxlZC5yZW5kZXIgPSBmYWxzZTtcclxuICAgICAgY29udHJvbGxlZC5jb2xsaXNpb24gPSBmYWxzZTtcclxuICAgICAgY29udHJvbGxlZC5ncmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgIGhlYWx0aF9iYXIucmVuZGVyID0gZmFsc2U7XHJcbiAgICAgIGd1bi5yZW5kZXIgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zdGF0ZS5pc1Jlc3Bhd25pbmcgPSB0cnVlO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgY29udHJvbGxlZC5zdGF0ZS5wb3NpdGlvbiA9IFZlYy5mcm9tKHRoaXMucGFyYW1zLnJlc3Bhd25fcG9pbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlLmhlYWx0aCA9IDEwMDtcclxuICAgICAgICB0aGlzLnN0YXRlLmlzUmVzcGF3bmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICBjb250cm9sbGVkLnJlbmRlciA9IHRydWU7XHJcbiAgICAgICAgY29udHJvbGxlZC5jb2xsaXNpb24gPSB0cnVlO1xyXG4gICAgICAgIGNvbnRyb2xsZWQuZ3Jhdml0eSA9IHRydWU7XHJcbiAgICAgICAgaGVhbHRoX2Jhci5yZW5kZXIgPSB0cnVlO1xyXG4gICAgICAgIGd1bi5yZW5kZXIgPSB0cnVlO1xyXG4gICAgICB9LHRoaXMucGFyYW1zLnJlc3Bhd25fdGltZSlcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgYm94IH0gZnJvbSBcIi4vYm94XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmVydEJveCBleHRlbmRzIGJveCB7XHJcbiAgc3ByaXRlX3VybCA9IFwiLi9zcHJpdGVzL2JveDIucG5nXCI7XHJcbiAgd2lkdGggPSA2NDtcclxuICBoZWlnaHQgPSA1MDA7XHJcbiAgc3RhdGljID0gZmFsc2U7XHJcbiAgdGlja19zdGF0ZSA9IGZhbHNlO1xyXG59XHJcbiIsImltcG9ydCB7Y29tcG9zaXRlX29iaiwgZ3Jhdml0eV9vYmp9IGZyb20gXCIuLi8uLi8uLi9saWIvb2JqZWN0XCI7XHJcbmltcG9ydCB7b2JqX3N0YXRlLFZlY3Rvcn0gZnJvbSBcIi4uLy4uLy4uL2xpYi9zdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBwbGF0X3N0YXRlIGV4dGVuZHMgb2JqX3N0YXRle1xyXG4gIGhlYWx0aDpudW1iZXIgIFxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgcGxhdGZvcm1lcl9vYmogZXh0ZW5kcyBncmF2aXR5X29iantcclxuICBlbmVteSA9IGZhbHNlO1xyXG4gIHN0YXRlOnBsYXRfc3RhdGVcclxuICBjb25zdHJ1Y3RvcihzdGF0ZTpvYmpfc3RhdGUscGFyYW1ldGVyczp1bmtub3duKXtcclxuICAgIHN1cGVyKHN0YXRlLHBhcmFtZXRlcnMpO1xyXG4gIH1cclxuICBzdGF0ZWYoYTpudW1iZXIpe1xyXG4gICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZSBhcyB1bmtub3duIGFzIHBsYXRfc3RhdGU7XHJcbiAgICBpZihzdGF0ZS5oZWFsdGggPD0gMCl7XHJcbiAgICAgIHRoaXMuZGVsZXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgcGxhdGZvcm1lcl9vYmpfY29tcG9zaXRlIGV4dGVuZHMgY29tcG9zaXRlX29iantcclxuICBlbmVteSA9IGZhbHNlO1xyXG4gIHN0YXRlOnBsYXRfc3RhdGU7XHJcbiAgY29uc3RydWN0b3Ioc3RhdGU6b2JqX3N0YXRlKXtcclxuICAgIHN1cGVyKHN0YXRlKTtcclxuICB9XHJcbiAgc3RhdGVmKGE6bnVtYmVyKXtcclxuICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGUgYXMgdW5rbm93biBhcyBwbGF0X3N0YXRlO1xyXG4gICAgaWYoc3RhdGUuaGVhbHRoIDw9IDApe1xyXG4gICAgICB0aGlzLmRlbGV0ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCB7cGxhdGZvcm1lcl9vYmoscGxhdF9zdGF0ZX0gZnJvbSBcIi4vYWJzdHJhY3QvcGxhdGZvcm1lcl9vYmpcIjtcclxuaW1wb3J0IHtvYmpfc3RhdGUsVmVjdG9yfSBmcm9tIFwiLi4vLi4vbGliL3N0YXRlXCI7XHJcbmltcG9ydCB7IGV4ZWNfdHlwZSB9IGZyb20gXCIuLi8uLi9saWIvY29udHJvbHNcIjtcclxuaW1wb3J0IHsgc2NhbGVfdHlwZSB9IGZyb20gXCIuLi8uLi9saWIvcmVuZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgYm94IGV4dGVuZHMgcGxhdGZvcm1lcl9vYmp7XHJcbiAgc3ByaXRlX3VybCA9IFwiLi9zcHJpdGVzL2JveC5wbmdcIlxyXG4gIGNvbGxpc2lvbiA9IHRydWVcclxuICBoZWlnaHQgPSA2NDtcclxuICB3aWR0aCA9IDUwMDtcclxuICBncmF2aXR5ID0gZmFsc2U7XHJcbiAgZW5lbXkgPSBmYWxzZTtcclxuICB0YWdzID0gW1wic3RhdGljXCJdO1xyXG4gIHN0YXRpYyA9IGZhbHNlO1xyXG4gIHRpY2tfc3RhdGUgPSBmYWxzZTtcclxuICBzY2FsZV90eXBlID0gc2NhbGVfdHlwZS5yZXBlYXRcclxufVxyXG4iLCJpbXBvcnQge3BsYXRmb3JtZXJfb2JqLCBwbGF0X3N0YXRlfSBmcm9tIFwiLi9hYnN0cmFjdC9wbGF0Zm9ybWVyX29ialwiO1xyXG5pbXBvcnQge29ial9zdGF0ZX0gZnJvbSBcIi4uLy4uL2xpYi9zdGF0ZVwiO1xyXG5pbXBvcnQgeyBleGVjX3R5cGUgfSBmcm9tIFwiLi4vLi4vbGliL2NvbnRyb2xzXCI7XHJcbmltcG9ydCB7b2JqfSBmcm9tIFwiLi4vLi4vbGliL29iamVjdFwiO1xyXG5pbXBvcnQgeyBHb29tYmEgfSBmcm9tIFwiLi9Hb29tYmFcIjtcclxuaW1wb3J0IHtnfSBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQge3JvdGF0aW9uX2xlbmd0aH0gZnJvbSBcImxpYi9tYXRoXCI7XHJcbmltcG9ydCB7IFBBVVNFRCB9IGZyb20gXCJzcmMvdmFuXCI7XHJcbmltcG9ydCB7Q29udHJvbGxlZFBsYXllcn0gZnJvbSBcImdhbWUvb2JqZWN0cy9Db250cm9sbGVkUGxheWVyXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5cclxuaW50ZXJmYWNlIGJ1bGxldF9zdGF0ZSBleHRlbmRzIG9ial9zdGF0ZXtcclxuICByb3RhdGlvbjpudW1iZXIsXHJcbiAgZGlzdGFuY2U6bnVtYmVyLFxyXG4gIHNwZWVkOm51bWJlcixcclxuICBkYW1hZ2U6bnVtYmVyXHJcbn1cclxuXHJcbmludGVyZmFjZSBwb3NpdGlvbntcclxuICB4Om51bWJlcixcclxuICB5Om51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2UgYnVsbGV0X3BhcmFtZXRlcnN7XHJcbiAgb3duZXI6c3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgYnVsbGV0IGV4dGVuZHMgb2Jqe1xyXG4gIHNwcml0ZV91cmwgPSBcIi4vc3ByaXRlcy9idWxsZXQucG5nXCI7XHJcbiAgaGVpZ2h0ID0gMjA7XHJcbiAgd2lkdGggPSAxMDtcclxuICBncmF2aXR5ID0gZmFsc2U7XHJcbiAgbWF4X2Rpc3RhbmNlID0gMjAwMDtcclxuICB0YWdzID0gW1wiYnVsbGV0XCJdO1xyXG4gIG93bmVyOm51bWJlcjtcclxuICBwYXJhbXM6YnVsbGV0X3BhcmFtZXRlcnM7XHJcbiAgc3RhdGU6YnVsbGV0X3N0YXRlO1xyXG4gIGNvbnN0cnVjdG9yKHN0YXRlOm9ial9zdGF0ZSxwYXJhbXM6YnVsbGV0X3BhcmFtZXRlcnMpe1xyXG4gICAgc3VwZXIoc3RhdGUscGFyYW1zKTtcclxuICAgIHRoaXMuc3RhdGUuZGFtYWdlID0gNTtcclxuICAgIHRoaXMuc3RhdGUuZGlzdGFuY2UgPSAwXHJcbiAgfVxyXG4gIHN0YXRlZih0aW1lOm51bWJlcil7XHJcbiAgICB0aGlzLnN0YXRlLnZlbG9jaXR5ID0gcm90YXRpb25fbGVuZ3RoKHRoaXMuc3RhdGUuc3BlZWQsdGhpcy5zdGF0ZS5yb3RhdGlvbik7XHJcbiAgICB0aGlzLnN0YXRlLmRpc3RhbmNlICs9IHRoaXMuc3RhdGUuc3BlZWQ7XHJcbiAgICBpZih0aGlzLnN0YXRlLmRpc3RhbmNlID4gdGhpcy5tYXhfZGlzdGFuY2Upe1xyXG4gICAgICB0aGlzLmRlbGV0ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZWdpc3RlckNvbnRyb2xzKCl7XHJcblxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJvY2tldCBleHRlbmRzIGJ1bGxldHtcclxuICBzcHJpdGVfdXJsID0gXCIuL3Nwcml0ZXMvZm9sZGVyL3JvY2tldC5wbmdcIjtcclxuICBoZWlnaHQgPSA2NztcclxuICB3aWR0aCA9IDE2O1xyXG4gIHBhcnRpY2xlX3RpbWVyID0gMDtcclxuICBwYXJ0aWNsZV9mcmVxdWVuY3kgPSAzMjtcclxuICBtYXhfZGlzdGFuY2UgPSA1MDAwO1xyXG4gIHRhZ3MgPSBbXCJSb2NrZXRcIl1cclxuICBoaXRib3ggPSB7XHJcbiAgICB4X29mZnNldDowLFxyXG4gICAgeV9vZmZzZXQ6MCxcclxuICAgIHdpZHRoOjE2LFxyXG4gICAgaGVpZ2h0OjE2XHJcbiAgfVxyXG4gIGNvbnN0cnVjdG9yKHN0YXRlOm9ial9zdGF0ZSxwYXJhbXM6YnVsbGV0X3BhcmFtZXRlcnMpe1xyXG4gICAgc3VwZXIoc3RhdGUscGFyYW1zKTtcclxuICAgIHRoaXMuc3RhdGUuc3BlZWQgPSAxNTtcclxuICAgIHRoaXMuc3RhdGUuZGFtYWdlID0gMjA7XHJcbiAgfVxyXG4gIHJlZ2lzdGVyQXVkaW8oKXtcclxuICAgIHRoaXMuYXVkaW8uYWRkKFwiZXhwbG9zaW9uXCIsXCIuL3NvdW5kcy9leHBsb3Npb24yLm1wM1wiKTtcclxuICB9XHJcbiAgc3RhdGVmKHRpbWU6bnVtYmVyKXtcclxuICAgIHN1cGVyLnN0YXRlZih0aW1lKTtcclxuICAgIGlmKHRoaXMucGFydGljbGVfdGltZXIgPT0gMCl7XHJcbiAgICAgIGxldCBvZmZzZXQgPSByb3RhdGlvbl9sZW5ndGgoMzAsdGhpcy5zdGF0ZS5yb3RhdGlvbiArIDE4MCk7XHJcbiAgICAgIHRoaXMuZW1pdFBhcnRpY2xlKFwic21va2VcIixvZmZzZXQsIDIwMCwgMTYpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wYXJ0aWNsZV90aW1lciArPSB0aW1lO1xyXG4gICAgaWYodGhpcy5wYXJ0aWNsZV90aW1lciA+IHRoaXMucGFydGljbGVfZnJlcXVlbmN5KXtcclxuICAgICB0aGlzLnBhcnRpY2xlX3RpbWVyID0gMDsgXHJcbiAgICB9XHJcbiAgICBsZXQgcm9vbSA9IGcuc3RhdGUuY3VycmVudF9yb29tO1xyXG4gICAgbGV0IGNvbGxpc2lvbnMgPSByb29tLmNoZWNrQ29sbGlzaW9ucyh0aGlzLmdldEZ1bGxDb2xsaXNpb25Cb3goKSxbXCJndW5cIl0pLmZpbHRlcigobyk9Pm8uaWQgIT0gdGhpcy5wYXJhbXMub3duZXIpO1xyXG4gICAgaWYoY29sbGlzaW9ucy5sZW5ndGggPiAwKXtcclxuICAgICAgZm9yKGxldCBjb2xsaXNpb24gb2YgY29sbGlzaW9ucyl7XHJcbiAgICAgICAgbGV0IHN0ID0gY29sbGlzaW9uLnN0YXRlIGFzIHVua25vd24gYXMgcGxhdF9zdGF0ZTtcclxuICAgICAgICBpZigoPHBsYXRmb3JtZXJfb2JqPmNvbGxpc2lvbikuc3RhdGUuaGVhbHRoKXtcclxuICAgICAgICAgIHN0LmhlYWx0aCAtPSB0aGlzLnN0YXRlLmRhbWFnZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoY29sbGlzaW9uLnRhZ3MuaW5kZXhPZihcImR1bW15XCIpID4gLTEpe1xyXG4gICAgICAgICAgbGV0IGR1bW15ID0gY29sbGlzaW9uIGFzIEdvb21iYTtcclxuICAgICAgICAgIGlmKGR1bW15LnN0YXRlLmp1bXBpbmcpe1xyXG4gICAgICAgICAgICBkdW1teS5zdGF0ZS50aW1lc19haXJzaG90Kys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc3RhdGUuZGlzdGFuY2UgPSB0aGlzLm1heF9kaXN0YW5jZTtcclxuICAgICAgdGhpcy5kZWxldGUoKTtcclxuICAgICAgbGV0IGV4cGxvc2lvbl9jb2xsaXNpb25zID0gcm9vbS5jaGVja0NvbGxpc2lvbnMoe1xyXG4gICAgICAgIHg6dGhpcy5zdGF0ZS5wb3NpdGlvbi54LFxyXG4gICAgICAgIHk6dGhpcy5zdGF0ZS5wb3NpdGlvbi55LFxyXG4gICAgICAgIHdpZHRoOjI1NixcclxuICAgICAgICBoZWlnaHQ6MjU2XHJcbiAgICAgIH0sW1wic3RhdGljXCJdKVxyXG4gICAgICBmb3IobGV0IGNvbGxpZGVyIG9mIGV4cGxvc2lvbl9jb2xsaXNpb25zKXtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKGNvbGxpZGVyKTtcclxuICAgICAgICBsZXQgbXVsdGlwbHllciA9IDEgLSBkaXN0YW5jZS8zMDA7XHJcbiAgICAgICAgaWYobXVsdGlwbHllciA8IDApXHJcbiAgICAgICAgICBtdWx0aXBseWVyID0gMDtcclxuICAgICAgICBsZXQgb19zdGF0ZSA9IGNvbGxpZGVyLnN0YXRlIGFzIG9ial9zdGF0ZTtcclxuICAgICAgICBsZXQgdmVsb2NpdGllcyA9IHJvdGF0aW9uX2xlbmd0aChtdWx0aXBseWVyICogODAsIHRoaXMuYW5nbGVUb3dhcmRzKGNvbGxpZGVyKSk7XHJcbiAgICAgICAgb19zdGF0ZS52ZWxvY2l0eS54ICs9IHZlbG9jaXRpZXMueCAqIHRpbWUvMTY7XHJcbiAgICAgICAgb19zdGF0ZS52ZWxvY2l0eS55ICs9IHZlbG9jaXRpZXMueSAqIHRpbWUvMTY7XHJcbiAgICAgICAgaWYoY29sbGlkZXIudGFncy5pbmNsdWRlcyhcInBsYXllclwiKSAmJiBjb2xsaWRlci50YWdzLmluY2x1ZGVzKFwibG9jYWxcIikgJiYgY29sbGlkZXIuaWQgIT0gdGhpcy5wYXJhbXMub3duZXIpe1xyXG4gICAgICAgICAgbGV0IG8gPSBjb2xsaWRlci5wYXJlbnQgYXMgUGxheWVyO1xyXG4gICAgICAgICAgby5zdGF0ZS5oZWFsdGggLT0gdGhpcy5zdGF0ZS5kYW1hZ2UgKiBtdWx0aXBseWVyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmVtaXRQYXJ0aWNsZShcImV4cGxvc2lvblwiLHt4OjAseTowfSw1MDAsMCk7XHJcbiAgICAgIHRoaXMuYXVkaW8ucGxheShcImV4cGxvc2lvblwiLDAuMik7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiaW1wb3J0IHtvYmp9IGZyb20gXCJsaWIvb2JqZWN0XCI7XG5pbXBvcnQgeyBvYmpfc3RhdGUsIFZlY3RvciB9IGZyb20gXCJsaWIvc3RhdGVcIjtcbmltcG9ydCB7Q29udHJvbGxlZFBsYXllcn0gZnJvbSBcImdhbWUvb2JqZWN0cy9Db250cm9sbGVkUGxheWVyXCI7XG5pbXBvcnQge2NvcHl9IGZyb20gXCJzcmMvdmFuXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgY2FwdHVyZV9hcmVhX3N0YXRlIGV4dGVuZHMgb2JqX3N0YXRle1xuICAgIFxufVxuICAgIFxuZXhwb3J0IGludGVyZmFjZSBjYXB0dXJlX2FyZWFfcGFyYW1ldGVyc3tcbiAgICBcbn1cbiAgICBcbmV4cG9ydCBjbGFzcyBjYXB0dXJlX2FyZWEgZXh0ZW5kcyBvYmp7XG4gIHNwcml0ZV91cmwgPSBcIi4vc3ByaXRlcy9FcnJvci5wbmdcIjtcbiAgaGVpZ2h0ID0gMTAwO1xuICB3aWR0aCA9IDEwMDtcbiAgdGFnczpBcnJheTxzdHJpbmc+O1xuICBjb2xsaXNpb24gPSBmYWxzZTtcbiAgcmVuZGVyID0gZmFsc2U7XG4gIHN0YXRlOmNhcHR1cmVfYXJlYV9zdGF0ZTtcbiAgcGFyYW1zOmNhcHR1cmVfYXJlYV9wYXJhbWV0ZXJzO1xuICB0aWNrX3N0YXRlID0gZmFsc2U7XG4gIHN0YXRpYyBkZWZhdWx0X3BhcmFtczpjYXB0dXJlX2FyZWFfcGFyYW1ldGVycyA9IHt9XG4gIGNvbnN0cnVjdG9yKHN0YXRlOm9ial9zdGF0ZSxwYXJhbXM6Y2FwdHVyZV9hcmVhX3BhcmFtZXRlcnMgPSBjb3B5KGNhcHR1cmVfYXJlYS5kZWZhdWx0X3BhcmFtcykpe1xuICAgIHN1cGVyKHN0YXRlLHBhcmFtcyk7XG4gICAgdGhpcy50YWdzLnB1c2goXCJjYXB0dXJlX2FyZWFcIilcbiAgfVxuICBzdGF0ZWYodGltZV9kZWx0YTpudW1iZXIpe1xuICAgIHN1cGVyLnN0YXRlZih0aW1lX2RlbHRhKTtcbiAgfVxuICByZW5kZXJmKHRpbWVfZGVsdGE6bnVtYmVyKXtcbiAgIHJldHVybiBzdXBlci5yZW5kZXJmKHRpbWVfZGVsdGEpOyBcbiAgfVxuICByZWdpc3Rlcl9hbmltYXRpb25zKCl7XG4gICAgXG4gIH1cbiAgcmVnaXN0ZXJfYXVkaW8oKXtcbiAgICBcbiAgfVxuICByZWdpc3Rlcl9jb250cm9scygpe1xuICAgICAgICBcbiAgfVxufSIsIlxuaW1wb3J0IHtvYmp9IGZyb20gXCIuLi8uLi9saWIvb2JqZWN0XCI7XG5pbXBvcnQgeyBvYmpfc3RhdGUsIFZlY3Rvcn0gZnJvbSBcIi4uLy4uL2xpYi9zdGF0ZVwiO1xuXG5pbnRlcmZhY2UgcGxhY2Vob2xkZXJfc3RhdGUgZXh0ZW5kcyBvYmpfc3RhdGV7XG4gICAgXG59XG4gICAgXG5pbnRlcmZhY2UgcGxhY2Vob2xkZXJfcGFyYW1ldGVyc3tcbiAgICBcbn1cbiAgICBcbmV4cG9ydCBjbGFzcyBwbGFjZWhvbGRlciBleHRlbmRzIG9iantcbiAgc3ByaXRlX3VybCA9IFwiLi9zcHJpdGVzL0Vycm9yLnBuZ1wiO1xuICBoZWlnaHQgPSAxMDA7XG4gIHdpZHRoID0gMTAwO1xuICB0YWdzOkFycmF5PHN0cmluZz4gPSBbXTtcbiAgY29sbGlzaW9uID0gdHJ1ZTtcbiAgcmVuZGVyID0gdHJ1ZTtcbiAgcGFyYW1zOnBsYWNlaG9sZGVyX3BhcmFtZXRlcnM7XG4gIHN0YXRpYyBkZWZhdWx0X3BhcmFtczpwbGFjZWhvbGRlcl9wYXJhbWV0ZXJzID0ge31cbiAgY29uc3RydWN0b3Ioc3RhdGU6b2JqX3N0YXRlLHBhcmFtczpwbGFjZWhvbGRlcl9wYXJhbWV0ZXJzID0gcGxhY2Vob2xkZXIuZGVmYXVsdF9wYXJhbXMpe1xuICAgIHN1cGVyKHN0YXRlLHBhcmFtcyk7XG4gIH1cbiAgc3RhdGVmKHRpbWVfZGVsdGE6bnVtYmVyKXtcbiAgICBcbiAgfVxuICByZW5kZXJmKHRpbWVfZGVsdGE6bnVtYmVyKXtcbiAgIHJldHVybiBzdXBlci5yZW5kZXJmKHRpbWVfZGVsdGEpOyBcbiAgfVxuICByZWdpc3Rlcl9hbmltYXRpb25zKCl7XG4gICAgXG4gIH1cbiAgcmVnaXN0ZXJfYXVkaW8oKXtcbiAgICBcbiAgfVxuICByZWdpc3Rlcl9jb250cm9scygpe1xuICAgICAgICBcbiAgfVxufVxuICAgICIsIlxuaW50ZXJmYWNlIHByZWZhYnMge1xuICBbaW5kZXg6c3RyaW5nXTphbnlcbn1cbmltcG9ydCB7Ym94fSBmcm9tIFwiLi9ib3hcIjtcbmltcG9ydCB7YnVsbGV0fSBmcm9tIFwiLi9idWxsZXRcIjtcbmltcG9ydCB7Y2FwdHVyZV9hcmVhfSBmcm9tIFwiLi9jYXB0dXJlX2FyZWFcIjtcbmltcG9ydCB7Q29udHJvbGxlZFBsYXllcn0gZnJvbSBcIi4vQ29udHJvbGxlZFBsYXllclwiO1xuaW1wb3J0IHtDdXJzb3J9IGZyb20gXCIuL0N1cnNvclwiO1xuaW1wb3J0IHtHb29tYmF9IGZyb20gXCIuL0dvb21iYVwiO1xuaW1wb3J0IHtHdW59IGZyb20gXCIuL0d1blwiO1xuaW1wb3J0IHtwbGFjZWhvbGRlcn0gZnJvbSBcIi4vcGxhY2Vob2xkZXJcIjtcbmltcG9ydCB7UGxheWVyfSBmcm9tIFwiLi9QbGF5ZXJcIjtcbmltcG9ydCB7cHJvZ3Jlc3NfYmFyfSBmcm9tIFwiLi9wcm9ncmVzc19iYXJcIjtcbmltcG9ydCB7VmVydEJveH0gZnJvbSBcIi4vVmVydEJveFwiO1xuZXhwb3J0IGxldCBwcmVmYWJzOnByZWZhYnMgPSB7XG5cdGJveDpib3gsXG5cdGJ1bGxldDpidWxsZXQsXG5cdGNhcHR1cmVfYXJlYTpjYXB0dXJlX2FyZWEsXG5cdENvbnRyb2xsZWRQbGF5ZXI6Q29udHJvbGxlZFBsYXllcixcblx0Q3Vyc29yOkN1cnNvcixcblx0R29vbWJhOkdvb21iYSxcblx0R3VuOkd1bixcblx0cGxhY2Vob2xkZXI6cGxhY2Vob2xkZXIsXG5cdFBsYXllcjpQbGF5ZXIsXG5cdHByb2dyZXNzX2Jhcjpwcm9ncmVzc19iYXIsXG5cdFZlcnRCb3g6VmVydEJveCxcbn0iLCJcbmltcG9ydCB7Y29tcG9zaXRlX29iaiwgb2JqfSBmcm9tIFwiLi4vLi4vbGliL29iamVjdFwiO1xuaW1wb3J0IHsgc2NhbGVfdHlwZSB9IGZyb20gXCIuLi8uLi9saWIvcmVuZGVyXCI7XG5pbXBvcnQgeyBvYmpfc3RhdGUsIFZlY3RvciB9IGZyb20gXCIuLi8uLi9saWIvc3RhdGVcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xuXG5pbnRlcmZhY2UgcHJvZ3Jlc3NfYmFyX3N0YXRlIGV4dGVuZHMgb2JqX3N0YXRle1xuICBwZXJjZW50YWdlOm51bWJlclxufVxuICAgIFxuaW50ZXJmYWNlIHByb2dyZXNzX2Jhcl9wYXJhbWV0ZXJze1xuICB3aWR0aDpudW1iZXIsXG4gIGhlaWdodDpudW1iZXIsXG4gIHZlcnRfb2Zmc2V0Om51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgcHJvZ3Jlc3NfYmFyIGV4dGVuZHMgb2Jqe1xuICBzcHJpdGVfdXJsID0gXCIuL3Nwcml0ZXMvZ3JlZW4ucG5nXCI7XG4gIGhlaWdodCA9IDE7XG4gIHdpZHRoID0gMTtcbiAgdGFnczpBcnJheTxzdHJpbmc+ID0gW107XG4gIGNvbGxpc2lvbiA9IGZhbHNlO1xuICByZW5kZXIgPSB0cnVlO1xuICBsYXllciA9IDM7XG4gIHBhcmFtczpwcm9ncmVzc19iYXJfcGFyYW1ldGVycztcbiAgc3RhdGU6cHJvZ3Jlc3NfYmFyX3N0YXRlO1xuICBzY2FsZV90eXBlID0gc2NhbGVfdHlwZS5ncm93O1xuICBzdGF0aWMgZGVmYXVsdF9wYXJhbXM6cHJvZ3Jlc3NfYmFyX3BhcmFtZXRlcnMgPSB7XG4gICAgd2lkdGg6NzAsXG4gICAgaGVpZ2h0OjEwLFxuICAgIHZlcnRfb2Zmc2V0OjQwXG4gIH1cbiAgY29uc3RydWN0b3Ioc3RhdGU6b2JqX3N0YXRlLHBhcmFtczpwcm9ncmVzc19iYXJfcGFyYW1ldGVycyA9IHByb2dyZXNzX2Jhci5kZWZhdWx0X3BhcmFtcyl7XG4gICAgc3VwZXIoc3RhdGUscGFyYW1zKTtcbiAgICB0aGlzLnN0YXRlLnBlcmNlbnRhZ2UgPSAxO1xuICAgIHRoaXMudGFncy5wdXNoKFwiaGVhbHRoX2JhclwiKTtcbiAgfVxuICBzdGF0ZWYodGltZV9kZWx0YTpudW1iZXIpe1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudCBhcyBQbGF5ZXI7XG4gICAgdGhpcy5zdGF0ZS5wb3NpdGlvbi55ID0gcGFyZW50LnN0YXRlLnBvc2l0aW9uLnkgKyB0aGlzLnBhcmFtcy52ZXJ0X29mZnNldDtcbiAgICB0aGlzLnN0YXRlLnBvc2l0aW9uLnggPSAgcGFyZW50LnN0YXRlLnBvc2l0aW9uLnggLSAoICgxIC0gdGhpcy5zdGF0ZS5wZXJjZW50YWdlKSAqIHRoaXMucGFyYW1zLndpZHRoLzIpO1xuICAgIHRoaXMuc3RhdGUuc2NhbGluZy53aWR0aCA9IHRoaXMuc3RhdGUucGVyY2VudGFnZSAqIHRoaXMucGFyYW1zLndpZHRoO1xuICAgIHRoaXMuc3RhdGUuc2NhbGluZy5oZWlnaHQgPSB0aGlzLnBhcmFtcy5oZWlnaHQ7XG4gIH1cbiAgcmVuZGVyZih0aW1lX2RlbHRhOm51bWJlcil7XG4gICAgcmV0dXJuIHN1cGVyLnJlbmRlcmYodGltZV9kZWx0YSk7IFxuICB9XG4gIHJlZ2lzdGVyX2FuaW1hdGlvbnMoKXtcbiAgICBcbiAgfVxuICByZWdpc3Rlcl9hdWRpbygpe1xuICAgIFxuICB9XG4gIHJlZ2lzdGVyX2NvbnRyb2xzKCl7XG4gICAgICAgIFxuICB9XG59XG4gICAgIiwiaW1wb3J0IHsgcm9vbSwgYXBwbHlHcmF2aXR5LG9iamVjdF9zdGF0ZV9jb25maWcsIHN0YXRlX2NvbmZpZywgbWFwX21hdHJpeCwgcDJwIH0gZnJvbSBcIi4uLy4uL2xpYi9yb29tXCI7XHJcbmltcG9ydCB7IEdvb21iYSB9IGZyb20gXCIuLi9vYmplY3RzL0dvb21iYVwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVkUGxheWVyIH0gZnJvbSBcIi4uL29iamVjdHMvQ29udHJvbGxlZFBsYXllclwiO1xyXG5pbXBvcnQgeyBHdW4gfSBmcm9tIFwiLi4vb2JqZWN0cy9HdW5cIjtcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL29iamVjdHMvUGxheWVyXCI7XHJcbmltcG9ydCB7IEN1cnNvciB9IGZyb20gXCIuLi9vYmplY3RzL0N1cnNvclwiO1xyXG5pbXBvcnQgeyBib3ggfSBmcm9tIFwiLi4vb2JqZWN0cy9ib3hcIjtcclxuaW1wb3J0IHsgVmVydEJveCB9IGZyb20gXCIuLi9vYmplY3RzL1ZlcnRCb3hcIjtcclxuaW1wb3J0IHsgdmVsb2NpdHlDb2xsaXNpb25DaGVjayBhcyB2ZWxvY2l0eUNvbGxpc2lvbkNoZWNrIH0gZnJvbSBcIi4uLy4uL2xpYi9jb2xsaXNpb25cIjtcclxuaW1wb3J0IHsgZ3Jhdml0eV9vYmp9IGZyb20gXCIuLi8uLi9saWIvb2JqZWN0XCI7XHJcbmltcG9ydCB7cm90YXRpb25fbGVuZ3RofSBmcm9tIFwibGliL21hdGhcIjtcclxuaW1wb3J0IHsgUG9sbF9Nb3VzZSwgZXhlY190eXBlIH0gZnJvbSBcIi4uLy4uL2xpYi9jb250cm9sc1wiO1xyXG5pbXBvcnQgeyBIVUQsIFRleHQgfSBmcm9tIFwiLi4vLi4vbGliL2h1ZFwiO1xyXG5pbXBvcnQgeyBERUJVRywgZ2FtZSwgR2V0Vmlld3BvcnREaW1lbnNpb25zLCBwZWVyX2Nvbm5lY3Rpb24sIHBlZXJfdG9fcGVlcl9nYW1lLCBzZXREZWJ1Zyx2aWV3cG9ydCB9IGZyb20gXCIuLi8uLi92YW5cIjtcclxuaW1wb3J0IHtidWxsZXQsIFJvY2tldH0gZnJvbSBcIi4uL29iamVjdHMvYnVsbGV0XCI7XHJcbmltcG9ydCB7Z30gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IHtDYW1lcmF9IGZyb20gXCIuLi8uLi9saWIvcmVuZGVyXCI7XHJcbmltcG9ydCAqIGFzIGpzb24gZnJvbSBcIi4vT3ZlcndvcmxkLmpzb25cIjtcclxuaW1wb3J0IHtkaXJlY3Rpb259IGZyb20gXCJnYW1lL29iamVjdHMvR29vbWJhXCI7XHJcbmltcG9ydCB7VmVjfSBmcm9tIFwibGliL21hdGhcIjtcclxuaW50ZXJmYWNlIG92ZXJ3b3JsZF9pIHtcclxuICBwbGF5ZXI6IGdyYXZpdHlfb2JqLFxyXG4gIHBhdXNlZDogYm9vbGVhbixcclxuICBzdGF0ZV91cGRhdGVfdGlja19jb3VudGVyOm51bWJlclxyXG4gIHBsYXllcl9jYXB0dXJlczpudW1iZXJbXVxyXG59XHJcblxyXG5jbGFzcyBPdmVyd29ybGRfSFVEIGV4dGVuZHMgSFVEIHtcclxuICBzZXRUZXh0RWxlbWVudHMoKXtcclxuICAgIHJldHVybiBbbmV3IFRleHQoe1xyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIHg6IDEwLFxyXG4gICAgICAgIHk6IEdldFZpZXdwb3J0RGltZW5zaW9ucygpLmhlaWdodCAqIDcvOFxyXG4gICAgICB9LFxyXG4gICAgICBzaXplOiAzMCxcclxuICAgICAgZm9udDogXCJBbGF0YVwiLFxyXG4gICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgICBhbGlnbjpcImxlZnRcIixcclxuICAgICAgc2NhbGluZzoxXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIHJldHVybiBgUGxheWVyIDE6JHsoKGcuZ2V0Um9vbSgpIGFzIE92ZXJ3b3JsZCkuc3RhdGUucGxheWVyX2NhcHR1cmVzWzBdLzEwMDApLnRvRml4ZWQoMSl9YDtcclxuICAgIH0pLFxyXG4gICAgbmV3IFRleHQoe1xyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIHg6IEdldFZpZXdwb3J0RGltZW5zaW9ucygpLndpZHRoIC0gMTAwLFxyXG4gICAgICAgIHk6IEdldFZpZXdwb3J0RGltZW5zaW9ucygpLmhlaWdodCAqIDcvOFxyXG4gICAgICB9LFxyXG4gICAgICBzaXplOiAzMCxcclxuICAgICAgZm9udDogXCJBbGF0YVwiLFxyXG4gICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgICBhbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICBzY2FsaW5nOjFcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgcmV0dXJuIGBQbGF5ZXIgMTokeygoZy5nZXRSb29tKCkgYXMgT3ZlcndvcmxkKS5zdGF0ZS5wbGF5ZXJfY2FwdHVyZXNbMV0vMTAwMCkudG9GaXhlZCgxKX1gO1xyXG4gICAgfSldO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE92ZXJ3b3JsZCBleHRlbmRzIHJvb208b3ZlcndvcmxkX2k+IGltcGxlbWVudHMgcDJwe1xyXG4gIGJhY2tncm91bmRfdXJsID0gXCIuL3Nwcml0ZXMvaW1ENDFsLmpwZ1wiO1xyXG4gIG9iamVjdHM6Z3Jhdml0eV9vYmpbXTtcclxuICBwcm94aW1pdHlfbWFwID0gbmV3IG1hcF9tYXRyaXgoMTAwMDAsMjUwMClcclxuICBwbGF5ZXJzOkNvbnRyb2xsZWRQbGF5ZXJbXSA9IFtdO1xyXG4gIHBsYXllcl9pbmRleDpudW1iZXIgPSAwO1xyXG4gIGNvbnN0cnVjdG9yKGdhbWU6cGVlcl90b19wZWVyX2dhbWU8dW5rbm93bj4pIHtcclxuICAgIHN1cGVyKGdhbWUsanNvbiBhcyB1bmtub3duIGFzIHN0YXRlX2NvbmZpZyk7XHJcbiAgICBcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHBsYXllcjogdW5kZWZpbmVkLFxyXG4gICAgICBwYXVzZWQ6IGZhbHNlLFxyXG4gICAgICBzdGF0ZV91cGRhdGVfdGlja19jb3VudGVyOjAsXHJcbiAgICAgIHBsYXllcl9jYXB0dXJlczpbMTUwMDAwLDE1MDAwMF1cclxuICAgIH07XHJcbiAgICBnYW1lLnN0YXRlLmNhbWVyYXMgPSBbXHJcbiAgICAgIG5ldyBDYW1lcmEoe1xyXG4gICAgICAgIHg6MCxcclxuICAgICAgICB5OjAsXHJcbiAgICAgICAgZGltZW5zaW9uczp7XHJcbiAgICAgICAgICBoZWlnaHQ6dmlld3BvcnQuaGVpZ2h0LFxyXG4gICAgICAgICAgd2lkdGg6dmlld3BvcnQud2lkdGhcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNjYWxpbmc6MC4zLFxyXG4gICAgICAgIGRlYnVnOmZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgLHtcclxuICAgICAgICB4OjEsXHJcbiAgICAgICAgeTowLFxyXG4gICAgICAgIHdpZHRoOjEsXHJcbiAgICAgICAgaGVpZ2h0OjFcclxuICAgICAgfSlcclxuICAgIF1cclxuICAgIGdhbWUuc3RhdGUuY2FtZXJhc1swXS5odWQgPSBuZXcgT3ZlcndvcmxkX0hVRCgpO1xyXG4gIH1cclxuICBwYXJzZV9wYWNrZXQodHlwZTpzdHJpbmcsZGF0YTpzdHJpbmcpe1xyXG4gICAgbGV0IG90aGVyX3BsYXllciA9IDA7XHJcbiAgICBpZih0aGlzLnBsYXllcl9pbmRleCA9PSAwKXtcclxuICAgICAgb3RoZXJfcGxheWVyID0gMTtcclxuICAgIH1cclxuICAgIGxldCB0YXJnZXQgPSB0aGlzLnBsYXllcnNbb3RoZXJfcGxheWVyXTtcclxuICAgIHN3aXRjaCh0eXBlKXtcclxuICAgICAgY2FzZSBcInJvY2tldFwiOntcclxuICAgICAgICBsZXQge3Bvc2l0aW9uLHJvdGF0aW9uLG93bmVyfSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG5ldyBSb2NrZXQoe1xyXG4gICAgICAgICAgcG9zaXRpb24sXHJcbiAgICAgICAgICByb3RhdGlvblxyXG4gICAgICAgIH0se1xyXG4gICAgICAgICAgb3duZXJcclxuICAgICAgICB9KSlcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIFwibW91c2VfcG9zaXRpb25cIjp7XHJcbiAgICAgICAgdGFyZ2V0LnN0YXRlLnBvaW50aW5nX3Rvd2FyZHMgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCJzdGF0dXNcIjp7XHJcbiAgICAgICAgbGV0IHtpZCxwb3NpdGlvbixyb3RhdGlvbixjYXB0dXJlLHBsYXllcl9pZCxoZWFsdGh9ID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICBsZXQgb2JqID0gdGhpcy5nZXRPYmooaWQpO1xyXG4gICAgICAgIGxldCBQbGF5ZXIgPSBvYmoucGFyZW50IGFzIFBsYXllcjtcclxuICAgICAgICBQbGF5ZXIuc3RhdGUuaGVhbHRoID0gaGVhbHRoO1xyXG4gICAgICAgIHRoaXMuc3RhdGUucGxheWVyX2NhcHR1cmVzW3BsYXllcl9pZF0gPSBjYXB0dXJlO1xyXG4gICAgICAgIG9iai5zdGF0ZS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgIG9iai5zdGF0ZS5yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCJtb3ZlXCI6e1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eTtcclxuICAgICAgICBpZihkYXRhID09IFwibGVmdFwiKXtcclxuICAgICAgICAgIGlmKHRhcmdldC5zdGF0ZS52ZWxvY2l0eS54IDwgLTEwKXtcclxuICAgICAgICAgICAgdmVsb2NpdHkgPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdmVsb2NpdHkgPSAtMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIGlmKHRhcmdldC5zdGF0ZS52ZWxvY2l0eS54ID4gMTApe1xyXG4gICAgICAgICAgICB2ZWxvY2l0eSA9IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB2ZWxvY2l0eSA9IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldC5zdGF0ZS52ZWxvY2l0eS54ICs9IHZlbG9jaXR5O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCJpbml0YWxfbW92ZVwiOntcclxuICAgICAgICBpZihkYXRhID09IFwibGVmdFwiKXtcclxuICAgICAgICAgIHRhcmdldC5zdGF0ZS52ZWxvY2l0eS54IC09IDAuMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB0YXJnZXQuc3RhdGUudmVsb2NpdHkueCArPSAwLjE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCJqdW1wXCI6e1xyXG4gICAgICAgIHRhcmdldC5zdGF0ZS52ZWxvY2l0eS55ICs9IDI1O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGluaXRpYWxpemUoKXtcclxuICAgIGxldCBjb250cm9sbGVkX3BsYXllcnMgPSB0aGlzLmdldE9iakJ5VGFnKFwicGxheWVyXCIpIGFzIENvbnRyb2xsZWRQbGF5ZXJbXTtcclxuICAgIHRoaXMucGxheWVycyA9IGNvbnRyb2xsZWRfcGxheWVycztcclxuICAgIGlmKCh0aGlzLmdhbWUgYXMgcGVlcl90b19wZWVyX2dhbWU8dW5rbm93bj4pLnR5cGUgPT0gcGVlcl9jb25uZWN0aW9uLmNoaWxkKXtcclxuICAgICAgdGhpcy5wbGF5ZXJfaW5kZXggPSAxO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wbGF5ZXJzW3RoaXMucGxheWVyX2luZGV4XS50YWdzLnB1c2goXCJsb2NhbFwiKTtcclxuICB9XHJcbiAgZ2V0R2FtZSgpOnBlZXJfdG9fcGVlcl9nYW1lPHt9PntcclxuICAgIHJldHVybiB0aGlzLmdhbWUgYXMgcGVlcl90b19wZWVyX2dhbWU8e30+O1xyXG4gIH1cclxuICBzZW5kX3BhY2tldCh0eXBlOnN0cmluZyxkYXRhOnN0cmluZyxpZD86bnVtYmVyKXtcclxuICAgIGxldCBnID0gdGhpcy5nYW1lIGFzIHBlZXJfdG9fcGVlcl9nYW1lPHVua25vd24+O1xyXG4gICAgaWYoZy50eXBlID09IHBlZXJfY29ubmVjdGlvbi5jaGlsZCl7XHJcbiAgICAgIGcuc2VuZF90b19ob3N0KHR5cGUsZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGcuc2VuZF90b19hbGxfcGVlcnModHlwZSxkYXRhKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmVnaXN0ZXJDb250cm9scygpIHtcclxuICAgIHRoaXMuYmluZENvbnRyb2woXCJFc2NhcGVcIixleGVjX3R5cGUub25jZSwoKSA9PiB7XHJcbiAgICAgIHRoaXMub2JqZWN0cy5mb3JFYWNoKChlKT0+e1xyXG4gICAgICAgIGUuc3RhdGUucG9zaXRpb24gPSBWZWMuc2NhbGFyX3N1YihlLnN0YXRlLnBvc2l0aW9uLDIwMCk7XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgdGhpcy5iaW5kQ29udHJvbChcIm1vdXNlMGRvd25cIiwgZXhlY190eXBlLnJlcGVhdCwoKSA9PiB7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgZ3VuX2luc3QgPSAodGhpcy5wbGF5ZXJzW3RoaXMucGxheWVyX2luZGV4XS5wYXJlbnQuZ2V0SXRlbXNCeVRhZyhcImd1blwiKVswXSkgYXMgR3VuO1xyXG4gICAgICAvL3RoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0ucGxheShcImV4cGxvc2lvblwiLCAwLjQpO1xyXG4gICAgICBpZihndW5faW5zdCl7XHJcbiAgICAgICAgbGV0IG11enpsZSA9IHJvdGF0aW9uX2xlbmd0aCgzMCxndW5faW5zdC5zdGF0ZS5yb3RhdGlvbik7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgeDpndW5faW5zdC5zdGF0ZS5wb3NpdGlvbi54ICsgbXV6emxlLngsXHJcbiAgICAgICAgICB5Omd1bl9pbnN0LnN0YXRlLnBvc2l0aW9uLnkgKyBtdXp6bGUueVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYnVsbGV0ID0gbmV3IFJvY2tldCh7XHJcbiAgICAgICAgICBwb3NpdGlvbjp7eDpwb3NpdGlvbi54LHk6cG9zaXRpb24ueX0sXHJcbiAgICAgICAgICByb3RhdGlvbjpndW5faW5zdC5zdGF0ZS5yb3RhdGlvbixcclxuICAgICAgICB9LHtvd25lcjp0aGlzLnBsYXllcnNbdGhpcy5wbGF5ZXJfaW5kZXhdLmlkfSk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKGJ1bGxldCk7XHJcbiAgICAgICAgdGhpcy5zZW5kX3BhY2tldChcInJvY2tldFwiLEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHJvdGF0aW9uOmJ1bGxldC5zdGF0ZS5yb3RhdGlvbixcclxuICAgICAgICAgIHBvc2l0aW9uOmJ1bGxldC5zdGF0ZS5wb3NpdGlvbixcclxuICAgICAgICAgIG93bmVyOnRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uaWRcclxuICAgICAgICB9KSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgIH0sNDAwKVxyXG4gICAgXHJcbiAgICB0aGlzLmJpbmRDb250cm9sKFwiS2V5QVwiLCBleGVjX3R5cGUucmVwZWF0LCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnBsYXllcnNbdGhpcy5wbGF5ZXJfaW5kZXhdLnN0YXRlLnZlbG9jaXR5LnggPiAtMTApIHtcclxuXHJcbiAgICAgICAgICB0aGlzLnBsYXllcnNbdGhpcy5wbGF5ZXJfaW5kZXhdLnN0YXRlLnZlbG9jaXR5LnggPSB0aGlzLnBsYXllcnNbdGhpcy5wbGF5ZXJfaW5kZXhdLnN0YXRlLnZlbG9jaXR5LnggLSAxO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2VuZF9wYWNrZXQoXCJtb3ZlXCIsXCJsZWZ0XCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuYmluZENvbnRyb2woXCJLZXlBXCIsIGV4ZWNfdHlwZS5vbmNlLCAoKSA9PiB7XHJcbiAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uc3RhdGUuZGlyZWN0aW9uID0gZGlyZWN0aW9uLmxlZnQ7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzW3RoaXMucGxheWVyX2luZGV4XS5zdGF0ZS52ZWxvY2l0eS54ID0gdGhpcy5wbGF5ZXJzW3RoaXMucGxheWVyX2luZGV4XS5zdGF0ZS52ZWxvY2l0eS54IC0gMC4xO1xyXG4gICAgICBcclxuICAgICAgdGhpcy5zZW5kX3BhY2tldChcImluaXRpYWxfbW92ZVwiLFwibGVmdFwiKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5iaW5kQ29udHJvbChcIktleURcIiwgZXhlY190eXBlLnJlcGVhdCwgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5wbGF5ZXJzW3RoaXMucGxheWVyX2luZGV4XS5zdGF0ZS52ZWxvY2l0eS54IDwgMTApIHtcclxuICAgICAgICBcclxuICAgICAgICAgIHRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uc3RhdGUudmVsb2NpdHkueCA9IHRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uc3RhdGUudmVsb2NpdHkueCArIDE7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZW5kX3BhY2tldChcIm1vdmVcIixcInJpZ2h0XCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuYmluZENvbnRyb2woXCJLZXlEXCIsIGV4ZWNfdHlwZS5vbmNlLCAoKSA9PiB7XHJcbiAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uc3RhdGUuZGlyZWN0aW9uID0gZGlyZWN0aW9uLnJpZ2h0O1xyXG4gICAgICAgIHRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uc3RhdGUudmVsb2NpdHkueCA9IHRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uc3RhdGUudmVsb2NpdHkueCArIDAuMTtcclxuICAgICAgXHJcbiAgICAgIHRoaXMuc2VuZF9wYWNrZXQoXCJpbml0aWFsX21vdmVcIixcInJpZ2h0XCIpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHRoaXMuYmluZENvbnRyb2woXCJTcGFjZVwiLCBleGVjX3R5cGUub25jZSwgKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uc3RhdGUuanVtcGluZykge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgdGhpcy5wbGF5ZXJzW3RoaXMucGxheWVyX2luZGV4XS5zdGF0ZS52ZWxvY2l0eS55ICs9IDI1O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uYXVkaW8ucGxheShcInNsaW1lXCIsIDAuMSk7XHJcbiAgICAgICAgdGhpcy5zZW5kX3BhY2tldChcImp1bXBcIixcIlwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICB9XHJcbiAgcmVnaXN0ZXJQYXJ0aWNsZXMoKXtcclxuICAgIHRoaXMucGFydGljbGVzW1wic21va2VcIl0gPSB7XHJcbiAgICAgIHNwcml0ZTpcIi4vc3ByaXRlcy9mb2xkZXIvc21va2UucG5nXCIsXHJcbiAgICAgIGhlaWdodDo2NCxcclxuICAgICAgd2lkdGg6NjRcclxuICAgIH07XHJcbiAgICB0aGlzLnBhcnRpY2xlc1tcImV4cGxvc2lvblwiXSA9IHtcclxuICAgICAgc3ByaXRlOlwiLi9zcHJpdGVzL2ZvbGRlci9leHBsb3Npb24ucG5nXCIsXHJcbiAgICAgIGhlaWdodDoxMjgsXHJcbiAgICAgIHdpZHRoOjEyOFxyXG4gICAgfVxyXG4gIH1cclxuICBzdGF0ZWYodGltZTogbnVtYmVyKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUucGF1c2VkKSB7XHJcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgICAgYXBwbHlHcmF2aXR5KHRoaXMub2JqZWN0c1thXSwgLTEgKiB0aW1lLzE2LCAtMTUpO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmNhY2hlKFwidGFyZ2V0XCIsdGhpcy5nZXRPYmpCeVRhZyhcImR1bW15XCIpWzBdKSBhcyBHb29tYmE7XHJcbiAgICAgIGxldCBjdXJzb3IgPSB0aGlzLmNhY2hlKFwiQ3Vyc29yXCIsdGhpcy5nZXRPYmpCeVRhZyhcIkN1cnNvclwiKVswXSwpIGFzIEN1cnNvcjtcclxuICAgICAgbGV0IGNhbWVyYXMgPSBnLnN0YXRlLmNhbWVyYXM7XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgICBjYW1lcmFzWzBdLnN0YXRlLnBvc2l0aW9uLnggPSB0aGlzLnBsYXllcnNbdGhpcy5wbGF5ZXJfaW5kZXhdLnN0YXRlLnBvc2l0aW9uLng7XHJcbiAgICAgICAgY2FtZXJhc1swXS5zdGF0ZS5wb3NpdGlvbi55ID0gdGhpcy5wbGF5ZXJzW3RoaXMucGxheWVyX2luZGV4XS5zdGF0ZS5wb3NpdGlvbi55ICsgKGNhbWVyYXNbMF0uc3RhdGUuZGltZW5zaW9ucy5oZWlnaHQvMiAtIHRoaXMucGxheWVyc1t0aGlzLnBsYXllcl9pbmRleF0uaGVpZ2h0LzIpOyAgICAgXHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgaWYgKGN1cnNvcikge1xyXG4gICAgICAgIGN1cnNvci5jb2xsaXNpb24gPSBmYWxzZTtcclxuICAgICAgICBjdXJzb3IuZ3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBtb3VzZSA9IFBvbGxfTW91c2UodGhpcy5nYW1lLnN0YXRlLmNhbWVyYXNbMF0pO1xyXG4gICAgXHJcbiAgICAgICAgICB0aGlzLnBsYXllcnNbdGhpcy5wbGF5ZXJfaW5kZXhdLnN0YXRlLnBvaW50aW5nX3Rvd2FyZHMgPSBjdXJzb3Iuc3RhdGUucG9zaXRpb247XHJcbiAgICAgICAgICB0aGlzLnNlbmRfcGFja2V0KFwibW91c2VfcG9zaXRpb25cIixKU09OLnN0cmluZ2lmeShjdXJzb3Iuc3RhdGUucG9zaXRpb24pKTtcclxuICAgICAgICBcclxuICAgICAgICBpZihtb3VzZSl7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGN1cnNvci5zdGF0ZS5wb3NpdGlvbi54ID0gbW91c2UueDtcclxuICAgICAgICAgIGN1cnNvci5zdGF0ZS5wb3NpdGlvbi55ID0gbW91c2UueTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgbGV0IGNhcHR1cmVfYXJlYSA9IHRoaXMuY2FjaGUoXCJjYXB0dXJlXCIsIHRoaXMuZ2V0T2JqQnlUYWcoXCJjYXB0dXJlX2FyZWFcIilbMF0pO1xyXG4gICAgICBcclxuICAgICAgZm9yKGxldCBbaW5kZXgscGxheWVyXSBvZiB0aGlzLnBsYXllcnMuZW50cmllcygpKXtcclxuICAgICAgICBpZihwbGF5ZXIuY29sbGlkZXNXaXRoQm94KGNhcHR1cmVfYXJlYS5nZXRGdWxsQ29sbGlzaW9uQm94KCkpKXtcclxuICAgICAgICAgIHRoaXMuc3RhdGUucGxheWVyX2NhcHR1cmVzW2luZGV4XSAtPSB0aW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBsZXQgZ2FtZSA9IHRoaXMuZ2FtZSBhcyBwZWVyX3RvX3BlZXJfZ2FtZTx7fT47XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc3RhdGUuc3RhdGVfdXBkYXRlX3RpY2tfY291bnRlciA9PSAwKXtcclxuXHJcbiAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5wbGF5ZXJzW3RoaXMucGxheWVyX2luZGV4XVxyXG4gICAgICAgICAgdGhpcy5zZW5kX3BhY2tldChcInN0YXR1c1wiLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIGlkOnBsYXllci5pZCxcclxuICAgICAgICAgICAgcGxheWVyX2lkOnRoaXMucGxheWVyX2luZGV4LFxyXG4gICAgICAgICAgICBjYXB0dXJlOnRoaXMuc3RhdGUucGxheWVyX2NhcHR1cmVzW3RoaXMucGxheWVyX2luZGV4XSxcclxuICAgICAgICAgICAgaGVhbHRoOihwbGF5ZXIucGFyZW50IGFzIFBsYXllcikuc3RhdGUuaGVhbHRoLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjpwbGF5ZXIuc3RhdGUucG9zaXRpb24sXHJcbiAgICAgICAgICAgIHJvdGF0aW9uOnBsYXllci5zdGF0ZS5yb3RhdGlvblxyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zdGF0ZS5zdGF0ZV91cGRhdGVfdGlja19jb3VudGVyICs9IHRpbWU7XHJcbiAgICAgICAgaWYodGhpcy5zdGF0ZS5zdGF0ZV91cGRhdGVfdGlja19jb3VudGVyID4gMCl7XHJcbiAgICAgICAgICB0aGlzLnN0YXRlLnN0YXRlX3VwZGF0ZV90aWNrX2NvdW50ZXIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzdXBlci5zdGF0ZWYodGltZSk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBwMnAsIHJvb20gfSBmcm9tIFwibGliL3Jvb21cIjtcbmltcG9ydCB7IGdhbWUsIHZpZXdwb3J0IH0gZnJvbSBcInNyYy92YW5cIjtcbmltcG9ydCB7IHN0YXRlX2NvbmZpZyB9IGZyb20gXCJsaWIvcm9vbVwiO1xuaW1wb3J0ICogYXMgY29uZmlnIGZyb20gXCIuL2xvYWRpbmcuanNvblwiO1xuaW1wb3J0IHsgSFVELFRleHQgfSBmcm9tIFwibGliL2h1ZFwiO1xuaW1wb3J0IHtWZWN9IGZyb20gXCJsaWIvbWF0aFwiO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcImxpYi9yZW5kZXJcIjtcbmltcG9ydCB7ZXhlY190eXBlfSBmcm9tIFwibGliL2NvbnRyb2xzXCI7XG5pbXBvcnQgeyBnIH0gZnJvbSBcImdhbWUvbWFpblwiO1xuaW1wb3J0IHtwZWVyX3RvX3BlZXJfZ2FtZX0gZnJvbSBcInNyYy92YW5cIjtcbmxldCBjZmlnID0gY29uZmlnIGFzIHVua25vd24gYXMgc3RhdGVfY29uZmlnO1xuaW50ZXJmYWNlIGxvYWRpbmdfc3RhdGUge1xuICBpbnB1dDpzdHJpbmcsXG4gIGNvbm5lY3RlZF9wZWVyczpudW1iZXIsXG4gIGhvc3Rpbmc6Ym9vbGVhblxufVxuXG5jbGFzcyBsb2FkaW5nX2h1ZCBleHRlbmRzIEhVRHtcbiAgc2V0VGV4dEVsZW1lbnRzKCk6VGV4dFtde1xuICAgIHJldHVybiBbXG4gICAgICBuZXcgVGV4dCh7XG4gICAgICAgIHBvc2l0aW9uOlZlYy5jcmVhdGUodmlld3BvcnQud2lkdGgvMiwyICogdmlld3BvcnQuaGVpZ2h0LzYpLFxuICAgICAgICBzaXplOjMzLFxuICAgICAgICBzY2FsaW5nOjEsXG4gICAgICAgIGZvbnQ6XCJBcmlhbFwiLFxuICAgICAgICBjb2xvcjpcIndoaXRlXCJcblxuICAgICAgfSwoKT0+KGcuc3RhdGUuY3VycmVudF9yb29tIGFzIGxvYWRpbmcpLnN0YXRlLmlucHV0KSxcbiAgICAgIG5ldyBUZXh0KHtcbiAgICAgICAgcG9zaXRpb246VmVjLmNyZWF0ZSh2aWV3cG9ydC53aWR0aC8yLDQgKiB2aWV3cG9ydC5oZWlnaHQvNiksXG4gICAgICAgIHNpemU6MzMsXG4gICAgICAgIHNjYWxpbmc6MSxcbiAgICAgICAgZm9udDpcIkFyaWFsXCIsXG4gICAgICAgIGNvbG9yOlwid2hpdGVcIlxuXG4gICAgICB9LCgpPT4oXCJFbnRlcmluZyBjb2RlOlwiKSlcbiAgICBdXG4gIH1cbn1cblxuY2xhc3MgaG9zdGluZ19odWQgZXh0ZW5kcyBIVUR7XG4gIHNldFRleHRFbGVtZW50cygpOlRleHRbXXtcbiAgICByZXR1cm4gW1xuICAgICAgbmV3IFRleHQoe1xuICAgICAgICBwb3NpdGlvbjpWZWMuY3JlYXRlKHZpZXdwb3J0LndpZHRoLzIsNCAqIHZpZXdwb3J0LmhlaWdodC82KSxcbiAgICAgICAgc2l6ZTozMyxcbiAgICAgICAgc2NhbGluZzoxLFxuICAgICAgICBmb250OlwiQXJpYWxcIixcbiAgICAgICAgY29sb3I6XCJ3aGl0ZVwiXG5cbiAgICAgIH0sKCk9PihnLnN0YXRlLmN1cnJlbnRfcm9vbSBhcyBsb2FkaW5nKS5zdGF0ZS5pbnB1dCksXG4gICAgICBuZXcgVGV4dCh7XG4gICAgICAgIHBvc2l0aW9uOlZlYy5jcmVhdGUodmlld3BvcnQud2lkdGgvMiwyICogdmlld3BvcnQuaGVpZ2h0LzYpLFxuICAgICAgICBzaXplOjMzLFxuICAgICAgICBzY2FsaW5nOjEsXG4gICAgICAgIGZvbnQ6XCJBcmlhbFwiLFxuICAgICAgICBjb2xvcjpcIndoaXRlXCJcblxuICAgICAgfSwoKT0+KGBQZWVycyBDb25uZWN0ZWQ6JHsoZy5nZXRSb29tKCkgYXMgbG9hZGluZykuc3RhdGUuY29ubmVjdGVkX3BlZXJzfWApKVxuICAgIF1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgbG9hZGluZyBleHRlbmRzIHJvb208bG9hZGluZ19zdGF0ZT4gaW1wbGVtZW50cyBwMnB7XG4gIGJhY2tncm91bmRfdXJsID0gXCIuL3Nwcml0ZXMvRXJyb3IucG5nXCI7XG4gIHJlbmRlciA9IGZhbHNlO1xuICBzdGF0ZTpsb2FkaW5nX3N0YXRlO1xuICBjb25zdHJ1Y3RvcihnYW1lOiBnYW1lPHVua25vd24+KSB7XG4gICAgc3VwZXIoZ2FtZSwgY2ZpZyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlucHV0OlwiXCIsXG4gICAgICBjb25uZWN0ZWRfcGVlcnM6MCxcbiAgICAgIGhvc3Rpbmc6ZmFsc2VcbiAgICB9O1xuICAgIHRoaXMuY2FtZXJhcy5wdXNoKG5ldyBDYW1lcmEoe1xuICAgICAgeDowLFxuICAgICAgeTowLFxuICAgICAgZGltZW5zaW9uczp2aWV3cG9ydCxcbiAgICAgIHNjYWxpbmc6MVxuICAgIH0se1xuICAgICAgeDowLFxuICAgICAgeTowLFxuICAgICAgaGVpZ2h0OjEsXG4gICAgICB3aWR0aDoxXG4gICAgfSxuZXcgbG9hZGluZ19odWQoKSkpXG4gIH1cbiAgcGFyc2VfcGFja2V0KHR5cGU6c3RyaW5nLGRhdGE6c3RyaW5nKXtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICBjYXNlIFwiY29ubmVjdGlvblwiOntcbiAgICAgICAgaWYoZGF0YSA9PSBcInN1Y2Nlc3NcIil7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb25uZWN0ZWRfcGVlcnMrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZWdpc3RlckNvbnRyb2xzKCkge1xuICAgIGxldCBrZXlzID0gW1xuICAgICAge2tleTpcIkFcIixjaGFyOlwiYVwifSxcbiAgICAgIHtrZXk6XCJCXCIsY2hhcjpcImJcIn0sXG4gICAgICB7a2V5OlwiQ1wiLGNoYXI6XCJjXCJ9LFxuICAgICAge2tleTpcIkRcIixjaGFyOlwiZFwifSxcbiAgICAgIHtrZXk6XCJFXCIsY2hhcjpcImVcIn0sXG4gICAgICB7a2V5OlwiRlwiLGNoYXI6XCJmXCJ9LFxuICAgICAge2tleTpcIkdcIixjaGFyOlwiZ1wifSxcbiAgICAgIHtrZXk6XCJIXCIsY2hhcjpcImhcIn0sXG4gICAgICB7a2V5OlwiSVwiLGNoYXI6XCJpXCJ9LFxuICAgICAge2tleTpcIkpcIixjaGFyOlwialwifSxcbiAgICAgIHtrZXk6XCJLXCIsY2hhcjpcImtcIn0sXG4gICAgICB7a2V5OlwiTFwiLGNoYXI6XCJsXCJ9LFxuICAgICAge2tleTpcIk1cIixjaGFyOlwibVwifSxcbiAgICAgIHtrZXk6XCJOXCIsY2hhcjpcIm5cIn0sXG4gICAgICB7a2V5OlwiT1wiLGNoYXI6XCJvXCJ9LFxuICAgICAge2tleTpcIlBcIixjaGFyOlwicFwifSxcbiAgICAgIHtrZXk6XCJRXCIsY2hhcjpcInFcIn0sXG4gICAgICB7a2V5OlwiUlwiLGNoYXI6XCJyXCJ9LFxuICAgICAge2tleTpcIlNcIixjaGFyOlwic1wifSxcbiAgICAgIHtrZXk6XCJUXCIsY2hhcjpcInRcIn0sXG4gICAgICB7a2V5OlwiVVwiLGNoYXI6XCJ1XCJ9LFxuICAgICAge2tleTpcIlZcIixjaGFyOlwidlwifSxcbiAgICAgIHtrZXk6XCJXXCIsY2hhcjpcIndcIn0sXG4gICAgICB7a2V5OlwiWFwiLGNoYXI6XCJ4XCJ9LFxuICAgICAge2tleTpcIllcIixjaGFyOlwieVwifSxcbiAgICAgIHtrZXk6XCJaXCIsY2hhcjpcInpcIn1cbiAgICBdO1xuICAgIGxldCBkaWdpdHMgPSBbMCwxLDIsMyw0LDUsNiw3LDgsOV07XG4gICAgZm9yKGxldCBlIG9mIGtleXMpe1xuICAgICAgdGhpcy5iaW5kQ29udHJvbChgS2V5JHtlLmtleX1gLGV4ZWNfdHlwZS5vbmNlLCgpPT57XG4gICAgICAgIHRoaXMuc3RhdGUuaW5wdXQgKz0gZS5jaGFyO1xuICAgICAgfSlcbiAgICB9XG4gICAgZm9yKGxldCBkIG9mIGRpZ2l0cyl7XG4gICAgICB0aGlzLmJpbmRDb250cm9sKGBEaWdpdCR7ZH1gLGV4ZWNfdHlwZS5vbmNlLCgpPT57XG4gICAgICAgIHRoaXMuc3RhdGUuaW5wdXQgKz0gZDtcbiAgICAgIH0pXG4gICAgfVxuICAgIHRoaXMuYmluZENvbnRyb2woXCJCYWNrc3BhY2VcIixleGVjX3R5cGUub25jZSwoKT0+e1xuICAgICAgaWYodGhpcy5zdGF0ZS5pbnB1dC5sZW5ndGggPiAwKVxuICAgICAgICB0aGlzLnN0YXRlLmlucHV0ID0gdGhpcy5zdGF0ZS5pbnB1dC5zbGljZSgwLHRoaXMuc3RhdGUuaW5wdXQubGVuZ3RoIC0gMSk7XG4gICAgfSlcbiAgICB0aGlzLmJpbmRDb250cm9sKFwiRW50ZXJcIixleGVjX3R5cGUub25jZSxhc3luYyAoKT0+e1xuICAgICAgbGV0IGcgPSAodGhpcy5nYW1lIGFzIHBlZXJfdG9fcGVlcl9nYW1lPHt9Pik7XG4gICAgICBpZih0aGlzLnN0YXRlLmhvc3Rpbmcpe1xuICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmdcIik7XG4gICAgICAgIGF3YWl0IGcubG9hZFJvb21TdHJpbmcoXCJPdmVyd29ybGRcIik7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBnLmNvbm5lY3QodGhpcy5zdGF0ZS5pbnB1dCk7XG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLmJpbmRDb250cm9sKFwiVGFiXCIsZXhlY190eXBlLm9uY2UsKCk9PntcbiAgICAgIGxldCBnID0gKHRoaXMuZ2FtZSBhcyBwZWVyX3RvX3BlZXJfZ2FtZTx7fT4pO1xuICAgICAgZy5ob3N0KCk7XG4gICAgICB0aGlzLnN0YXRlLmlucHV0ID0gZy5ob3N0aW5nX3BlZXIuaWQ7XG4gICAgICB0aGlzLnN0YXRlLmhvc3RpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5jYW1lcmFzWzBdLmh1ZCA9IG5ldyBob3N0aW5nX2h1ZCgpO1xuICAgIH0pXG4gIH1cbiAgcmVnaXN0ZXJQYXJ0aWNsZXMoKSB7XG5cbiAgfVxuICBzdGF0ZWYoZGVsdGFfdGltZTogbnVtYmVyKSB7XG4gICAgc3VwZXIuc3RhdGVmKGRlbHRhX3RpbWUpO1xuICB9XG5cbn0iLCJcbmludGVyZmFjZSByb29tX2RpciB7XG4gIFtpbmRleDpzdHJpbmddOmFueVxufVxuaW1wb3J0IHtsb2FkaW5nfSBmcm9tIFwiLi9sb2FkaW5nXCI7XG5pbXBvcnQge092ZXJ3b3JsZH0gZnJvbSBcIi4vT3ZlcndvcmxkXCI7XG5leHBvcnQgbGV0IHJvb21zOnJvb21fZGlyID0ge1xuXHRsb2FkaW5nOmxvYWRpbmcsXG5cdE92ZXJ3b3JsZDpPdmVyd29ybGQsXG59IiwiaW1wb3J0IHsgcm9vdF9wYXRoLCBwYXRoIH0gZnJvbSBcIi4vZGVidWdcIjtcclxuaW1wb3J0IHsgREVCVUcgfSBmcm9tIFwiLi4vdmFuXCI7XHJcblxyXG5pbnRlcmZhY2Ugc291bmRfc3RvcmFnZSB7XHJcbiAgW2luZGV4OiBzdHJpbmddOiBIVE1MQXVkaW9FbGVtZW50XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBhdWRpbyB7XHJcbiAgc291bmRzOiBzb3VuZF9zdG9yYWdlID0ge307XHJcbiAgYWRkKG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcpIHtcclxuICAgIGxldCBwID0gdXJsO1xyXG4gICAgaWYgKERFQlVHKSB7XHJcbiAgICAgIHAgPSBwYXRoLmpvaW4ocm9vdF9wYXRoLCB1cmwpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zb3VuZHNbbmFtZV0gPSBuZXcgQXVkaW8ocCk7XHJcbiAgfVxyXG4gIGFzeW5jIGxvYWQoKSB7XHJcbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuc291bmRzKTtcclxuICAgIGxldCBwcm9taXNlcyA9IGtleXMubWFwKChrZXkpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLnNvdW5kc1trZXldLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHggPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICAgIHJldHVybiAoeCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcbiAgcGxheShuYW1lOiBzdHJpbmcsIHZvbHVtZTogbnVtYmVyKSB7XHJcbiAgICBsZXQgYSA9IHRoaXMuc291bmRzW25hbWVdO1xyXG4gICAgYS5wYXVzZSgpXHJcbiAgICBhLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIGEudm9sdW1lID0gdm9sdW1lO1xyXG4gICAgYS5wbGF5KCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHtvYmosZ2V0SWR9IGZyb20gXCIuLi9saWIvb2JqZWN0XCI7XHJcbmltcG9ydCB7b2JqX3N0YXRlfSBmcm9tIFwiLi4vbGliL3N0YXRlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIGNvbGxpc2lvbl9ib3h7XHJcbiAgeDpudW1iZXI7XHJcbiAgeTpudW1iZXI7XHJcbiAgd2lkdGg6bnVtYmVyO1xyXG4gIGhlaWdodDpudW1iZXI7XHJcbn1cclxuXHJcbmVudW0gZGlyZWN0aW9ue1xyXG4gIGxlZnQsXHJcbiAgcmlnaHQsXHJcbiAgdXAsXHJcbiAgZG93blxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5jb21wYXNzaW5nQm94KG9iamVjdHM6b2JqW10pOmNvbGxpc2lvbl9ib3h7XHJcbiAgbGV0IGZpcnN0X29iamVjdCA9IG9iamVjdHNbMF0uZ2V0Qm91bmRpbmdCb3goKTtcclxuICBsZXQgbWF4X3kgPSBmaXJzdF9vYmplY3QudG9wX3JpZ2h0Lnk7XHJcbiAgbGV0IG1heF94ID0gZmlyc3Rfb2JqZWN0LnRvcF9yaWdodC54O1xyXG4gIGxldCBtaW5feSA9IGZpcnN0X29iamVjdC5ib3R0b21fbGVmdC55O1xyXG4gIGxldCBtaW5feCA9IGZpcnN0X29iamVjdC5ib3R0b21fbGVmdC54O1xyXG4gIGZvcihsZXQgYSA9IDE7IGEgPCBvYmplY3RzLmxlbmd0aDthKyspe1xyXG4gICAgbGV0IG9iamVjdCA9IG9iamVjdHNbYV0uZ2V0Qm91bmRpbmdCb3goKTtcclxuICAgIGlmKG9iamVjdC50b3BfcmlnaHQueSA+IG1heF95KVxyXG4gICAgICBtYXhfeSA9IG9iamVjdC50b3BfcmlnaHQueTtcclxuICAgIGlmKG9iamVjdC50b3BfcmlnaHQueCA+IG1heF94KVxyXG4gICAgICBtYXhfeCA9IG9iamVjdC50b3BfcmlnaHQueDtcclxuICAgIGlmKG9iamVjdC5ib3R0b21fbGVmdC55IDwgbWluX3kpXHJcbiAgICAgIG1pbl95ID0gb2JqZWN0LmJvdHRvbV9sZWZ0Lnk7XHJcbiAgICBpZihvYmplY3QuYm90dG9tX2xlZnQueCA8IG1pbl94KVxyXG4gICAgICBtaW5feCA9IG9iamVjdC5ib3R0b21fbGVmdC54O1xyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgeDptaW5feCArIChtYXhfeCAtIG1pbl94KS8yLFxyXG4gICAgeTptaW5feSArIChtYXhfeSAtIG1pbl95KS8yLFxyXG4gICAgaGVpZ2h0Om1heF95IC0gbWluX3ksXHJcbiAgICB3aWR0aDptYXhfeCAtIG1pbl94XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tfYWxsX29iamVjdHMoYzogY29sbGlzaW9uX2JveCxvYmpzOm9ialtdLGV4ZW1wdGlvbjpzdHJpbmdbXSA9IFtdKTpvYmpbXXtcclxuICByZXR1cm4gb2Jqcy5maWx0ZXIoKGEpPT4oIWV4ZW1wdGlvbi5zb21lKChiKT0+YS50YWdzLmluZGV4T2YoYikgIT09IC0xKSAmJiBhLmNvbGxpZGVzV2l0aEJveChjKSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tfYWxsX2NvbGxpc2lvbnMoYzogY29sbGlzaW9uX2JveCxvYmpzOm9ialtdLGV4ZW1wdGlvbjpzdHJpbmdbXSA9IFtdKTpBcnJheTxvYmo+e1xyXG4gIGxldCBtYXRjaGVkID0gW107XHJcbiAgZm9yIChsZXQgYSBvZiBvYmpzKSB7XHJcbiAgICBpZiAoIWV4ZW1wdGlvbi5zb21lKChiKT0+YS50YWdzLmluZGV4T2YoYikgIT09IC0xKSAmJiBhLmNvbGxpc2lvbiAmJiBhLmNvbGxpZGVzV2l0aEJveChjKSkge1xyXG4gICAgICBtYXRjaGVkLnB1c2goYSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBtYXRjaGVkXHJcbn1cclxuLy9DaGVja3MgdXAgdG8gdGhlIGZpcnN0IGNvbGxpc2lvblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tfY29sbGlzaW9ucyhjOiBjb2xsaXNpb25fYm94LCBvYmpzOiBvYmpbXSwgZXhlbXB0aW9uOnN0cmluZykge1xyXG4gIGZvciAobGV0IGEgb2Ygb2Jqcykge1xyXG4gICAgaWYgKGEuaWQgIT09IGV4ZW1wdGlvbiAmJiBhLmNvbGxpc2lvbiAmJiBhLmNvbGxpZGVzV2l0aEJveChjKSkge1xyXG4gICAgICByZXR1cm4gYTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZlbG9jaXR5X21heCh2ZWxvY2l0eTpudW1iZXIsYm94OmNvbGxpc2lvbl9ib3gsb2JqczpvYmpbXSwgZXhlbXB0aW9uOnN0cmluZyxkaXI6ZGlyZWN0aW9uKXtcclxuICBsZXQgY29sbGlzaW9uID0gY2hlY2tfY29sbGlzaW9ucyhib3gsIG9ianMsIGV4ZW1wdGlvbik7XHJcbiAgaWYoY29sbGlzaW9uID09IG51bGwpe1xyXG4gICAgcmV0dXJuIHZlbG9jaXR5O1xyXG4gIH1cclxuICBlbHNle1xyXG4gICAgbGV0IGNvbGxpZGVyID0gY29sbGlzaW9uO1xyXG4gICAgbGV0IG9yaWdpbiA9IGdldElkKG9ianMsZXhlbXB0aW9uKTtcclxuICAgIGxldCBvcmlnX3N0ID0gb3JpZ2luLnN0YXRlIGFzIG9ial9zdGF0ZTtcclxuICAgIGxldCBjb2xsaWRlcl9zdCA9IGNvbGxpZGVyLnN0YXRlIGFzIG9ial9zdGF0ZTtcclxuICAgIGxldCBvcmlnX2NvbCA9IG9yaWdpbi5nZXRGdWxsQ29sbGlzaW9uQm94KCk7XHJcbiAgICBsZXQgY29sbGlkZXJfY29sID0gY29sbGlkZXIuZ2V0RnVsbENvbGxpc2lvbkJveCgpO1xyXG4gICAgaWYoZGlyID09IGRpcmVjdGlvbi5sZWZ0KXtcclxuICAgICAgcmV0dXJuIChvcmlnX2NvbC54IC0gb3JpZ19jb2wud2lkdGgvMikgLSAoY29sbGlkZXJfY29sLnggKyBjb2xsaWRlcl9jb2wud2lkdGgvMik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGRpciA9PSBkaXJlY3Rpb24ucmlnaHQpe1xyXG4gICAgICByZXR1cm4gKGNvbGxpZGVyX2NvbC54IC0gY29sbGlkZXJfY29sLndpZHRoLzIpIC0gKG9yaWdfY29sLnggKyBvcmlnX2NvbC53aWR0aC8yKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoZGlyID09IGRpcmVjdGlvbi5kb3duKXtcclxuICAgICAgcmV0dXJuIChvcmlnX2NvbC55IC0gb3JpZ19jb2wuaGVpZ2h0LzIpIC0gKGNvbGxpZGVyX2NvbC55ICsgY29sbGlkZXJfY29sLmhlaWdodC8yKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoZGlyID09IGRpcmVjdGlvbi51cCl7XHJcbiAgICAgIHJldHVybiAoY29sbGlkZXJfY29sLnkgLSBjb2xsaWRlcl9jb2wuaGVpZ2h0LzIpIC0gKG9yaWdfY29sLnkgKyBvcmlnX2NvbC5oZWlnaHQvMik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmVsb2NpdHlDb2xsaXNpb25DaGVjayhvYmplY3Q6b2JqLGxpc3Q6b2JqW10pIHtcclxuICBsaXN0ID0gWy4uLmxpc3RdO1xyXG4gIGxldCBvYiA9IG9iamVjdDtcclxuICBsZXQgc3QgPSBvYmplY3Quc3RhdGUgYXMgb2JqX3N0YXRlO1xyXG4gIGxldCB4X3ZlbCA9IHN0LnZlbG9jaXR5Lng7XHJcbiAgbGV0IHlfdmVsID0gc3QudmVsb2NpdHkueTtcclxuICBpZih4X3ZlbCA9PSAwICYmIHlfdmVsID09IDApIHJldHVybjtcclxuICBpZighb2IuY29sbGlzaW9uKXtcclxuICAgICg8b2JqX3N0YXRlPm9iLnN0YXRlKS5wb3NpdGlvbi54ICs9ICg8b2JqX3N0YXRlPm9iLnN0YXRlKS52ZWxvY2l0eS54O1xyXG4gICAgKDxvYmpfc3RhdGU+b2Iuc3RhdGUpLnBvc2l0aW9uLnkgKz0gKDxvYmpfc3RhdGU+b2Iuc3RhdGUpLnZlbG9jaXR5Lnk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGxldCBjb2xfYm94ID0gb2IuZ2V0RnVsbENvbGxpc2lvbkJveCgpO1xyXG4gIGlmICh4X3ZlbCA+IDApIHtcclxuICAgIGxldCBib3ggPSB7XHJcbiAgICAgIHg6IGNvbF9ib3gueCArIGNvbF9ib3gud2lkdGgvMiArIHhfdmVsLzIsXHJcbiAgICAgIHk6IGNvbF9ib3gueSxcclxuICAgICAgd2lkdGg6IHhfdmVsLFxyXG4gICAgICBoZWlnaHQ6IGNvbF9ib3guaGVpZ2h0XHJcbiAgICB9O1xyXG4gICAgbGV0IHZlbCA9IHZlbG9jaXR5X21heChzdC52ZWxvY2l0eS54LGJveCxsaXN0LG9iLmlkLGRpcmVjdGlvbi5yaWdodCk7XHJcbiAgICBpZih2ZWwgPiAwKXtcclxuICAgICAgc3QucG9zaXRpb24ueCA9IHN0LnBvc2l0aW9uLnggKyB2ZWxcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHN0LnZlbG9jaXR5LnggPSAwOyAgXHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHhfdmVsIDwgMCkge1xyXG4gICAgbGV0IGJveCA9IHtcclxuICAgICAgeDogeF92ZWwvMiArIGNvbF9ib3gueCAtIGNvbF9ib3gud2lkdGgvMixcclxuICAgICAgeTogY29sX2JveC55LFxyXG4gICAgICB3aWR0aDogLTEgKiB4X3ZlbCxcclxuICAgICAgaGVpZ2h0OiBjb2xfYm94LmhlaWdodFxyXG4gICAgfVxyXG4gICAgbGV0IHZlbCA9IHZlbG9jaXR5X21heChzdC52ZWxvY2l0eS54LGJveCxsaXN0LG9iLmlkLGRpcmVjdGlvbi5sZWZ0KTtcclxuICAgIGlmKHZlbCA8IDApe1xyXG4gICAgICBzdC5wb3NpdGlvbi54ID0gc3QucG9zaXRpb24ueCArIHZlbFxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgc3QudmVsb2NpdHkueCA9IDA7IFxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAoeV92ZWwgPiAwKSB7XHJcbiAgICBsZXQgYm94ID0ge1xyXG4gICAgICB4OiBjb2xfYm94LngsXHJcbiAgICAgIHk6IGNvbF9ib3gueSArIGNvbF9ib3guaGVpZ2h0LzIgKyB5X3ZlbC8yLFxyXG4gICAgICB3aWR0aDogY29sX2JveC53aWR0aCxcclxuICAgICAgaGVpZ2h0OiB5X3ZlbFxyXG4gICAgfVxyXG4gICAgbGV0IHZlbCA9IHZlbG9jaXR5X21heChzdC52ZWxvY2l0eS55LGJveCxsaXN0LG9iLmlkLGRpcmVjdGlvbi51cCk7XHJcbiAgICBpZih2ZWwgPiAwKXtcclxuICAgICAgc3QucG9zaXRpb24ueSA9IHN0LnBvc2l0aW9uLnkgKyB2ZWw7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBzdC52ZWxvY2l0eS55ID0gMDtcclxuICAgIH1cclxuICB9XHJcbiAgZWxzZSBpZiAoeV92ZWwgPCAwKSB7XHJcbiAgICBsZXQgYm94ID0ge1xyXG4gICAgICB4OiBjb2xfYm94LngsXHJcbiAgICAgIHk6IHlfdmVsLzIgKyBjb2xfYm94LnkgLSBjb2xfYm94LmhlaWdodC8yLFxyXG4gICAgICB3aWR0aDogY29sX2JveC53aWR0aCxcclxuICAgICAgaGVpZ2h0OiAtMSAqIHlfdmVsXHJcbiAgICB9XHJcbiAgICBsZXQgdmVsID0gdmVsb2NpdHlfbWF4KHN0LnZlbG9jaXR5LnksYm94LGxpc3Qsb2IuaWQsZGlyZWN0aW9uLmRvd24pO1xyXG4gICAgaWYodmVsIDwgMCl7XHJcbiAgICAgIHN0LnBvc2l0aW9uLnkgPSBzdC5wb3NpdGlvbi55ICsgdmVsO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgc3QudmVsb2NpdHkueSA9IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgZyB9IGZyb20gXCIuLi9nYW1lL21haW5cIjtcclxuaW1wb3J0IHtnYW1lLFBBVVNFRCxERUJVRywgR2V0U2NyZWVuRGltZW5zaW9ucyxHZXRWaWV3cG9ydERpbWVuc2lvbnN9IGZyb20gXCIuLi92YW5cIjtcclxuaW1wb3J0IHsgY29sbGlzaW9uX2JveCB9IGZyb20gXCIuL2NvbGxpc2lvblwiO1xyXG5pbXBvcnQge29ian0gZnJvbSBcIi4vb2JqZWN0XCI7XHJcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuL3JlbmRlclwiO1xyXG5pbXBvcnQge1ZlY3Rvcn0gZnJvbSBcIi4vc3RhdGVcIjtcclxuaW1wb3J0IHtkZWJ1Z19zdGF0ZX0gZnJvbSBcIi4vZGVidWdcIjtcclxuXHJcbmludGVyZmFjZSBtb3VzZVBvc3tcclxuICB4Om51bWJlcixcclxuICB5Om51bWJlcixcclxuICBsYXN0OntcclxuICAgIHg6bnVtYmVyLFxyXG4gICAgeTpudW1iZXJcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBjb250cm9sX2Z1bmN7XHJcbiAgKCk6dm9pZFxyXG59XHJcblxyXG5pbnRlcmZhY2UgbW91c2VCaW5kc3tcclxuICBba2V5OnN0cmluZ106IEFycmF5PFtjb250cm9sX2Z1bmMsb2JqXT5cclxufVxyXG5cclxuaW50ZXJmYWNlIGtleUJpbmRze1xyXG4gIFtrZXk6c3RyaW5nXTogQXJyYXk8Y29udHJvbF9mdW5jPlxyXG59XHJcbmxldCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhcmdldFwiKTtcclxuLypcclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRfY2xpY2tfaGFuZGxlcihnYW1lOmdhbWU8dW5rbm93bj4pe1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZSk9PntcclxuICAgIFxyXG4gICAgbGV0IG1vdXNlID0gUG9sbF9Nb3VzZShnYW1lLnN0YXRlLmNhbWVyYXNbMF0pO1xyXG4gICAgaWYoIW1vdXNlKXtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsZXQgYm94OmNvbGxpc2lvbl9ib3ggPSB7XHJcbiAgICAgIHg6bW91c2UueCxcclxuICAgICAgeTptb3VzZS55LFxyXG4gICAgICBoZWlnaHQ6MSxcclxuICAgICAgd2lkdGg6MVxyXG4gICAgfTtcclxuICAgIFxyXG4gIGxldCBkOmJpbmRbXTtcclxuICBpZihERUJVRyl7XHJcbiAgICBpZihkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQgJiYgZGVidWdfc3RhdGUubGFzdF9jbGlja2VkLmlkID09IFwiZGVidWdfdGFyZ2V0XCIpe1xyXG4gICAgICBkID0gWy4uLmRlYnVnX2JpbmRzXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoIVBBVVNFRCAmJiBkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQgJiYgZGVidWdfc3RhdGUubGFzdF9jbGlja2VkLmlkID09IFwidGFyZ2V0XCIpe1xyXG4gICAgICBkPSBbLi4uYWxsX2JpbmRzXVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgZCA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxuICBlbHNle1xyXG4gICAgZCA9IFsuLi5hbGxfYmluZHNdO1xyXG4gIH1cclxuICAgIGZvcihsZXQgYSA9IDA7YSA8IGQubGVuZ3RoO2ErKyl7XHJcbiAgICAgIGxldCBzZWxlY3RlZCA9IGRbYV07XHJcbiAgICAgIGlmKHNlbGVjdGVkLnR5cGUgPT09IGJ0eXBlLm1vdXNlICYmIHNlbGVjdGVkLmtleSA9PT0gXCJtb3VzZTFcIiAmJiBzZWxlY3RlZC5leGVjdXRlID09IGV4ZWNfdHlwZS5vbmNlKXtcclxuICAgICAgICBpZihzZWxlY3RlZC5vYmogIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICBpZihzZWxlY3RlZC5vYmouY29sbGlkZXNXaXRoQm94KGJveCkpe1xyXG4gICAgICAgICAgICBzZWxlY3RlZC5mdW5jdGlvbigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgc2VsZWN0ZWQuZnVuY3Rpb24oKTsgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSAgXHJcbiAgfSlcclxufVxyXG4qL1xyXG5cclxubGV0IHdhc192YWxpZDpib29sZWFuID0gZmFsc2U7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgbGV0IGQ6IGJpbmRbXTtcclxuXHJcbiAgZnVuY3Rpb24gd2l0aGluX0NhbnZhcyhjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICBsZXQgd3JhdGlvID0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjYW52YXMpLndpZHRoKSAvIEdldFZpZXdwb3J0RGltZW5zaW9ucygpLndpZHRoO1xyXG4gICAgbGV0IHZyYXRpbyA9IHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoY2FudmFzKS5oZWlnaHQpIC8gR2V0Vmlld3BvcnREaW1lbnNpb25zKCkuaGVpZ2h0O1xyXG4gICAgbGV0IGJvdW5kcyA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGlmICh4ID4gYm91bmRzLmxlZnQgJiYgeCA8IGJvdW5kcy5yaWdodCAmJiB5IDwgYm91bmRzLmJvdHRvbSAmJiB5ID4gYm91bmRzLnRvcCkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChERUJVRykge1xyXG4gICAgaWYgKGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZCAmJiBkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQuaWQgPT0gXCJkZWJ1Z190YXJnZXRcIiAmJiB3aXRoaW5fQ2FudmFzKGcuc3RhdGUuY2FudmFzZXNbMV0pKSB7XHJcbiAgICAgIGQgPSBbLi4uZGVidWdfYmluZHNdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIVBBVVNFRCAmJiBkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQgJiYgZGVidWdfc3RhdGUubGFzdF9jbGlja2VkLmlkID09IFwidGFyZ2V0XCIgJiYgd2l0aGluX0NhbnZhcyhnLnN0YXRlLmNhbnZhc2VzWzBdKSkge1xyXG4gICAgICBkID0gWy4uLmFsbF9iaW5kc11cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBkID0gW107XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgZCA9IFsuLi5hbGxfYmluZHNdO1xyXG4gIH1cclxuICBmb3IgKGxldCBhID0gMDsgYSA8IGQubGVuZ3RoOyBhKyspIHtcclxuICAgIGxldCBzZWxlY3RlZCA9IGRbYV07XHJcbiAgICBpZiAoc2VsZWN0ZWQudHlwZSA9PT0gYnR5cGUubW91c2UgJiYgc2VsZWN0ZWQua2V5ID09PSAoXCJtb3VzZVwiICsgZS5idXR0b24gKyBcImRvd25cIikgJiYgIXNlbGVjdGVkLmV4ZWN1dGVkKSB7XHJcbiAgICAgIGlmIChzZWxlY3RlZC5leGVjdXRlID09PSBleGVjX3R5cGUub25jZSkge1xyXG4gICAgICAgIHNlbGVjdGVkLmZ1bmN0aW9uKCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoc2VsZWN0ZWQuZXhlY3V0ZSA9PT0gZXhlY190eXBlLnJlcGVhdCkge1xyXG4gICAgICAgIHNlbGVjdGVkLnJlcGVhdF90aW1lci5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHNlbGVjdGVkLmV4ZWN1dGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChzZWxlY3RlZC50eXBlID09PSBidHlwZS5tb3VzZSAmJiAoc2VsZWN0ZWQua2V5ID09PSAoXCJtb3VzZVwiICsgZS5idXR0b24gKyBcInVwXCIpIHx8IHNlbGVjdGVkLmtleSA9PSBcIm1vdXNldXBcIikgJiYgc2VsZWN0ZWQuZXhlY3V0ZWQgJiYgc2VsZWN0ZWQuZXhlY3V0ZSA9PT0gZXhlY190eXBlLm9uY2UpIHtcclxuICAgICAgc2VsZWN0ZWQuZXhlY3V0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNlbGVjdGVkLnR5cGUgPT09IGJ0eXBlLm1vdXNlICYmIChzZWxlY3RlZC5rZXkgPT09IChcIm1vdXNlXCIgKyBlLmJ1dHRvbiArIFwidXBcIikgfHwgc2VsZWN0ZWQua2V5ID09IFwibW91c2V1cFwiKSAmJiBzZWxlY3RlZC5leGVjdXRlZCAmJiBzZWxlY3RlZC5leGVjdXRlID09PSBleGVjX3R5cGUucmVwZWF0KSB7XHJcbiAgICAgIGxldCBnID0gWy4uLnJlcGVhdF9iaW5kc107XHJcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgZy5sZW5ndGg7IGErKykge1xyXG4gICAgICAgIGlmIChnW2FdLmJpbmQuaWQgPT09IHNlbGVjdGVkLmlkKSB7XHJcbiAgICAgICAgICBzZWxlY3RlZC5leGVjdXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgZ1thXS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBsZXQgZDpiaW5kW107XHJcbiAgaWYoREVCVUcpe1xyXG4gICAgaWYoZGVidWdfc3RhdGUubGFzdF9jbGlja2VkICYmIGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcImRlYnVnX3RhcmdldFwiKXtcclxuICAgICAgZCA9IFsuLi5kZWJ1Z19iaW5kc107XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKCFQQVVTRUQgJiYgZGVidWdfc3RhdGUubGFzdF9jbGlja2VkICYmIGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcInRhcmdldFwiKXtcclxuICAgICAgZD0gWy4uLmFsbF9iaW5kc11cclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIGQgPSBbXTtcclxuICAgIH1cclxuICB9XHJcbiAgZWxzZXtcclxuICAgIGQgPSBbLi4uYWxsX2JpbmRzXTtcclxuICB9XHJcbiAgZm9yIChsZXQgYSA9IDA7IGEgPCBkLmxlbmd0aDsgYSsrKSB7XHJcbiAgICBsZXQgc2VsZWN0ZWQgPSBkW2FdO1xyXG4gICAgaWYgKHNlbGVjdGVkLnR5cGUgPT09IGJ0eXBlLm1vdXNlICYmIHNlbGVjdGVkLmtleSA9PT0gKFwibW91c2VcIiArIGUuYnV0dG9uICsgXCJ1cFwiKSAgJiYgIXNlbGVjdGVkLmV4ZWN1dGVkKSB7XHJcbiAgICAgIGlmKHNlbGVjdGVkLmV4ZWN1dGUgPT09IGV4ZWNfdHlwZS5vbmNlKXtcclxuICAgICAgICBzZWxlY3RlZC5mdW5jdGlvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYoc2VsZWN0ZWQuZXhlY3V0ZSA9PT0gZXhlY190eXBlLnJlcGVhdCl7XHJcbiAgICAgICAgc2VsZWN0ZWQucmVwZWF0X3RpbWVyLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZWN0ZWQuZXhlY3V0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHNlbGVjdGVkLnR5cGUgPT09IGJ0eXBlLm1vdXNlICYmIChzZWxlY3RlZC5rZXkgPT09IChcIm1vdXNlXCIgKyBlLmJ1dHRvbiArIFwiZG93blwiKSB8fCBzZWxlY3RlZC5rZXkgPT0gXCJtb3VzZWRvd25cIikgJiYgc2VsZWN0ZWQuZXhlY3V0ZWQgJiYgc2VsZWN0ZWQuZXhlY3V0ZSA9PT0gZXhlY190eXBlLm9uY2UpIHtcclxuICAgICAgIHNlbGVjdGVkLmV4ZWN1dGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHNlbGVjdGVkLnR5cGUgPT09IGJ0eXBlLm1vdXNlICYmIChzZWxlY3RlZC5rZXkgPT09IChcIm1vdXNlXCIgKyBlLmJ1dHRvbiArIFwiZG93blwiKSB8fCBzZWxlY3RlZC5rZXkgPT0gXCJtb3VzZWRvd25cIikgJiYgc2VsZWN0ZWQuZXhlY3V0ZWQgJiYgc2VsZWN0ZWQuZXhlY3V0ZSA9PT0gZXhlY190eXBlLnJlcGVhdCl7XHJcbiAgICAgIGxldCBnID0gWy4uLnJlcGVhdF9iaW5kc107XHJcbiAgICAgIGZvcihsZXQgYSA9IDA7IGEgPCBnLmxlbmd0aDthKyspe1xyXG4gICAgICAgIGlmKGdbYV0uYmluZC5pZCA9PT0gc2VsZWN0ZWQuaWQpe1xyXG4gICAgICAgICAgc2VsZWN0ZWQuZXhlY3V0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGdbYV0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxyXG5pbnRlcmZhY2UgaGVsZF9rZXlze1xyXG4gIFtpbmRleDpzdHJpbmddOmJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGxldCBoZWxkX2tleXM6aGVsZF9rZXlzID0ge307XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsKGUpPT57XHJcbiAgbGV0IGNvZGU6c3RyaW5nO1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBpZihlLmRlbHRhWSA8IDApe1xyXG4gICAgY29kZSA9IFwic2Nyb2xsdXBcIjtcclxuICB9XHJcbiAgZWxzZSBpZihlLmRlbHRhWSA+IDApe1xyXG4gICAgY29kZSA9IFwic2Nyb2xsZG93blwiO1xyXG4gIH1cclxuXHJcbiAgbGV0IGQ6YmluZFtdO1xyXG4gIGlmKERFQlVHKXtcclxuICAgIGlmKGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZCAmJiBkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQuaWQgPT0gXCJkZWJ1Z190YXJnZXRcIil7XHJcbiAgICAgIGQgPSBbLi4uZGVidWdfYmluZHNdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZighUEFVU0VEICYmIGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZCAmJiBkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQuaWQgPT0gXCJ0YXJnZXRcIil7XHJcbiAgICAgIGQ9IFsuLi5hbGxfYmluZHNdXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBkID0gW107XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2V7XHJcbiAgICBkID0gWy4uLmFsbF9iaW5kc107XHJcbiAgfVxyXG4gIFxyXG4gIGZvciAobGV0IGEgPSAwOyBhIDwgZC5sZW5ndGg7IGErKykge1xyXG4gICAgbGV0IHNlbGVjdGVkID0gZFthXTtcclxuICAgIGlmIChzZWxlY3RlZC50eXBlID09PSBidHlwZS5tb3VzZSAmJiBzZWxlY3RlZC5rZXkgPT09IGNvZGUpIHtcclxuICAgICAgaWYoc2VsZWN0ZWQuZXhlY3V0ZSA9PT0gZXhlY190eXBlLm9uY2Upe1xyXG4gICAgICAgIHNlbGVjdGVkLmZ1bmN0aW9uKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICBoZWxkX2tleXNbZS5jb2RlXSA9IHRydWU7XHJcbiAgaWYoZS5jb2RlID09IFwiVGFiXCIpe1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH1cclxuICBsZXQgZDpiaW5kW107XHJcbiAgaWYoREVCVUcpe1xyXG4gICAgaWYoZGVidWdfc3RhdGUubGFzdF9jbGlja2VkICYmIGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcImRlYnVnX3RhcmdldFwiKXtcclxuICAgICAgZCA9IFsuLi5kZWJ1Z19iaW5kc107XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKCFQQVVTRUQgJiYgZGVidWdfc3RhdGUubGFzdF9jbGlja2VkICYmIGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcInRhcmdldFwiKXtcclxuICAgICAgZD0gWy4uLmFsbF9iaW5kc11cclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIGQgPSBbXTtcclxuICAgIH1cclxuICB9XHJcbiAgZWxzZXtcclxuICAgIGQgPSBbLi4uYWxsX2JpbmRzXTtcclxuICB9XHJcbiAgZm9yIChsZXQgYSA9IDA7IGEgPCBkLmxlbmd0aDsgYSsrKSB7XHJcbiAgICBsZXQgc2VsZWN0ZWQgPSBkW2FdO1xyXG4gICAgaWYgKHNlbGVjdGVkLnR5cGUgPT09IGJ0eXBlLmtleWJvYXJkICYmIHNlbGVjdGVkLmtleSA9PT0gZS5jb2RlICAmJiAhc2VsZWN0ZWQuZXhlY3V0ZWQpIHtcclxuICAgICAgaWYoc2VsZWN0ZWQuZXhlY3V0ZSA9PT0gZXhlY190eXBlLm9uY2Upe1xyXG4gICAgICAgIHNlbGVjdGVkLmZ1bmN0aW9uKCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZihzZWxlY3RlZC5leGVjdXRlID09PSBleGVjX3R5cGUucmVwZWF0KXtcclxuICAgICAgICBmb3IobGV0IGMgb2YgcmVwZWF0X2JpbmRzKXtcclxuICAgICAgICAgIGlmKGMuYmluZC5pZCA9PSBzZWxlY3RlZC5pZCl7XHJcbiAgICAgICAgICAgIGMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHNlbGVjdGVkLmV4ZWN1dGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbn0pXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGUpID0+IHtcclxuICBoZWxkX2tleXNbZS5jb2RlXSA9IGZhbHNlO1xyXG5cclxuICBsZXQgZDpiaW5kW107XHJcbiAgaWYoREVCVUcpe1xyXG4gICAgaWYoZGVidWdfc3RhdGUubGFzdF9jbGlja2VkICYmIGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcImRlYnVnX3RhcmdldFwiKXtcclxuICAgICAgZCA9IFsuLi5kZWJ1Z19iaW5kc107XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKCFQQVVTRUQgJiYgZGVidWdfc3RhdGUubGFzdF9jbGlja2VkICYmIGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcInRhcmdldFwiKXtcclxuICAgICAgZD0gWy4uLmFsbF9iaW5kc11cclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIGQgPSBbXTtcclxuICAgIH1cclxuICB9XHJcbiAgZWxzZXtcclxuICAgIGQgPSBbLi4uYWxsX2JpbmRzXTtcclxuICB9XHJcbiAgZm9yIChsZXQgYSA9IDA7IGEgPCBkLmxlbmd0aDsgYSsrKSB7XHJcbiAgICBsZXQgc2VsZWN0ZWQgPSBkW2FdO1xyXG4gICAgaWYgKHNlbGVjdGVkLnR5cGUgPT09IGJ0eXBlLmtleWJvYXJkICYmIHNlbGVjdGVkLmtleSA9PT0gZS5jb2RlICYmIHNlbGVjdGVkLmV4ZWN1dGVkKSB7XHJcbiAgICAgIGlmKHNlbGVjdGVkLmV4ZWN1dGUgPT09IGV4ZWNfdHlwZS5vbmNlICl7XHJcbiAgICAgICAgc2VsZWN0ZWQuZXhlY3V0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmKHNlbGVjdGVkLmV4ZWN1dGUgPT09IGV4ZWNfdHlwZS5yZXBlYXQpe1xyXG4gICAgICAgIGxldCBnID0gWy4uLnJlcGVhdF9iaW5kc107XHJcbiAgICAgICAgZm9yKGxldCBhID0gMDsgYSA8IGcubGVuZ3RoO2ErKyl7XHJcbiAgICAgICAgICBpZihnW2FdLmJpbmQuaWQgPT09IHNlbGVjdGVkLmlkKXtcclxuICAgICAgICAgICAgc2VsZWN0ZWQuZXhlY3V0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZ1thXS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSlcclxubGV0IHRyYWNrZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhcmdldFwiKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGUpID0+IHtcclxuICB2YXIgcmVjdCA9IChlLnRhcmdldCBhcyBIVE1MQ2FudmFzRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgO1xyXG4gIC8vY29uc29sZS5sb2coZS50YXJnZXQpXHJcbiAgbGFzdF94ID0geDtcclxuICBsYXN0X3kgPSB5O1xyXG4gIHggPSBlLmNsaWVudFg7IC8veCBwb3NpdGlvbiB3aXRoaW4gdGhlIGVsZW1lbnQuXHJcbiAgeSA9IGUuY2xpZW50WTsgIC8veSBwb3NpdGlvbiB3aXRoaW4gdGhlIGVsZW1lbnQuXHJcblxyXG59KVxyXG5cclxuZXhwb3J0IGVudW0gYnR5cGV7XHJcbiAgbW91c2UsXHJcbiAga2V5Ym9hcmRcclxufVxyXG5cclxuaW50ZXJmYWNlIGJpbmR7XHJcbiAga2V5OnN0cmluZyxcclxuICB0eXBlOmJ0eXBlLFxyXG4gIGlkOm51bWJlcixcclxuICBmdW5jdGlvbjpjb250cm9sX2Z1bmMsXHJcbiAgZXhlY3V0ZTpleGVjX3R5cGUsXHJcbiAgcmVwZWF0X3RpbWVyPzpyZXBlYXRfYmluZCxcclxuICBvYmo/Om9iaixcclxuICBleGVjdXRlZD86Ym9vbGVhbixcclxuICBpbnRlcnZhbD86bnVtYmVyLFxyXG4gIGNhbWVyYT86Q2FtZXJhXHJcbn1cclxuXHJcbmludGVyZmFjZSByZXBlYXRfYmluZHtcclxuICBiaW5kOmJpbmQsXHJcbiAgdGltZXI6bnVtYmVyLFxyXG4gIGludGVydmFsOm51bWJlcixcclxuICBhY3RpdmU6Ym9vbGVhblxyXG59XHJcblxyXG5sZXQgeCA9IDA7XHJcbmxldCB5ID0gMDtcclxubGV0IGxhc3RfeCA9IDA7XHJcbmxldCBsYXN0X3kgPSAwO1xyXG5sZXQgYmluZHM6a2V5QmluZHMgPSB7fTtcclxuZXhwb3J0IGxldCBkZWJ1Z19iaW5kczpiaW5kW10gPSBbXTtcclxubGV0IG1vdXNlQmluZHM6bW91c2VCaW5kcyA9IHt9O1xyXG5sZXQgYmluZF9jb3VudCA9IDA7XHJcblxyXG5sZXQgYWxsX2JpbmRzOkFycmF5PGJpbmQ+ID0gW11cclxuXHJcbmxldCByZXBlYXRfYmluZHM6QXJyYXk8cmVwZWF0X2JpbmQ+ID0gW107XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUG9sbF9Nb3VzZShjYW1lcmE6Q2FtZXJhLGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCA9IGcuc3RhdGUuY2FudmFzZXNbMF0pOlZlY3RvcntcclxuICBsZXQgaGVpZ2h0ID0gR2V0Vmlld3BvcnREaW1lbnNpb25zKCkuaGVpZ2h0O1xyXG4gIGxldCB3cmF0aW8gPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNhbnZhcykud2lkdGgpL0dldFZpZXdwb3J0RGltZW5zaW9ucygpLndpZHRoO1xyXG4gIGxldCB2cmF0aW8gPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNhbnZhcykuaGVpZ2h0KS9HZXRWaWV3cG9ydERpbWVuc2lvbnMoKS5oZWlnaHQ7XHJcbiAgbGV0IGJvdW5kcyA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBpZih4ID4gYm91bmRzLmxlZnQgJiYgeCA8IGJvdW5kcy5yaWdodCAmJiB5IDwgYm91bmRzLmJvdHRvbSAmJiB5ID4gYm91bmRzLnRvcCl7XHJcbiAgICBcclxuICAgIHJldHVybiAoe1xyXG4gICAgICB4OiAoKHggLSBib3VuZHMubGVmdCAtIGNhbWVyYS5zdGF0ZS52aWV3cG9ydC54KS93cmF0aW8vY2FtZXJhLnN0YXRlLnNjYWxpbmcgKyBjYW1lcmEuc3RhdGUucG9zaXRpb24ueCAtIGNhbWVyYS5zdGF0ZS5kaW1lbnNpb25zLndpZHRoL2NhbWVyYS5zdGF0ZS5zY2FsaW5nLzIpICxcclxuICAgICAgeTogKChoZWlnaHQgLSAoeS1ib3VuZHMudG9wKS92cmF0aW8pL2NhbWVyYS5zdGF0ZS5zY2FsaW5nICsgY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnkgLSBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy5oZWlnaHQvY2FtZXJhLnN0YXRlLnNjYWxpbmcvMiAtIGNhbWVyYS5zdGF0ZS52aWV3cG9ydC55KVxyXG4gICAgfSlcclxuICB9XHJcbiAgcmV0dXJuIHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEV4ZWN1dGVSZXBlYXRCaW5kcyhiOm51bWJlcil7XHJcbiAgZm9yKGxldCBhIG9mIHJlcGVhdF9iaW5kcyl7XHJcbiAgICBpZihhLmJpbmQuZXhlY3V0ZSA9PT0gZXhlY190eXBlLnJlcGVhdCAmJiBhLnRpbWVyID09IDAgJiYgYS5hY3RpdmUpe1xyXG4gICAgICBhLmJpbmQuZnVuY3Rpb24oKTtcclxuICAgIH1cclxuICAgIGlmKGEuYWN0aXZlIHx8ICghYS5hY3RpdmUgJiYgYS50aW1lciAhPSAwKSlcclxuICAgICAgYS50aW1lciArPSBiO1xyXG4gICAgaWYoYS50aW1lciA+IGEuaW50ZXJ2YWwpe1xyXG4gICAgICBhLnRpbWVyID0gMDsgXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVW5iaW5kKGJpbmRfaWQ6bnVtYmVyKXtcclxuICBmb3IobGV0IGEgPSAwO2EgPCBhbGxfYmluZHMubGVuZ3RoOyBhKyspe1xyXG4gICAgaWYoYWxsX2JpbmRzW2FdLmlkID09IGJpbmRfaWQpe1xyXG4gICAgICBhbGxfYmluZHMuc3BsaWNlKGEsMSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICBmb3IobGV0IGEgPSAwO2EgPCByZXBlYXRfYmluZHMubGVuZ3RoOyBhKyspe1xyXG4gICAgaWYocmVwZWF0X2JpbmRzW2FdLmJpbmQuaWQgPT0gYmluZF9pZCl7XHJcbiAgICAgIHJlcGVhdF9iaW5kcy5zcGxpY2UoYSwxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBleGVjX3R5cGV7XHJcbiAgb25jZSxcclxuICByZXBlYXRcclxufVxyXG5cclxubGV0IGlkID0gMDtcclxuZXhwb3J0IGZ1bmN0aW9uIEJpbmQoa2V5bmFtZTpzdHJpbmcsZnVuYzpjb250cm9sX2Z1bmMsdHlwZTpleGVjX3R5cGUsaW50ZXJ2YWw6bnVtYmVyLG9iamVjdD86b2JqKTpudW1iZXJ7XHJcbiAgaWYoa2V5bmFtZS5zbGljZSgwLDUpID09PSBcIm1vdXNlXCIgfHwga2V5bmFtZS5zbGljZSgwLDYpID09PSBcInNjcm9sbFwiKXtcclxuICAgIGxldCBiOmJpbmQgPSB7XHJcbiAgICAgIGtleTprZXluYW1lLFxyXG4gICAgICB0eXBlOmJ0eXBlLm1vdXNlLFxyXG4gICAgICBpZCxcclxuICAgICAgZnVuY3Rpb246ZnVuYyxcclxuICAgICAgb2JqOm9iamVjdCxcclxuICAgICAgZXhlY3V0ZTp0eXBlLFxyXG4gICAgICBleGVjdXRlZDpmYWxzZSxcclxuICAgICAgaW50ZXJ2YWxcclxuICAgIH07XHJcbiAgICBpZih0eXBlID09IGV4ZWNfdHlwZS5yZXBlYXQpe1xyXG4gICAgICBiLnJlcGVhdF90aW1lciA9IHtcclxuICAgICAgICBiaW5kOmIsXHJcbiAgICAgICAgdGltZXI6MCxcclxuICAgICAgICBpbnRlcnZhbCxcclxuICAgICAgICBhY3RpdmU6ZmFsc2VcclxuICAgICAgfVxyXG4gICAgICByZXBlYXRfYmluZHMucHVzaChiLnJlcGVhdF90aW1lcik7XHJcbiAgICB9XHJcbiAgICBhbGxfYmluZHMucHVzaChiKTtcclxuXHJcbiAgfVxyXG4gIGVsc2V7XHJcbiAgICBsZXQgYjpiaW5kID0ge1xyXG4gICAgICBrZXk6a2V5bmFtZSxcclxuICAgICAgdHlwZTpidHlwZS5rZXlib2FyZCxcclxuICAgICAgaWQsXHJcbiAgICAgIGZ1bmN0aW9uOmZ1bmMsXHJcbiAgICAgIGV4ZWN1dGU6dHlwZSxcclxuICAgICAgZXhlY3V0ZWQ6ZmFsc2UsXHJcbiAgICAgIGludGVydmFsXHJcbiAgICB9XHJcbiAgICBpZih0eXBlID09IGV4ZWNfdHlwZS5yZXBlYXQpe1xyXG4gICAgICBiLnJlcGVhdF90aW1lciA9IHtcclxuICAgICAgICBiaW5kOmIsXHJcbiAgICAgICAgdGltZXI6MCxcclxuICAgICAgICBpbnRlcnZhbCxcclxuICAgICAgICBhY3RpdmU6ZmFsc2VcclxuICAgICAgfVxyXG4gICAgICByZXBlYXRfYmluZHMucHVzaChiLnJlcGVhdF90aW1lcik7XHJcbiAgICB9XHJcbiAgICBhbGxfYmluZHMucHVzaChiKTtcclxuICB9XHJcbiAgaWQrKztcclxuICByZXR1cm4gaWQgLSAxO1xyXG59IiwiaW1wb3J0IHsgREVCVUcsIFBBVVNFRCwgc2V0UGF1c2VkLCB2aWV3cG9ydCB9IGZyb20gXCIuLi92YW5cIjtcclxuZXhwb3J0IGxldCBwYXRoOmFueTsgXHJcbmxldCBmczphbnk7XHJcbmxldCBpcGNSZW5kZXJlcjphbnk7XHJcbmltcG9ydCB7IHByZWZhYnMgfSBmcm9tIFwiLi4vZ2FtZS9vYmplY3RzL3ByZWZhYnNcIjtcclxuZXhwb3J0IGxldCBwcm9qZWN0X3BhdGggPSBcIlwiO1xyXG5leHBvcnQgbGV0IHJvb3RfcGF0aCA9IFwiXCI7XHJcbmlmKERFQlVHKXtcclxuIHBhdGggPSAgd2luZG93LnJlcXVpcmUoXCJwYXRoXCIpO1xyXG4gZnMgPSB3aW5kb3cucmVxdWlyZShcImZzXCIpO1xyXG4gaXBjUmVuZGVyZXIgID0gd2luZG93LnJlcXVpcmUoXCJlbGVjdHJvblwiKS5pcGNSZW5kZXJlcjtcclxuIHByb2plY3RfcGF0aCA9IGlwY1JlbmRlcmVyLnNlbmRTeW5jKCdwYXRoLXJlcXVlc3QnLCAncGluZycpWzBdXHJcbiByb290X3BhdGggPSBwYXRoLmpvaW4ocHJvamVjdF9wYXRoLFwiLi5cIilcclxufVxyXG5pbXBvcnQgeyBvYmosIHBhcmFtcyB9IGZyb20gXCIuL29iamVjdFwiO1xyXG5pbXBvcnQgeyBvYmpfc3RhdGUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xyXG5pbXBvcnQge29iamVjdF90ZW1wbGF0ZX0gZnJvbSBcIi4vdGVtcGxhdGVzL29iamVjdF90ZW1wbGF0ZVwiO1xyXG5pbXBvcnQge3Jvb21fdGVtcGxhdGV9IGZyb20gXCIuL3RlbXBsYXRlcy9yb29tX3RlbXBsYXRlXCI7XHJcbmltcG9ydCB7IGcgfSBmcm9tIFwiLi4vZ2FtZS9tYWluXCI7XHJcbmltcG9ydCB7IHJvb21zIGFzIHJvb21fbGlzdCB9IGZyb20gXCIuLi9nYW1lL3Jvb21zL3Jvb21zXCI7XHJcbmltcG9ydCB7IEJpbmQsIGJ0eXBlLCBQb2xsX01vdXNlLCBleGVjX3R5cGUsIGhlbGRfa2V5cywgZGVidWdfYmluZHMgfSBmcm9tIFwiLi4vbGliL2NvbnRyb2xzXCI7XHJcbmltcG9ydCB7IEhVRCwgVGV4dCB9IGZyb20gXCIuLi9saWIvaHVkXCI7XHJcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi9saWIvcmVuZGVyXCI7XHJcbmltcG9ydCB7IFZlY3RvciwgZGltZW5zaW9uc30gZnJvbSBcIi4uL2xpYi9zdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlYnVnX2h1ZCBleHRlbmRzIEhVRCB7XHJcbiAgc2V0VGV4dEVsZW1lbnRzKCkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgbmV3IFRleHQoe1xyXG4gICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICB4OiAxMCxcclxuICAgICAgICAgIHk6IHZpZXdwb3J0LmhlaWdodCAtIDI0XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzaXplOiAyMixcclxuICAgICAgICBmb250OiBcIkFsYXRhXCIsXHJcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICBhbGlnbjogXCJsZWZ0XCIsXHJcbiAgICAgICAgc2NhbGluZzogMVxyXG4gICAgICB9LCAoKSA9PiBkZWJ1Z19zdGF0ZS5yZW5kZXJfZGVsdGFfdGltZSA+IDAgPyBNYXRoLnJvdW5kKDEwMDAvZGVidWdfc3RhdGUucmVuZGVyX2RlbHRhX3RpbWUpICsgXCJcIiA6IFwiXCIpLFxyXG4gICAgICBuZXcgVGV4dCh7XHJcbiAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgeDogMTAsXHJcbiAgICAgICAgeTogMTBcclxuICAgICAgfSxcclxuICAgICAgc2l6ZTogMjIsXHJcbiAgICAgIGZvbnQ6IFwiQWxhdGFcIixcclxuICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgYWxpZ246IFwibGVmdFwiLFxyXG4gICAgICBzY2FsaW5nOiAxXHJcbiAgICB9LCAoKSA9PiBgWDoke2RlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5wb3NpdGlvbi54LnRvRml4ZWQoMCl9YCksXHJcbiAgICBuZXcgVGV4dCh7XHJcbiAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgeDogMTAsXHJcbiAgICAgICAgeTogMzJcclxuICAgICAgfSxcclxuICAgICAgc2l6ZTogMjIsXHJcbiAgICAgIGZvbnQ6IFwiQWxhdGFcIixcclxuICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgYWxpZ246IFwibGVmdFwiLFxyXG4gICAgICBzY2FsaW5nOiAxXHJcbiAgICB9LCAoKSA9PiBgWToke2RlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5wb3NpdGlvbi55LnRvRml4ZWQoMCl9YCksXHJcbiAgICBuZXcgVGV4dCh7XHJcbiAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgeDogdmlld3BvcnQud2lkdGggLSAxMCxcclxuICAgICAgICB5OiAzMlxyXG4gICAgICB9LFxyXG4gICAgICBzaXplOiAyMixcclxuICAgICAgZm9udDogXCJBbGF0YVwiLFxyXG4gICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgICBhbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICBzY2FsaW5nOiAxXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIGxldCBtb3VzZSA9IFBvbGxfTW91c2UoZGVidWdfc3RhdGUuY2FtZXJhLGRlYnVnX3N0YXRlLnRhcmdldCk7XHJcbiAgICAgIGlmKG1vdXNlKXtcclxuICAgICAgICByZXR1cm4gYCR7bW91c2UueC50b0ZpeGVkKDApfTpYYFxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBgOlhgXHJcbiAgICB9KSxcclxuICAgIG5ldyBUZXh0KHtcclxuICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICB4OiB2aWV3cG9ydC53aWR0aCAtIDEwLFxyXG4gICAgICAgIHk6IDEwXHJcbiAgICAgIH0sXHJcbiAgICAgIHNpemU6IDIyLFxyXG4gICAgICBmb250OiBcIkFsYXRhXCIsXHJcbiAgICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICAgIGFsaWduOiBcInJpZ2h0XCIsXHJcbiAgICAgIHNjYWxpbmc6IDFcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgbGV0IG1vdXNlID0gUG9sbF9Nb3VzZShkZWJ1Z19zdGF0ZS5jYW1lcmEsZGVidWdfc3RhdGUudGFyZ2V0KTtcclxuICAgICAgaWYobW91c2Upe1xyXG4gICAgICAgIHJldHVybiBgJHttb3VzZS55LnRvRml4ZWQoMCl9OllgXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGA6WWBcclxuICAgIH0pLFxyXG4gICAgbmV3IFRleHQoe1xyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIHg6IHZpZXdwb3J0LndpZHRoIC0gMTAsXHJcbiAgICAgICAgeTogdmlld3BvcnQuaGVpZ2h0IC0gMjRcclxuICAgICAgfSxcclxuICAgICAgc2l6ZTogMjIsXHJcbiAgICAgIGZvbnQ6IFwiQWxhdGFcIixcclxuICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgYWxpZ246IFwicmlnaHRcIixcclxuICAgICAgc2NhbGluZzogMVxyXG4gICAgfSwgKCkgPT4ge1xyXG4gICAgICByZXR1cm4gYCR7Zy5zdGF0ZS5jdXJyZW50X3Jvb20uY29uc3RydWN0b3IubmFtZX0udHNgXHJcbiAgICB9KVxyXG4gICAgXTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z19zdGF0ZWYodDogbnVtYmVyKSB7XHJcbiAgbGV0IG1vdXNlID0gUG9sbF9Nb3VzZShkZWJ1Z19zdGF0ZS5jYW1lcmEsIGRlYnVnX3N0YXRlLnRhcmdldCk7XHJcbiAgaWYgKGRlYnVnX3N0YXRlLmNhbWVyYS5odWQpIHtcclxuICAgIGRlYnVnX3N0YXRlLmNhbWVyYS5odWQuc3RhdGVmKHQpO1xyXG4gIH1cclxuICBpZiAoIVBBVVNFRCkge1xyXG4gICAgZGVidWdfdXBkYXRlX3Byb3BlcnRpZXNfZWxlbWVudCgpO1xyXG4gIH1cclxuICBpZihtb3VzZSl7XHJcbiAgICBpZiAoZGVidWdfc3RhdGUuc2VsZWN0ZWRfZWxlbWVudCkge1xyXG4gICAgICBpZiAoUEFVU0VEICYmIGhlbGRfa2V5c1tcIkNvbnRyb2xMZWZ0XCJdICYmIGRlYnVnX3N0YXRlLmN1cnJlbnRfYWN0aW9uLnByb3BlcnR5ID09IFwic2NhbGluZ1wiKSB7XHJcbiAgICAgICAgbGV0IGRpc3QgPSB7XHJcbiAgICAgICAgICB4OiBNYXRoLmFicyhtb3VzZS54IC0gZGVidWdfc3RhdGUuc2VsZWN0ZWRfZWxlbWVudC5zdGF0ZS5wb3NpdGlvbi54KSxcclxuICAgICAgICAgIHk6IE1hdGguYWJzKG1vdXNlLnkgLSBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9lbGVtZW50LnN0YXRlLnBvc2l0aW9uLnkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlYnVnX3N0YXRlLnNlbGVjdGVkX2VsZW1lbnQuc3RhdGUuc2NhbGluZy53aWR0aCA9ICgyICogZGlzdC54KSAvIGRlYnVnX3N0YXRlLnNlbGVjdGVkX2VsZW1lbnQud2lkdGg7XHJcbiAgICAgICAgZGVidWdfc3RhdGUuc2VsZWN0ZWRfZWxlbWVudC5zdGF0ZS5zY2FsaW5nLmhlaWdodCA9ICgyICogZGlzdC55KSAvIGRlYnVnX3N0YXRlLnNlbGVjdGVkX2VsZW1lbnQuaGVpZ2h0O1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBzdCA9IGRlYnVnX3N0YXRlLnNlbGVjdGVkX2VsZW1lbnQuc3RhdGU7XHJcbiAgICAgICAgc3QucG9zaXRpb24ueCA9IG1vdXNlLnggLSBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9lbGVtZW50X29mZnNldC54LFxyXG4gICAgICAgIHN0LnBvc2l0aW9uLnkgPSBtb3VzZS55IC0gZGVidWdfc3RhdGUuc2VsZWN0ZWRfZWxlbWVudF9vZmZzZXQueVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoUEFVU0VEICYmIGRlYnVnX3N0YXRlLnJvdGF0aW9uX2VsZW1lbnQpIHtcclxuICAgICAgZGVidWdfc3RhdGUucm90YXRpb25fZWxlbWVudC5zdGF0ZS5yb3RhdGlvbiA9IGRlYnVnX3N0YXRlLnJvdGF0aW9uX2VsZW1lbnQuYW5nbGVUb3dhcmRzUG9pbnQobW91c2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlYnVnX3N0YXRlLm1pZGRsZV9wb3NpdGlvbikge1xyXG4gICAgICBsZXQgZGlmZl95ID0gbW91c2UueSAtIGRlYnVnX3N0YXRlLm1pZGRsZV9wb3NpdGlvbi55O1xyXG4gICAgICBsZXQgZGlmZl94ID0gbW91c2UueCAtIGRlYnVnX3N0YXRlLm1pZGRsZV9wb3NpdGlvbi54O1xyXG4gICAgICBkZWJ1Z19zdGF0ZS5jYW1lcmEuc3RhdGUucG9zaXRpb24ueCA9IGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5wb3NpdGlvbi54ICsgLTEgKiBkaWZmX3g7XHJcbiAgICAgIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5wb3NpdGlvbi55ID0gZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnkgKyAtMSAqIGRpZmZfeTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z191cGRhdGVfcm9vbV9saXN0KCkge1xyXG4gIGxldCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tX2xpc3RcIik7XHJcbiAgbGlzdC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIGZvciAobGV0IHJvb21fbmFtZSBvZiBPYmplY3Qua2V5cyhyb29tX2xpc3QpKSB7XHJcbiAgICBsZXQgcGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgcGFyYS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyb29tX25hbWUpKTtcclxuICAgIHBhcmEuY2xhc3NMaXN0LmFkZChcInJvb21fbGlzdF9pdGVtXCIpO1xyXG4gICAgcGFyYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgZy5sb2FkUm9vbVN0cmluZyhyb29tX25hbWUpO1xyXG4gICAgfSlcclxuICAgIGxpc3QuYXBwZW5kQ2hpbGQocGFyYSk7XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgcHJvcGVydGllc19lbGVtZW50IHtcclxuICBwb3NfeDogSFRNTElucHV0RWxlbWVudCxcclxuICBwb3NfeTogSFRNTElucHV0RWxlbWVudCxcclxuICB2ZWxfeDogSFRNTElucHV0RWxlbWVudCxcclxuICB2ZWxfeTogSFRNTElucHV0RWxlbWVudCxcclxuICByb3Q6IEhUTUxJbnB1dEVsZW1lbnQsXHJcbiAgc2NhX3g6IEhUTUxJbnB1dEVsZW1lbnQsXHJcbiAgc2NhX3k6IEhUTUxJbnB1dEVsZW1lbnQsXHJcbiAgcmVuZGVyOiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gIGNvbGxpc2lvbjogSFRNTElucHV0RWxlbWVudCxcclxuICB0YWdzOkhUTUxJbnB1dEVsZW1lbnQsXHJcbiAgbGF5ZXI6SFRNTElucHV0RWxlbWVudFxyXG59XHJcbmxldCBwcm9wZXJ0aWVzX2VsZW1lbnRzOiBwcm9wZXJ0aWVzX2VsZW1lbnQgPSB1bmRlZmluZWQ7XHJcbmlmIChERUJVRykge1xyXG4gIHByb3BlcnRpZXNfZWxlbWVudHMgPSB7XHJcbiAgICBwb3NfeDogKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zX3hcIikpLFxyXG4gICAgcG9zX3k6ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc195XCIpKSxcclxuICAgIHZlbF94OiAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZWxfeFwiKSksXHJcbiAgICB2ZWxfeTogKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmVsX3lcIikpLFxyXG4gICAgcm90OiAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb3RcIikpLFxyXG4gICAgc2NhX3g6ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjYV94XCIpKSxcclxuICAgIHNjYV95OiAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY2FfeVwiKSksXHJcbiAgICByZW5kZXI6ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmRlclwiKSksXHJcbiAgICBjb2xsaXNpb246ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbGxpc2lvblwiKSksXHJcbiAgICB0YWdzOiAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWdzXCIpKSxcclxuICAgIGxheWVyOig8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxheWVyXCIpKVxyXG4gIH1cclxuXHJcbiAgbGV0IGlucHV0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIik7XHJcbiAgZm9yIChsZXQgYSA9IDA7IGEgPCBpbnB1dHMubGVuZ3RoOyBhKyspIHtcclxuICAgIGlucHV0c1thXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgKDxIVE1MRWxlbWVudD5pbnB1dHNbYV0pLmZvY3VzKCk7XHJcbiAgICB9KVxyXG4gIH1cclxuICBsZXQgZm9jdXNlZDtcclxuICBsZXQgZGVidWdfdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Z190YXJnZXRcIilcclxuICBkZWJ1Z190YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBmb3IgKGxldCBhID0gMDsgYSA8IGlucHV0cy5sZW5ndGg7IGErKykge1xyXG4gICAgICBpbnB1dHNbYV0uYmx1cigpO1xyXG4gICAgfVxyXG4gIH0pXHJcbiAgbGV0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFyZ2V0XCIpO1xyXG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGZvciAobGV0IGEgPSAwOyBhIDwgaW5wdXRzLmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgIGlucHV0c1thXS5ibHVyKCk7XHJcbiAgICB9XHJcbiAgfSlcclxuICBwcm9wZXJ0aWVzX2VsZW1lbnRzLnBvc194LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG5cclxuICAgIGxldCBlbGUgPSBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9wcm9wZXJ0aWVzX2VsZW1lbnQ7XHJcbiAgICBsZXQgbmV3X3ZhbCA9IHBhcnNlRmxvYXQocHJvcGVydGllc19lbGVtZW50cy5wb3NfeC52YWx1ZSkgfHwgMDtcclxuICAgIGRlYnVnX3N0YXRlLmFjdGlvbnNfc3RhY2sucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBcInBvc2l0aW9uXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGVsZSxcclxuICAgICAgbmV3OiBKU09OLnN0cmluZ2lmeSh7IHg6IG5ld192YWwsIHk6IGVsZS5zdGF0ZS5wb3NpdGlvbi55IH0pLFxyXG4gICAgICBvbGQ6IEpTT04uc3RyaW5naWZ5KGVsZS5zdGF0ZS5wb3NpdGlvbilcclxuICAgIH0pXHJcbiAgICBlbGUuc3RhdGUucG9zaXRpb24ueCA9IG5ld192YWw7XHJcbiAgfSlcclxuICBwcm9wZXJ0aWVzX2VsZW1lbnRzLnBvc195LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgbGV0IGVsZSA9IGRlYnVnX3N0YXRlLnNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudDtcclxuICAgIGxldCBuZXdfdmFsID0gcGFyc2VGbG9hdChwcm9wZXJ0aWVzX2VsZW1lbnRzLnBvc195LnZhbHVlKSB8fCAwO1xyXG4gICAgZGVidWdfc3RhdGUuYWN0aW9uc19zdGFjay5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IFwicG9zaXRpb25cIixcclxuICAgICAgZWxlbWVudDogZWxlLFxyXG4gICAgICBuZXc6IEpTT04uc3RyaW5naWZ5KHsgeDogZWxlLnN0YXRlLnBvc2l0aW9uLngsIHk6IG5ld192YWwgfSksXHJcbiAgICAgIG9sZDogSlNPTi5zdHJpbmdpZnkoZWxlLnN0YXRlLnBvc2l0aW9uKVxyXG4gICAgfSlcclxuICAgIGVsZS5zdGF0ZS5wb3NpdGlvbi55ID0gbmV3X3ZhbDtcclxuICB9KVxyXG4gIHByb3BlcnRpZXNfZWxlbWVudHMudmVsX3guYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICBsZXQgZWxlID0gZGVidWdfc3RhdGUuc2VsZWN0ZWRfcHJvcGVydGllc19lbGVtZW50O1xyXG4gICAgZWxlLnN0YXRlLnZlbG9jaXR5LnggPSBwYXJzZUZsb2F0KHByb3BlcnRpZXNfZWxlbWVudHMudmVsX3gudmFsdWUpIHx8IDA7XHJcbiAgfSlcclxuICBwcm9wZXJ0aWVzX2VsZW1lbnRzLnZlbF95LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgbGV0IGVsZSA9IGRlYnVnX3N0YXRlLnNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudDtcclxuICAgIGVsZS5zdGF0ZS52ZWxvY2l0eS55ID0gcGFyc2VGbG9hdChwcm9wZXJ0aWVzX2VsZW1lbnRzLnZlbF95LnZhbHVlKSB8fCAwO1xyXG4gIH0pXHJcbiAgcHJvcGVydGllc19lbGVtZW50cy5yb3QuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICBsZXQgZWxlID0gZGVidWdfc3RhdGUuc2VsZWN0ZWRfcHJvcGVydGllc19lbGVtZW50O1xyXG4gICAgbGV0IG5ld192YWwgPSBwYXJzZUZsb2F0KHByb3BlcnRpZXNfZWxlbWVudHMucm90LnZhbHVlKSB8fCAwO1xyXG4gICAgZGVidWdfc3RhdGUuYWN0aW9uc19zdGFjay5wdXNoKHtcclxuICAgICAgcHJvcGVydHk6IFwicm90YXRpb25cIixcclxuICAgICAgZWxlbWVudDogZWxlLFxyXG4gICAgICBuZXc6IEpTT04uc3RyaW5naWZ5KG5ld192YWwpLFxyXG4gICAgICBvbGQ6IEpTT04uc3RyaW5naWZ5KGVsZS5zdGF0ZS5yb3RhdGlvbilcclxuICAgIH0pXHJcbiAgICBlbGUuc3RhdGUucm90YXRpb24gPSBuZXdfdmFsO1xyXG4gIH0pXHJcbiAgcHJvcGVydGllc19lbGVtZW50cy5zY2FfeC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcclxuICAgIGxldCBlbGUgPSBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9wcm9wZXJ0aWVzX2VsZW1lbnQ7XHJcbiAgICBsZXQgbmV3X3ZhbCA9IHBhcnNlRmxvYXQocHJvcGVydGllc19lbGVtZW50cy5zY2FfeC52YWx1ZSkgfHwgMDtcclxuICAgIGRlYnVnX3N0YXRlLmFjdGlvbnNfc3RhY2sucHVzaCh7XHJcbiAgICAgIHByb3BlcnR5OiBcInNjYWxpbmdcIixcclxuICAgICAgZWxlbWVudDogZWxlLFxyXG4gICAgICBuZXc6IEpTT04uc3RyaW5naWZ5KHsgd2lkdGg6IG5ld192YWwsIGhlaWdodDogZWxlLnN0YXRlLnNjYWxpbmcuaGVpZ2h0IH0pLFxyXG4gICAgICBvbGQ6IEpTT04uc3RyaW5naWZ5KGVsZS5zdGF0ZS5zY2FsaW5nKVxyXG4gICAgfSlcclxuICAgIGVsZS5zdGF0ZS5zY2FsaW5nLndpZHRoID0gbmV3X3ZhbDtcclxuICB9KVxyXG4gIHByb3BlcnRpZXNfZWxlbWVudHMuc2NhX3kuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICBsZXQgZWxlID0gZGVidWdfc3RhdGUuc2VsZWN0ZWRfcHJvcGVydGllc19lbGVtZW50O1xyXG4gICAgbGV0IG5ld192YWwgPSBwYXJzZUZsb2F0KHByb3BlcnRpZXNfZWxlbWVudHMuc2NhX3kudmFsdWUpIHx8IDA7XHJcbiAgICBkZWJ1Z19zdGF0ZS5hY3Rpb25zX3N0YWNrLnB1c2goe1xyXG4gICAgICBwcm9wZXJ0eTogXCJzY2FsaW5nXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGVsZSxcclxuICAgICAgbmV3OiBKU09OLnN0cmluZ2lmeSh7IHdpZHRoOiBlbGUuc3RhdGUuc2NhbGluZy53aWR0aCwgaGVpZ2h0OiBuZXdfdmFsIH0pLFxyXG4gICAgICBvbGQ6IEpTT04uc3RyaW5naWZ5KGVsZS5zdGF0ZS5zY2FsaW5nKVxyXG4gICAgfSlcclxuICAgIGVsZS5zdGF0ZS5zY2FsaW5nLmhlaWdodCA9IG5ld192YWw7XHJcbiAgfSlcclxuICBwcm9wZXJ0aWVzX2VsZW1lbnRzLnJlbmRlci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcclxuICAgIGxldCBlbGUgPSBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9wcm9wZXJ0aWVzX2VsZW1lbnQ7XHJcbiAgICBlbGUucmVuZGVyID0gcHJvcGVydGllc19lbGVtZW50cy5yZW5kZXIuY2hlY2tlZDtcclxuICB9KVxyXG4gIHByb3BlcnRpZXNfZWxlbWVudHMuY29sbGlzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgbGV0IGVsZSA9IGRlYnVnX3N0YXRlLnNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudDtcclxuICAgIGVsZS5jb2xsaXNpb24gPSBwcm9wZXJ0aWVzX2VsZW1lbnRzLmNvbGxpc2lvbi5jaGVja2VkO1xyXG4gIH0pXHJcbiAgcHJvcGVydGllc19lbGVtZW50cy50YWdzLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgbGV0IGVsZSA9IGRlYnVnX3N0YXRlLnNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudDtcclxuICAgIGVsZS50YWdzID0gcHJvcGVydGllc19lbGVtZW50cy50YWdzLnZhbHVlLnNwbGl0KFwiLFwiKTtcclxuICB9KVxyXG4gIHByb3BlcnRpZXNfZWxlbWVudHMubGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICBsZXQgZWxlID0gZGVidWdfc3RhdGUuc2VsZWN0ZWRfcHJvcGVydGllc19lbGVtZW50O1xyXG4gICAgZWxlLmxheWVyID0gcGFyc2VJbnQocHJvcGVydGllc19lbGVtZW50cy5sYXllci52YWx1ZSk7XHJcbiAgfSlcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZV9lbGVtZW50XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgbGV0IGVsZSA9IGRlYnVnX3N0YXRlLnNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudDtcclxuICAgIGVsZS5kZWxldGUoKTtcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVidWdfdXBkYXRlX3Byb3BlcnRpZXNfZWxlbWVudCgpIHtcclxuICBpZiAoZGVidWdfc3RhdGUuc2VsZWN0ZWRfcHJvcGVydGllc19lbGVtZW50KSB7XHJcbiAgICBsZXQgZWxlID0gZGVidWdfc3RhdGUuc2VsZWN0ZWRfcHJvcGVydGllc19lbGVtZW50O1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvYmpfbmFtZVwiKS5pbm5lckhUTUwgPSBlbGUuY29uc3RydWN0b3IubmFtZTtcclxuICAgIHByb3BlcnRpZXNfZWxlbWVudHMucG9zX3gudmFsdWUgPSBcIlwiICsgZWxlLnN0YXRlLnBvc2l0aW9uLngudG9GaXhlZCgyKTtcclxuICAgIHByb3BlcnRpZXNfZWxlbWVudHMucG9zX3kudmFsdWUgPSBcIlwiICsgZWxlLnN0YXRlLnBvc2l0aW9uLnkudG9GaXhlZCgyKTtcclxuICAgIHByb3BlcnRpZXNfZWxlbWVudHMudmVsX3gudmFsdWUgPSBcIlwiICsgZWxlLnN0YXRlLnZlbG9jaXR5LngudG9GaXhlZCgyKTtcclxuICAgIHByb3BlcnRpZXNfZWxlbWVudHMudmVsX3kudmFsdWUgPSBcIlwiICsgZWxlLnN0YXRlLnZlbG9jaXR5LnkudG9GaXhlZCgyKTtcclxuICAgIHByb3BlcnRpZXNfZWxlbWVudHMucm90LnZhbHVlID0gXCJcIiArIGVsZS5zdGF0ZS5yb3RhdGlvbi50b0ZpeGVkKDIpO1xyXG4gICAgcHJvcGVydGllc19lbGVtZW50cy5zY2FfeC52YWx1ZSA9IFwiXCIgKyBlbGUuc3RhdGUuc2NhbGluZy53aWR0aC50b0ZpeGVkKDIpO1xyXG4gICAgcHJvcGVydGllc19lbGVtZW50cy5zY2FfeS52YWx1ZSA9IFwiXCIgKyBlbGUuc3RhdGUuc2NhbGluZy5oZWlnaHQudG9GaXhlZCgyKTtcclxuICAgIHByb3BlcnRpZXNfZWxlbWVudHMudGFncy52YWx1ZSA9IFwiXCIgKyBlbGUudGFncy5qb2luKFwiLFwiKTtcclxuICAgIHByb3BlcnRpZXNfZWxlbWVudHMucmVuZGVyLmNoZWNrZWQgPSBlbGUucmVuZGVyO1xyXG4gICAgcHJvcGVydGllc19lbGVtZW50cy5jb2xsaXNpb24uY2hlY2tlZCA9IGVsZS5jb2xsaXNpb247XHJcbiAgICBwcm9wZXJ0aWVzX2VsZW1lbnRzLmxheWVyLnZhbHVlID0gXCJcIiArIGVsZS5sYXllcjtcclxuICAgIGxldCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXJhbXNfbGlzdFwiKTtcclxuICAgIGxpc3QudGV4dENvbnRlbnQgPSAnJztcclxuICAgIGZvciAobGV0IGsgb2YgT2JqZWN0LmtleXMoZWxlLnBhcmFtcykpIHtcclxuXHJcbiAgICAgIGxldCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaykpO1xyXG4gICAgICBsZXQgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgIGlmICh0eXBlb2YgKDxwYXJhbXM+ZWxlLnBhcmFtcylba10gPT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiAoPHBhcmFtcz5lbGUucGFyYW1zKVtrXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJudW1iZXJcIik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodHlwZW9mICg8cGFyYW1zPmVsZS5wYXJhbXMpW2tdID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIGspXHJcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIChKU09OLnN0cmluZ2lmeSgoPHBhcmFtcz5lbGUucGFyYW1zKVtrXSkpKTtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgaW5wdXQuZm9jdXMoKTtcclxuICAgICAgfSlcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgbGV0IGVsZSA9IGRlYnVnX3N0YXRlLnNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudDtcclxuICAgICAgICBsZXQgdmFsOiBzdHJpbmcgPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICBpZiAoIWlzTmFOKHZhbCBhcyB1bmtub3duIGFzIG51bWJlcikpIHtcclxuICAgICAgICAgICg8cGFyYW1zPmVsZS5wYXJhbXMpW2tdID0gcGFyc2VGbG9hdCh2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2YWwgPT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICg8cGFyYW1zPmVsZS5wYXJhbXMpW2tdID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodmFsID09IFwiZmFsc2VcIikge1xyXG4gICAgICAgICAgKDxwYXJhbXM+ZWxlLnBhcmFtcylba10gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIGxldCBwYXJzZWQgPSBKU09OLnBhcnNlKHZhbCk7XHJcbiAgICAgICAgICAgICg8cGFyYW1zPmVsZS5wYXJhbXMpW2tdID0gSlNPTi5wYXJzZSh2YWwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2F0Y2goZSl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgcC5hcHBlbmRDaGlsZChzcGFuKTtcclxuICAgICAgcC5hcHBlbmQoaW5wdXQpO1xyXG4gICAgICBsaXN0LmFwcGVuZChwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVidWdfdXBkYXRlX29ial9saXN0KCkge1xyXG4gIGxldCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvYmplY3RzX2xpc3RcIik7XHJcbiAgbGlzdC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIGlmIChnLmdldFJvb20oKSkge1xyXG4gICAgZm9yIChsZXQgb2JqIG9mIGcuZ2V0Um9vbSgpLm9iamVjdHMuc2xpY2UoKS5yZXZlcnNlKCkpIHtcclxuICAgICAgbGV0IHBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgICAgcGFyYS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvYmouY29uc3RydWN0b3IubmFtZSkpO1xyXG4gICAgICBwYXJhLmNsYXNzTGlzdC5hZGQoXCJvYmplY3RfbGlzdF9pdGVtXCIpO1xyXG4gICAgICBwYXJhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9wcm9wZXJ0aWVzX2VsZW1lbnQgPT0gPG9iaj5vYmopIHtcclxuICAgICAgICAgIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5wb3NpdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sICg8b2JqPm9iaikuc3RhdGUucG9zaXRpb24pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgZGVidWdfc3RhdGUuc2VsZWN0ZWRfcHJvcGVydGllc19lbGVtZW50ID0gPG9iaj5vYmo7XHJcbiAgICAgICAgICBkZWJ1Z191cGRhdGVfcHJvcGVydGllc19lbGVtZW50KClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQocGFyYSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVidWdfdXBkYXRlX3ByZWZhYnMoKSB7XHJcbiAgbGV0IHByZXMgPSBPYmplY3Qua2V5cyhwcmVmYWJzKS5tYXAoYXN5bmMgKG86IHN0cmluZykgPT4ge1xyXG4gICAgbGV0IGEgPSA8b2JqPihuZXcgcHJlZmFic1tvXSh7XHJcbiAgICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgdmVsb2NpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICByb3RhdGlvbjogMCxcclxuICAgICAgc2NhbGluZzogeyB3aWR0aDogMSwgaGVpZ2h0OiAxIH1cclxuICAgIH0pKTtcclxuICAgIGF3YWl0IGEubG9hZCgpO1xyXG4gICAgYS5yZW5kZXIgPSB0cnVlO1xyXG4gICAgbGV0IG9ianMgPSBhLmNvbWJpbmVkT2JqZWN0cygpO1xyXG4gICAgZm9yIChsZXQgb2JqIG9mIG9ianMpIHtcclxuICAgICAgb2JqLlVuYmluZEFsbCgpO1xyXG4gICAgfVxyXG4gICAgbGV0IHIgPSBhLnJlbmRlcmYoMCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHByZWZhYjogcHJlZmFic1tvXSxcclxuICAgICAgbmFtZTogYS5jb25zdHJ1Y3Rvci5uYW1lLFxyXG4gICAgICByZW5kZXJlZDpyIFxyXG4gICAgfTtcclxuXHJcbiAgfSlcclxuICBsZXQgYSA9IGF3YWl0IFByb21pc2UuYWxsKHByZXMpO1xyXG5cclxuICBsZXQgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmVmYWJfdGFyZ2V0XCIpO1xyXG4gIHRhcmdldC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIGZvciAobGV0IHByZWZhYiBvZiBhKSB7XHJcblxyXG4gICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBsZXQgcGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgcGFyYS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwcmVmYWIubmFtZSkpO1xyXG4gICAgZGl2LmFwcGVuZENoaWxkKHBhcmEpO1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJlZmFiLnJlbmRlcmVkKSkge1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGRpdi5hcHBlbmQocHJlZmFiLnJlbmRlcmVkLnNwcml0ZS5zcHJpdGVfc2hlZXQpO1xyXG4gICAgfVxyXG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJwcmVmYWJfYm94XCIpO1xyXG4gICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBsZXQgdmFsID0ge1xyXG4gICAgICAgIHBvc2l0aW9uOiB7IHg6IGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5wb3NpdGlvbi54LCB5OiBkZWJ1Z19zdGF0ZS5jYW1lcmEuc3RhdGUucG9zaXRpb24ueSB9LFxyXG4gICAgICAgIHZlbG9jaXR5OiB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICByb3RhdGlvbjogMCxcclxuICAgICAgICBzY2FsaW5nOiB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfVxyXG4gICAgICB9O1xyXG4gICAgICBsZXQgb2JqID0gPG9iaj4obmV3IHByZWZhYi5wcmVmYWIodmFsKSk7XHJcbiAgICAgIGF3YWl0IGcuc3RhdGUuY3VycmVudF9yb29tLmFkZEl0ZW1zKG9iai5jb21iaW5lZE9iamVjdHMoKSk7XHJcbiAgICB9KTtcclxuICAgIHRhcmdldC5hcHBlbmQoZGl2KTtcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBkZWJ1Z19hY3Rpb24ge1xyXG4gIHByb3BlcnR5OiBzdHJpbmcsXHJcbiAgb2xkOiBzdHJpbmcsXHJcbiAgbmV3OiBzdHJpbmcsXHJcbiAgZWxlbWVudDogb2JqXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZGVidWdfdmFycyB7XHJcbiAgdGFyZ2V0OiBIVE1MQ2FudmFzRWxlbWVudCxcclxuICBjYW1lcmE6IENhbWVyYSxcclxuICBsYXN0X2NsaWNrZWQ6IEhUTUxFbGVtZW50LFxyXG4gIHNlbGVjdGVkX2VsZW1lbnRfaW5pdGlhbF9zY2FsaW5nOiBkaW1lbnNpb25zLFxyXG4gIHNlbGVjdGVkX2VsZW1lbnQ6IG9iaixcclxuICBzZWxlY3RlZF9lbGVtZW50X29mZnNldDogVmVjdG9yLFxyXG4gIHJvdGF0aW9uX2VsZW1lbnQ6IG9iaixcclxuICBzZWxlY3RlZF9wcm9wZXJ0aWVzX2VsZW1lbnQ6IG9iaixcclxuICBtaWRkbGVfcG9zaXRpb246IFZlY3RvcixcclxuICBjbGlja19wb3NpdGlvbjogVmVjdG9yLFxyXG4gIGFjdGlvbnNfc3RhY2s6IGRlYnVnX2FjdGlvbltdLFxyXG4gIGN1cnJlbnRfYWN0aW9uOiBkZWJ1Z19hY3Rpb24sXHJcbiAgcmVuZGVyX2RlbHRhX3RpbWU6bnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBsZXQgZGVidWdfc3RhdGU6IGRlYnVnX3ZhcnM7XHJcblxyXG5leHBvcnQgbGV0IGRlYnVnX3NldHVwID0gKCkgPT4ge1xyXG4gIGRlYnVnX3N0YXRlID0ge1xyXG4gICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnX3RhcmdldFwiKSBhcyBIVE1MQ2FudmFzRWxlbWVudCxcclxuICAgIGNhbWVyYTogbmV3IENhbWVyYSh7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDAsXHJcbiAgICAgIGRpbWVuc2lvbnM6IHtcclxuICAgICAgICBoZWlnaHQ6IHZpZXdwb3J0LmhlaWdodCxcclxuICAgICAgICB3aWR0aDogdmlld3BvcnQud2lkdGhcclxuICAgICAgfSxcclxuICAgICAgc2NhbGluZzogMSxcclxuICAgICAgZGVidWc6IHRydWVcclxuICAgIH1cclxuICAgICAgLCB7XHJcbiAgICAgICAgeDogMSxcclxuICAgICAgICB5OiAwLFxyXG4gICAgICAgIHdpZHRoOiAxLFxyXG4gICAgICAgIGhlaWdodDogMVxyXG4gICAgICB9KSxcclxuICAgIGxhc3RfY2xpY2tlZDogdW5kZWZpbmVkLFxyXG4gICAgc2VsZWN0ZWRfZWxlbWVudDogdW5kZWZpbmVkLFxyXG4gICAgc2VsZWN0ZWRfZWxlbWVudF9vZmZzZXQ6IHVuZGVmaW5lZCxcclxuICAgIHJvdGF0aW9uX2VsZW1lbnQ6IHVuZGVmaW5lZCxcclxuICAgIG1pZGRsZV9wb3NpdGlvbjogdW5kZWZpbmVkLFxyXG4gICAgY2xpY2tfcG9zaXRpb246IHVuZGVmaW5lZCxcclxuICAgIHNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudDogdW5kZWZpbmVkLFxyXG4gICAgc2VsZWN0ZWRfZWxlbWVudF9pbml0aWFsX3NjYWxpbmc6IHsgd2lkdGg6IDEsIGhlaWdodDogMSB9LFxyXG4gICAgYWN0aW9uc19zdGFjazogW10sXHJcbiAgICByZW5kZXJfZGVsdGFfdGltZTowLFxyXG4gICAgY3VycmVudF9hY3Rpb246IHVuZGVmaW5lZFxyXG4gIH1cclxuICBkZWJ1Z19zdGF0ZS5jYW1lcmEuaHVkID0gbmV3IERlYnVnX2h1ZCgpO1xyXG4gIGRlYnVnX2JpbmRzLnB1c2goe1xyXG4gICAga2V5OiBcIm1vdXNlMGRvd25cIixcclxuICAgIHR5cGU6IGJ0eXBlLm1vdXNlLFxyXG4gICAgaWQ6IDAsXHJcbiAgICBmdW5jdGlvbjogKCkgPT4ge1xyXG4gICAgICBpZiAoZGVidWdfc3RhdGUuc2VsZWN0ZWRfZWxlbWVudCkge1xyXG4gICAgICAgIGRlYnVnX3N0YXRlLnNlbGVjdGVkX2VsZW1lbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBtb3VzZSA9IFBvbGxfTW91c2UoZGVidWdfc3RhdGUuY2FtZXJhLCBkZWJ1Z19zdGF0ZS50YXJnZXQpO1xyXG4gICAgICAgIGlmKCFtb3VzZSl7XHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgZGVidWdfc3RhdGUuY2xpY2tfcG9zaXRpb24gPSBtb3VzZTtcclxuICAgICAgICBsZXQgYWxsX2NsaWNrZWQgPSBnLmdldFJvb20oKS5jaGVja09iamVjdHNQb2ludChtb3VzZSk7XHJcbiAgICAgICAgbGV0IGNsaWNrZWQ7XHJcbiAgICAgICAgbGV0IGZpbHRlcmVkID0gYWxsX2NsaWNrZWQuZmlsdGVyKChlbGUpID0+IGVsZSA9PSBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9wcm9wZXJ0aWVzX2VsZW1lbnQpXHJcbiAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNsaWNrZWQgPSBmaWx0ZXJlZFswXVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGNsaWNrZWQgPSBhbGxfY2xpY2tlZC5zb3J0KChhLCBiKSA9PiAoYi5sYXllciAtIGEubGF5ZXIpKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNsaWNrZWQpIHtcclxuICAgICAgICAgIGlmIChoZWxkX2tleXNbXCJDb250cm9sTGVmdFwiXSkge1xyXG4gICAgICAgICAgICBkZWJ1Z19zdGF0ZS5jdXJyZW50X2FjdGlvbiA9IHtcclxuICAgICAgICAgICAgICBlbGVtZW50OiBjbGlja2VkLFxyXG4gICAgICAgICAgICAgIHByb3BlcnR5OiBcInNjYWxpbmdcIixcclxuICAgICAgICAgICAgICBvbGQ6IEpTT04uc3RyaW5naWZ5KGNsaWNrZWQuc3RhdGUuc2NhbGluZyksXHJcbiAgICAgICAgICAgICAgbmV3OiB1bmRlZmluZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlYnVnX3N0YXRlLmN1cnJlbnRfYWN0aW9uID0ge1xyXG4gICAgICAgICAgICAgIGVsZW1lbnQ6IGNsaWNrZWQsXHJcbiAgICAgICAgICAgICAgcHJvcGVydHk6IFwicG9zaXRpb25cIixcclxuICAgICAgICAgICAgICBvbGQ6IEpTT04uc3RyaW5naWZ5KGNsaWNrZWQuc3RhdGUucG9zaXRpb24pLFxyXG4gICAgICAgICAgICAgIG5ldzogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRlYnVnX3N0YXRlLnNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudCA9IGNsaWNrZWQ7XHJcbiAgICAgICAgICBkZWJ1Z191cGRhdGVfcHJvcGVydGllc19lbGVtZW50KClcclxuICAgICAgICAgIGRlYnVnX3N0YXRlLnNlbGVjdGVkX2VsZW1lbnQgPSBjbGlja2VkO1xyXG4gICAgICAgICAgZGVidWdfc3RhdGUuc2VsZWN0ZWRfZWxlbWVudF9pbml0aWFsX3NjYWxpbmcgPSBjbGlja2VkLnN0YXRlLnNjYWxpbmc7XHJcbiAgICAgICAgICBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9lbGVtZW50X29mZnNldCA9IHtcclxuICAgICAgICAgICAgeDogbW91c2UueCAtIGNsaWNrZWQuc3RhdGUucG9zaXRpb24ueCxcclxuICAgICAgICAgICAgeTogbW91c2UueSAtIGNsaWNrZWQuc3RhdGUucG9zaXRpb24ueVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGV4ZWN1dGU6IGV4ZWNfdHlwZS5vbmNlLFxyXG4gICAgY2FtZXJhOiBkZWJ1Z19zdGF0ZS5jYW1lcmFcclxuICB9KTtcclxuICBkZWJ1Z19iaW5kcy5wdXNoKHtcclxuICAgIGtleTogXCJtb3VzZTF1cFwiLFxyXG4gICAgdHlwZTogYnR5cGUubW91c2UsXHJcbiAgICBpZDogNSxcclxuICAgIGZ1bmN0aW9uOiAoKSA9PiB7XHJcbiAgICAgIGRlYnVnX3N0YXRlLm1pZGRsZV9wb3NpdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgIH0sXHJcbiAgICBleGVjdXRlOiBleGVjX3R5cGUub25jZSxcclxuICAgIGNhbWVyYTogZGVidWdfc3RhdGUuY2FtZXJhXHJcbiAgfSk7XHJcbiAgZGVidWdfYmluZHMucHVzaCh7XHJcbiAgICBrZXk6IFwibW91c2UxZG93blwiLFxyXG4gICAgdHlwZTogYnR5cGUubW91c2UsXHJcbiAgICBpZDogNixcclxuICAgIGZ1bmN0aW9uOiAoKSA9PiB7XHJcbiAgICAgIGxldCBtb3VzZSA9IFBvbGxfTW91c2UoZGVidWdfc3RhdGUuY2FtZXJhLCBkZWJ1Z19zdGF0ZS50YXJnZXQpO1xyXG4gICAgICBpZighbW91c2Upe1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIGRlYnVnX3N0YXRlLm1pZGRsZV9wb3NpdGlvbiA9IG1vdXNlO1xyXG4gICAgfSxcclxuICAgIGV4ZWN1dGU6IGV4ZWNfdHlwZS5vbmNlLFxyXG4gICAgY2FtZXJhOiBkZWJ1Z19zdGF0ZS5jYW1lcmFcclxuICB9KTtcclxuICBkZWJ1Z19iaW5kcy5wdXNoKHtcclxuICAgIGtleTogXCJtb3VzZTB1cFwiLFxyXG4gICAgdHlwZTogYnR5cGUubW91c2UsXHJcbiAgICBpZDogMSxcclxuICAgIGZ1bmN0aW9uOiAoKSA9PiB7XHJcbiAgICAgIGlmIChkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9lbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGRlYnVnX3N0YXRlLmN1cnJlbnRfYWN0aW9uLnByb3BlcnR5ID09IFwic2NhbGluZ1wiKSB7XHJcbiAgICAgICAgICBkZWJ1Z19zdGF0ZS5jdXJyZW50X2FjdGlvbi5uZXcgPSBKU09OLnN0cmluZ2lmeShkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9lbGVtZW50LnN0YXRlLnNjYWxpbmcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRlYnVnX3N0YXRlLmN1cnJlbnRfYWN0aW9uLnByb3BlcnR5ID09IFwicG9zaXRpb25cIikge1xyXG4gICAgICAgICAgZGVidWdfc3RhdGUuY3VycmVudF9hY3Rpb24ubmV3ID0gSlNPTi5zdHJpbmdpZnkoKDxvYmpfc3RhdGU+ZGVidWdfc3RhdGUuc2VsZWN0ZWRfZWxlbWVudC5zdGF0ZSkucG9zaXRpb24pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWJ1Z19zdGF0ZS5hY3Rpb25zX3N0YWNrLnB1c2goZGVidWdfc3RhdGUuY3VycmVudF9hY3Rpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9lbGVtZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICBkZWJ1Z191cGRhdGVfcHJvcGVydGllc19lbGVtZW50KClcclxuICAgIH0sXHJcbiAgICBleGVjdXRlOiBleGVjX3R5cGUub25jZSxcclxuICAgIGNhbWVyYTogZGVidWdfc3RhdGUuY2FtZXJhXHJcbiAgfSk7XHJcbiAgZGVidWdfYmluZHMucHVzaCh7XHJcbiAgICBrZXk6IFwibW91c2UyZG93blwiLFxyXG4gICAgdHlwZTogYnR5cGUubW91c2UsXHJcbiAgICBpZDogMyxcclxuICAgIGZ1bmN0aW9uOiAoKSA9PiB7XHJcbiAgICAgIGlmIChkZWJ1Z19zdGF0ZS5yb3RhdGlvbl9lbGVtZW50KSB7XHJcbiAgICAgICAgZGVidWdfc3RhdGUucm90YXRpb25fZWxlbWVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IG1vdXNlID0gUG9sbF9Nb3VzZShkZWJ1Z19zdGF0ZS5jYW1lcmEsIGRlYnVnX3N0YXRlLnRhcmdldCk7XHJcbiAgICAgICAgaWYoIW1vdXNlKXtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2xpY2tlZCA9IGcuZ2V0Um9vbSgpLmNoZWNrT2JqZWN0c1BvaW50KG1vdXNlKVswXVxyXG4gICAgICAgIGlmIChjbGlja2VkKSB7XHJcbiAgICAgICAgICBkZWJ1Z19zdGF0ZS5yb3RhdGlvbl9lbGVtZW50ID0gY2xpY2tlZDtcclxuICAgICAgICAgIGRlYnVnX3N0YXRlLmN1cnJlbnRfYWN0aW9uID0ge1xyXG4gICAgICAgICAgICBlbGVtZW50OiBkZWJ1Z19zdGF0ZS5yb3RhdGlvbl9lbGVtZW50LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eTogXCJyb3RhdGlvblwiLFxyXG4gICAgICAgICAgICBvbGQ6IEpTT04uc3RyaW5naWZ5KGRlYnVnX3N0YXRlLnJvdGF0aW9uX2VsZW1lbnQuc3RhdGUucm90YXRpb24pLFxyXG4gICAgICAgICAgICBuZXc6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGV4ZWN1dGU6IGV4ZWNfdHlwZS5vbmNlLFxyXG4gICAgY2FtZXJhOiBkZWJ1Z19zdGF0ZS5jYW1lcmFcclxuICB9KTtcclxuICBkZWJ1Z19iaW5kcy5wdXNoKHtcclxuICAgIGtleTogXCJtb3VzZTJ1cFwiLFxyXG4gICAgdHlwZTogYnR5cGUubW91c2UsXHJcbiAgICBpZDogNCxcclxuICAgIGZ1bmN0aW9uOiAoKSA9PiB7XHJcbiAgICAgIGRlYnVnX3N0YXRlLmN1cnJlbnRfYWN0aW9uLm5ldyA9IEpTT04uc3RyaW5naWZ5KGRlYnVnX3N0YXRlLnJvdGF0aW9uX2VsZW1lbnQuc3RhdGUucm90YXRpb24pXHJcbiAgICAgIGRlYnVnX3N0YXRlLmFjdGlvbnNfc3RhY2sucHVzaChkZWJ1Z19zdGF0ZS5jdXJyZW50X2FjdGlvbik7XHJcbiAgICAgIGRlYnVnX3N0YXRlLnJvdGF0aW9uX2VsZW1lbnQgPSB1bmRlZmluZWQ7XHJcbiAgICB9LFxyXG4gICAgZXhlY3V0ZTogZXhlY190eXBlLm9uY2UsXHJcbiAgICBjYW1lcmE6IGRlYnVnX3N0YXRlLmNhbWVyYVxyXG4gIH0pO1xyXG5cclxuICBsZXQgbGVmdF9mdW5jID0gKCkgPT4ge1xyXG4gICAgbGV0IHNoaWZ0X2hlbGQgPSBoZWxkX2tleXNbXCJTaGlmdExlZnRcIl0gPyAxIDogMDtcclxuICAgIGlmIChkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQuaWQgPT0gXCJkZWJ1Z190YXJnZXRcIilcclxuICAgICAgZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnggPSBkZWJ1Z19zdGF0ZS5jYW1lcmEuc3RhdGUucG9zaXRpb24ueCAtICgoNSArIHNoaWZ0X2hlbGQgKiA1KSAqICgxIC8gZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnNjYWxpbmcpKTtcclxuICB9O1xyXG4gIGxldCByaWdodF9mdW5jID0gKCkgPT4ge1xyXG4gICAgbGV0IHNoaWZ0X2hlbGQgPSBoZWxkX2tleXNbXCJTaGlmdExlZnRcIl0gPyAxIDogMDtcclxuICAgIGlmIChkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQuaWQgPT0gXCJkZWJ1Z190YXJnZXRcIilcclxuICAgICAgZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnggPSBkZWJ1Z19zdGF0ZS5jYW1lcmEuc3RhdGUucG9zaXRpb24ueCArICgoNSArIHNoaWZ0X2hlbGQgKiA1KSAqICgxIC8gZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnNjYWxpbmcpKTtcclxuICB9O1xyXG4gIGxldCBkb3duX2Z1bmMgPSAoKSA9PiB7XHJcbiAgICBsZXQgc2hpZnRfaGVsZCA9IGhlbGRfa2V5c1tcIlNoaWZ0TGVmdFwiXSA/IDEgOiAwO1xyXG5cclxuICAgIGlmICghaGVsZF9rZXlzW1wiQ29udHJvbExlZnRcIl0gJiYgZGVidWdfc3RhdGUubGFzdF9jbGlja2VkLmlkID09IFwiZGVidWdfdGFyZ2V0XCIpXHJcbiAgICAgIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5wb3NpdGlvbi55ID0gZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnkgLSAoKDUgKyBzaGlmdF9oZWxkICogNSkgKiAoMSAvIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5zY2FsaW5nKSk7XHJcbiAgfTtcclxuICBsZXQgdXBfZnVuYyA9ICgpID0+IHtcclxuICAgIGxldCBzaGlmdF9oZWxkID0gaGVsZF9rZXlzW1wiU2hpZnRMZWZ0XCJdID8gMSA6IDA7XHJcbiAgICBpZiAoZGVidWdfc3RhdGUubGFzdF9jbGlja2VkLmlkID09IFwiZGVidWdfdGFyZ2V0XCIpXHJcbiAgICAgIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5wb3NpdGlvbi55ID0gZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnkgKyAoKDUgKyBzaGlmdF9oZWxkICogNSkgKiAoMSAvIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5zY2FsaW5nKSk7XHJcbiAgfTtcclxuICBsZXQgc2Nyb2xsX3VwID0gKCkgPT4ge1xyXG4gICAgaWYgKGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcImRlYnVnX3RhcmdldFwiICYmIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5zY2FsaW5nIDwgMC4wNSlcclxuICAgICAgZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnNjYWxpbmcgPSBkZWJ1Z19zdGF0ZS5jYW1lcmEuc3RhdGUuc2NhbGluZyArIDAuMDE7XHJcbiAgICBlbHNlIGlmKGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcImRlYnVnX3RhcmdldFwiKVxyXG4gICAgICBkZWJ1Z19zdGF0ZS5jYW1lcmEuc3RhdGUuc2NhbGluZyA9IGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5zY2FsaW5nICsgMC4wNTtcclxuICB9XHJcbiAgbGV0IHNhdmVfZnVuYyA9ICgpID0+IHtcclxuICAgIGxldCBjdHJsX2hlbGQgPSBoZWxkX2tleXNbXCJDb250cm9sTGVmdFwiXTtcclxuICAgIGlmIChjdHJsX2hlbGQgJiYgUEFVU0VEKSB7XHJcbiAgICAgIGxldCBuYW1lID0gZy5nZXRSb29tKCkuY29uc3RydWN0b3IubmFtZTtcclxuICAgICAgbGV0IGEgPSBwYXRoLmpvaW4oYCR7cHJvamVjdF9wYXRofWAsIGAuLi9yb29tcy8ke25hbWV9Lmpzb25gKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGEsIEpTT04uc3RyaW5naWZ5KGcuZ2V0Um9vbSgpLmV4cG9ydFN0YXRlQ29uZmlnKCkpKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IgV1JJVElORyBST09NIElORk8gRklMRS5cIik7XHJcbiAgICAgICAgYWxlcnQoXCJFcnJvclwiKTtcclxuICAgICAgfVxyXG4gICAgICBhbGVydChcIlNhdmVkXCIpO1xyXG5cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGN0cmxfaGVsZCAmJiAhUEFVU0VEKSB7XHJcbiAgICAgIGFsZXJ0KFwicGF1c2UgdG8gZW5hYmxlIHNhdmluZy5cIilcclxuICAgIH1cclxuICB9XHJcbiAgbGV0IHNjcm9sbF9kb3duID0gKCkgPT4ge1xyXG4gICAgaWYgKGRlYnVnX3N0YXRlLmxhc3RfY2xpY2tlZC5pZCA9PSBcImRlYnVnX3RhcmdldFwiICYmIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5zY2FsaW5nID4gMC4wNSlcclxuICAgICAgZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnNjYWxpbmcgPSBkZWJ1Z19zdGF0ZS5jYW1lcmEuc3RhdGUuc2NhbGluZyAtIDAuMDU7XHJcbiAgICBlbHNlIGlmIChkZWJ1Z19zdGF0ZS5sYXN0X2NsaWNrZWQuaWQgPT0gXCJkZWJ1Z190YXJnZXRcIiAmJiBkZWJ1Z19zdGF0ZS5jYW1lcmEuc3RhdGUuc2NhbGluZyA+IDAuMDEpXHJcbiAgICAgIGRlYnVnX3N0YXRlLmNhbWVyYS5zdGF0ZS5zY2FsaW5nID0gZGVidWdfc3RhdGUuY2FtZXJhLnN0YXRlLnNjYWxpbmcgLSAwLjAxO1xyXG4gIH1cclxuICBsZXQgdW5kb19mdW5jID0gKCkgPT4ge1xyXG4gICAgaWYgKGhlbGRfa2V5c1tcIkNvbnRyb2xMZWZ0XCJdKSB7XHJcbiAgICAgIGxldCBjdXJyOiBkZWJ1Z19hY3Rpb24gPSBkZWJ1Z19zdGF0ZS5hY3Rpb25zX3N0YWNrLnBvcCgpO1xyXG4gICAgICBpZiAoY3Vycikge1xyXG4gICAgICAgIGlmIChjdXJyLnByb3BlcnR5ID09IFwicG9zaXRpb25cIikge1xyXG4gICAgICAgICAgY3Vyci5lbGVtZW50LnN0YXRlLnBvc2l0aW9uID0gSlNPTi5wYXJzZShjdXJyLm9sZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGN1cnIucHJvcGVydHkgPT09IFwicm90YXRpb25cIikge1xyXG4gICAgICAgICAgY3Vyci5lbGVtZW50LnN0YXRlLnJvdGF0aW9uID0gSlNPTi5wYXJzZShjdXJyLm9sZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGN1cnIucHJvcGVydHkgPT09IFwic2NhbGluZ1wiKSB7XHJcbiAgICAgICAgICBjdXJyLmVsZW1lbnQuc3RhdGUuc2NhbGluZyA9IEpTT04ucGFyc2UoY3Vyci5vbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBkZWJ1Z19iaW5kcy5wdXNoKHtcclxuICAgIGtleTogXCJLZXlBXCIsXHJcbiAgICB0eXBlOiBidHlwZS5rZXlib2FyZCxcclxuICAgIGlkOiBCaW5kKFwiS2V5QVwiLCBsZWZ0X2Z1bmMsIGV4ZWNfdHlwZS5yZXBlYXQsIDEpLFxyXG4gICAgZnVuY3Rpb246IGxlZnRfZnVuYyxcclxuICAgIGV4ZWN1dGU6IGV4ZWNfdHlwZS5yZXBlYXRcclxuICB9KVxyXG4gIGRlYnVnX2JpbmRzLnB1c2goe1xyXG4gICAga2V5OiBcIktleURcIixcclxuICAgIHR5cGU6IGJ0eXBlLmtleWJvYXJkLFxyXG4gICAgaWQ6IEJpbmQoXCJLZXlEXCIsIHJpZ2h0X2Z1bmMsIGV4ZWNfdHlwZS5yZXBlYXQsIDEpLFxyXG4gICAgZnVuY3Rpb246IHJpZ2h0X2Z1bmMsXHJcbiAgICBleGVjdXRlOiBleGVjX3R5cGUucmVwZWF0XHJcbiAgfSlcclxuICBkZWJ1Z19iaW5kcy5wdXNoKHtcclxuICAgIGtleTogXCJLZXlXXCIsXHJcbiAgICB0eXBlOiBidHlwZS5rZXlib2FyZCxcclxuICAgIGlkOiBCaW5kKFwiS2V5V1wiLCB1cF9mdW5jLCBleGVjX3R5cGUucmVwZWF0LCAxKSxcclxuICAgIGZ1bmN0aW9uOiB1cF9mdW5jLFxyXG4gICAgZXhlY3V0ZTogZXhlY190eXBlLnJlcGVhdFxyXG4gIH0pXHJcbiAgZGVidWdfYmluZHMucHVzaCh7XHJcbiAgICBrZXk6IFwiS2V5U1wiLFxyXG4gICAgdHlwZTogYnR5cGUua2V5Ym9hcmQsXHJcbiAgICBpZDogQmluZChcIktleVNcIiwgZG93bl9mdW5jLCBleGVjX3R5cGUucmVwZWF0LCAxKSxcclxuICAgIGZ1bmN0aW9uOiBkb3duX2Z1bmMsXHJcbiAgICBleGVjdXRlOiBleGVjX3R5cGUucmVwZWF0XHJcbiAgfSlcclxuICBkZWJ1Z19iaW5kcy5wdXNoKHtcclxuICAgIGtleTogXCJzY3JvbGx1cFwiLFxyXG4gICAgdHlwZTogYnR5cGUubW91c2UsXHJcbiAgICBpZDogQmluZChcInNjcm9sbHVwXCIsIHNjcm9sbF91cCwgZXhlY190eXBlLm9uY2UsIDEpLFxyXG4gICAgZnVuY3Rpb246IHNjcm9sbF91cCxcclxuICAgIGV4ZWN1dGU6IGV4ZWNfdHlwZS5vbmNlXHJcbiAgfSlcclxuICBkZWJ1Z19iaW5kcy5wdXNoKHtcclxuICAgIGtleTogXCJzY3JvbGxkb3duXCIsXHJcbiAgICB0eXBlOiBidHlwZS5tb3VzZSxcclxuICAgIGlkOiBCaW5kKFwic2Nyb2xsZG93blwiLCBzY3JvbGxfZG93biwgZXhlY190eXBlLm9uY2UsIDEpLFxyXG4gICAgZnVuY3Rpb246IHNjcm9sbF9kb3duLFxyXG4gICAgZXhlY3V0ZTogZXhlY190eXBlLm9uY2VcclxuICB9KVxyXG4gIGRlYnVnX2JpbmRzLnB1c2goe1xyXG4gICAga2V5OiBcIktleVNcIixcclxuICAgIHR5cGU6IGJ0eXBlLmtleWJvYXJkLFxyXG4gICAgaWQ6IEJpbmQoXCJLZXlTXCIsIHNhdmVfZnVuYywgZXhlY190eXBlLm9uY2UsIDEpLFxyXG4gICAgZnVuY3Rpb246IHNhdmVfZnVuYyxcclxuICAgIGV4ZWN1dGU6IGV4ZWNfdHlwZS5vbmNlXHJcbiAgfSlcclxuICBkZWJ1Z19iaW5kcy5wdXNoKHtcclxuICAgIGtleTogXCJLZXlaXCIsXHJcbiAgICB0eXBlOiBidHlwZS5rZXlib2FyZCxcclxuICAgIGlkOiBCaW5kKFwiS2V5WlwiLCB1bmRvX2Z1bmMsIGV4ZWNfdHlwZS5vbmNlLCAxKSxcclxuICAgIGZ1bmN0aW9uOiB1bmRvX2Z1bmMsXHJcbiAgICBleGVjdXRlOiBleGVjX3R5cGUub25jZVxyXG4gIH0pXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgaWYgKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgZGVidWdfc3RhdGUubGFzdF9jbGlja2VkID0gZS50YXJnZXQ7XHJcbiAgICB9XHJcbiAgfSlcclxuICBsZXQgcGF1c2VfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXVzZV9idXR0b25cIilcclxuICBwYXVzZV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBzZXRQYXVzZWQoIVBBVVNFRCk7XHJcbiAgICBpZiAoUEFVU0VEKSB7XHJcbiAgICAgIHBhdXNlX2J1dHRvbi5pbm5lckhUTUwgPSBcIlVOUEFVU0VcIjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBwYXVzZV9idXR0b24uaW5uZXJIVE1MID0gXCJQQVVTRVwiO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIGxldCBvYmpfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdfb2JqZWN0X2J1dHRvblwiKTtcclxuICBsZXQgcm9vbV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld19yb29tX2J1dHRvblwiKTtcclxuICByb29tX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGxldCBmaWxlX3BhdGggPSBpcGNSZW5kZXJlci5zZW5kU3luYygnb2JqZWN0LXBhdGgtcmVxdWVzdCcsIFwicm9vbXNcIik7XHJcbiAgICBpZiAoZmlsZV9wYXRoKSB7XHJcbiAgICAgIGxldCBmdWxsX25hbWUgPSBwYXRoLnBhcnNlKGZpbGVfcGF0aCkuYmFzZTtcclxuICAgICAgbGV0IG5ld19uYW1lID0gZnVsbF9uYW1lLnN1YnN0cigwLCBmdWxsX25hbWUubGVuZ3RoIC0gMyk7XHJcbiAgICAgIGxldCBwYXRoX3RvX3dyaXRlID0gcGF0aC5qb2luKGAke2ZpbGVfcGF0aH1gLCBcIi4uXCIsIG5ld19uYW1lICsgXCIudHNcIik7XHJcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMocGF0aF90b193cml0ZSwgcm9vbV90ZW1wbGF0ZS5zcGxpdChcInRlbXBsYXRlXCIpLmpvaW4obmV3X25hbWUpKTtcclxuXHJcbiAgICAgIHBhdGhfdG9fd3JpdGUgPSBwYXRoLmpvaW4oYCR7ZmlsZV9wYXRofWAsIFwiLi5cIiwgbmV3X25hbWUgKyBcIi5qc29uXCIpO1xyXG5cclxuICAgICAgZnMud3JpdGVGaWxlU3luYyhwYXRoX3RvX3dyaXRlLCBgXHJcbiAgICB7XHJcbiAgICAgIFwib2JqZWN0c1wiOltdXHJcbiAgICB9XHJcbiAgICBgKVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgb2JqX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGxldCBmaWxlX3BhdGggPSBpcGNSZW5kZXJlci5zZW5kU3luYygnb2JqZWN0LXBhdGgtcmVxdWVzdCcsIFwib2JqZWN0c1wiKTtcclxuICAgIGlmIChmaWxlX3BhdGgpIHtcclxuICAgICAgbGV0IGZ1bGxfbmFtZSA9IHBhdGgucGFyc2UoZmlsZV9wYXRoKS5iYXNlO1xyXG4gICAgICBsZXQgbmV3X25hbWUgPSBmdWxsX25hbWUuc3Vic3RyKDAsIGZ1bGxfbmFtZS5sZW5ndGggLSAzKTtcclxuICAgICAgbGV0IHBhdGhfdG9fd3JpdGUgPSBwYXRoLmpvaW4oYCR7ZmlsZV9wYXRofWAsIFwiLi5cIiwgbmV3X25hbWUgKyBcIi50c1wiKTtcclxuICAgICAgZnMud3JpdGVGaWxlU3luYyhwYXRoX3RvX3dyaXRlLG9iamVjdF90ZW1wbGF0ZS5zcGxpdChcInRlbXBsYXRlXCIpLmpvaW4obmV3X25hbWUpKTtcclxuICAgIH1cclxuICB9KVxyXG5cclxufSIsImltcG9ydCB7b2JqfSBmcm9tIFwiLi9vYmplY3RcIjtcclxuaW1wb3J0IHtWZWN0b3J9IGZyb20gXCJsaWIvc3RhdGVcIjtcclxuaW50ZXJmYWNlIEh1ZFRleHRHZXRGdW5je1xyXG4gICgpOnN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRleHRTZXR0aW5ne1xyXG4gIHg6bnVtYmVyLFxyXG4gIHk6bnVtYmVyLFxyXG4gIGZvbnQ6Rm9udFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZvbnR7XHJcbiAgbWF4X3dpZHRoPzpudW1iZXIsXHJcbiAgc2l6ZTpudW1iZXIsXHJcbiAgZm9udDpzdHJpbmcsXHJcbiAgY29sb3I6c3RyaW5nLFxyXG4gIHRleHQ6c3RyaW5nLFxyXG4gIGFsaWduOkNhbnZhc1RleHRBbGlnblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRleHRfTm9kZXtcclxuICBtYXhfd2lkdGg/Om51bWJlcixcclxuICBwb3NpdGlvbjpWZWN0b3JcclxuICBzaXplOm51bWJlcjtcclxuICBzY2FsaW5nOm51bWJlcjtcclxuICBmb250OnN0cmluZztcclxuICBjb2xvcjpzdHJpbmc7XHJcbiAgdGV4dD86c3RyaW5nO1xyXG4gIGFsaWduPzpDYW52YXNUZXh0QWxpZ247XHJcbn1cclxuZXhwb3J0IGNsYXNzIEhVRHtcclxuICBncmFwaGljX2VsZW1lbnRzOm9ialtdID0gW107XHJcbiAgdGV4dF9lbGVtZW50czpBcnJheTxUZXh0PiA9IFtdO1xyXG4gIGNvbnN0cnVjdG9yKCl7XHJcbiAgICB0aGlzLnRleHRfZWxlbWVudHMucHVzaCguLi50aGlzLnNldFRleHRFbGVtZW50cygpKTtcclxuICAgIHRoaXMuZ3JhcGhpY19lbGVtZW50cy5wdXNoKC4uLnRoaXMuc2V0R3JhcGhpY0VsZW1lbnRzKCkpOyBcclxuICB9XHJcbiAgc3RhdGVmKGE6bnVtYmVyKXtcclxuICAgIGZvcihsZXQgeCBvZiB0aGlzLmdyYXBoaWNfZWxlbWVudHMpe1xyXG4gICAgICB4LnN0YXRlZihhKTtcclxuICAgIH1cclxuICAgIGZvcihsZXQgeCBvZiB0aGlzLnRleHRfZWxlbWVudHMpe1xyXG4gICAgICB4LnN0YXRlZihhKTtcclxuICAgIH1cclxuICB9XHJcbiAgc2V0VGV4dEVsZW1lbnRzKCk6VGV4dFtde1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxuICBzZXRHcmFwaGljRWxlbWVudHMoKTpvYmpbXXtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0e1xyXG4gIGdldEZ1bmM6SHVkVGV4dEdldEZ1bmM7XHJcbiAgc3RhdGU6VGV4dF9Ob2RlO1xyXG4gIGNvbnN0cnVjdG9yKG5vZGU6VGV4dF9Ob2RlLGdldEZ1bmM6SHVkVGV4dEdldEZ1bmMpe1xyXG4gICAgaWYoIW5vZGUuYWxpZ24pe1xyXG4gICAgICBub2RlLmFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgIH1cclxuICAgIHRoaXMuc3RhdGUgPSBub2RlO1xyXG4gICAgaWYoIXRoaXMuc3RhdGUudGV4dCl7XHJcbiAgICAgIHRoaXMuc3RhdGUudGV4dCA9IFwiXCI7XHJcbiAgICB9XHJcbiAgICB0aGlzLmdldEZ1bmMgPSBnZXRGdW5jO1xyXG4gIH1cclxuICBzdGF0ZWYoYTpudW1iZXIpe1xyXG4gICB0aGlzLnN0YXRlLnRleHQgPSB0aGlzLmdldEZ1bmMoKTtcclxuICB9XHJcbiAgcmVuZGVyZihhOm51bWJlcik6Rm9udHtcclxuICAgIGxldCB7c2l6ZSxjb2xvcixmb250LHRleHQsbWF4X3dpZHRoLGFsaWdufSA9IHRoaXMuc3RhdGU7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzaXplLFxyXG4gICAgICBjb2xvcixcclxuICAgICAgZm9udCxcclxuICAgICAgdGV4dCxcclxuICAgICAgbWF4X3dpZHRoLFxyXG4gICAgICBhbGlnblxyXG4gICAgfTtcclxuICB9XHJcbn0iLCJpbXBvcnQge1ZlY3Rvcn0gZnJvbSBcIi4vc3RhdGVcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kSW50KG1pbjpudW1iZXIsIG1heDpudW1iZXIpIHtcclxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKSArIG1pbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFZlY19mdW5je1xyXG4gIChhOm51bWJlcik6bnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmdsZV90b3dhcmRzKHRhcmdldDE6VmVjdG9yLHRhcmdldDI6VmVjdG9yKTpudW1iZXJ7XHJcbiAgcmV0dXJuIDkwIC0gTWF0aC5hdGFuMigodGFyZ2V0MS55IC0gdGFyZ2V0Mi55KSwodGFyZ2V0MS54IC0gdGFyZ2V0Mi54KSkgKiAxODAvTWF0aC5QSTtcclxufVxyXG5cclxuLy9GaW5kcyB0aGUgc2lkZSBsZW5ndGhzIG9mIGEgdHJpYW5nbGUgaWYgZ2l2ZW4gdGhlICBhbmdsZSAoaW4gZGVncmVlcylcclxuLy9hbG9uZyB3aXRoIHRoZSBsZW5ndGggb2YgdGhlIGh5cG90ZW51c2VcclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0aW9uX2xlbmd0aChsZW5ndGg6IG51bWJlciwgZGVncmVlOiBudW1iZXIpIHtcclxuICBsZXQgYV9sZW4gPSBsZW5ndGggKiBNYXRoLnNpbihkZWdyZWUgKiBNYXRoLlBJIC8gMTgwKTtcclxuICBsZXQgYl9sZW4gPSBsZW5ndGggKiBNYXRoLmNvcyhkZWdyZWUgKiBNYXRoLlBJIC8gMTgwKTtcclxuICByZXR1cm4ge1xyXG4gICAgeDogYV9sZW4sXHJcbiAgICB5OiBiX2xlblxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZlY3tcclxuICBzdGF0aWMgZnJvbShhOlZlY3Rvcil7XHJcbiAgICByZXR1cm4gVmVjLmNyZWF0ZShhLngsYS55KTtcclxuICB9XHJcbiAgc3RhdGljIGFkZChhOlZlY3RvcixiOlZlY3Rvcik6VmVjdG9ye1xyXG4gICAgcmV0dXJuIHt4OmEueCtiLngseTphLnkrYi55fTtcclxuICB9XHJcbiAgc3RhdGljIHN1YihhOlZlY3RvcixiOlZlY3Rvcik6VmVjdG9ye1xyXG4gICAgcmV0dXJuIHt4OmEueCAtIGIueCx5OmEueSAtIGIueX1cclxuICB9XHJcbiAgc3RhdGljIHNjYWxhcl9kaXZpZGUoYTpWZWN0b3IsYjpudW1iZXIpe1xyXG4gICAgcmV0dXJuIHt4OmEueC9iLHk6YS55L2J9O1xyXG4gIH1cclxuICBzdGF0aWMgc2NhbGFyX2FkZChhOlZlY3RvcixiOm51bWJlcil7XHJcbiAgICByZXR1cm4ge3g6YS54ICsgYix5OmEueSArIGJ9O1xyXG4gIH1cclxuICBzdGF0aWMgc2NhbGFyX3N1YihhOlZlY3RvcixiOm51bWJlcil7XHJcbiAgICByZXR1cm4ge3g6YS54IC0gYiwgeTphLnkgLSBifTtcclxuICB9XHJcbiAgc3RhdGljIHNjYWxhcl9tb2QoYTpWZWN0b3IsYjpudW1iZXIpe1xyXG4gICAgcmV0dXJuIHt4OmEueCAlIGIsIHk6IGEueSAlIGJ9O1xyXG4gIH1cclxuICBzdGF0aWMgc2NhbGFyX211bHQoYTpWZWN0b3IsYjpudW1iZXIpe1xyXG4gICAgcmV0dXJuIHt4OmEueCAqIGIseTphLnkgKiBifTtcclxuICB9XHJcbiAgc3RhdGljIGZ1bmMoYTpWZWN0b3IsYjpWZWNfZnVuYyk6VmVjdG9ye1xyXG4gICAgbGV0IGFyciA9IFthLngsYS55XS5tYXAoYik7XHJcbiAgICByZXR1cm4gVmVjLmNyZWF0ZShhcnJbMF0sYXJyWzFdKTtcclxuICB9XHJcbiAgc3RhdGljIGRpc3RhbmNlKGE6VmVjdG9yLGI6VmVjdG9yKXtcclxuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYS54IC0gYi54LDIpICsgTWF0aC5wb3coYS55IC0gYi55LDIpKTtcclxuICB9XHJcbiAgc3RhdGljIGNyZWF0ZSh4Om51bWJlcix5Om51bWJlcil7XHJcbiAgICByZXR1cm4ge3gseX07XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgc3RhdGVfZnVuYywgb2JqX3N0YXRlLCBWZWN0b3IsIGRpbWVuc2lvbnMgfSBmcm9tIFwiLi9zdGF0ZVwiO1xyXG5pbXBvcnQgeyByZW5kZXJfZnVuYywgcmVuZGVyX3R5cGUgLHNjYWxlX3R5cGV9IGZyb20gXCIuL3JlbmRlclwiO1xyXG5pbXBvcnQgeyBQYXJ0aWNsZSwgcG9zaXRpb25lZF9zcHJpdGUsIHNwcml0ZSwgc3ByaXRlX2dlbiB9IGZyb20gXCIuL3Nwcml0ZVwiO1xyXG5pbXBvcnQgeyBjb2xsaXNpb25fYm94IH0gZnJvbSBcIi4vY29sbGlzaW9uXCI7XHJcbmltcG9ydCB7IFVuYmluZCwgQmluZCwgY29udHJvbF9mdW5jLCBleGVjX3R5cGUgfSBmcm9tIFwiLi9jb250cm9sc1wiO1xyXG5pbXBvcnQge2F1ZGlvfSBmcm9tIFwiLi9hdWRpb1wiO1xyXG5pbXBvcnQge0RFQlVHLCBjb3B5LCBnYW1lfSBmcm9tIFwiLi4vdmFuXCI7XHJcbmltcG9ydCB7IFZlYyxyb3RhdGlvbl9sZW5ndGgsYW5nbGVfdG93YXJkcyB9IGZyb20gXCIuL21hdGhcIjtcclxuaW1wb3J0IHtyb290X3BhdGgscGF0aH0gZnJvbSBcIi4uL2xpYi9kZWJ1Z1wiOyBcclxuaW1wb3J0IHtUZXh0fSBmcm9tIFwiLi9odWRcIjtcclxuXHJcbmludGVyZmFjZSBvYmpfaTxUPiB7XHJcbiAgc3RhdGVmOiBzdGF0ZV9mdW5jPFQ+LFxyXG4gIHJlbmRlcmY6IHJlbmRlcl9mdW5jXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJZChhOiBvYmpbXSwgaWQ6IHN0cmluZyk6IG9iaiB7XHJcbiAgZm9yIChsZXQgYiA9IDA7IGIgPCBhLmxlbmd0aDsgYisrKSB7XHJcbiAgICBpZiAoYVtiXS5pZCA9PSBpZCkge1xyXG4gICAgICByZXR1cm4gYVtiXTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHVuZGVmaW5lZDtcclxufVxyXG5cclxuXHJcblxyXG4vL1RoaXMgY291bnRlciB0cmFja3MgdGhlIGdsb2JhbCBudW1iZXIgb2Ygb2JqZWN0cyBjcmVhdGVkIHNvIGZhclxyXG4vL2FuIG9iamVjdCdzIGlkIChpZiBub3Qgb3ZlcndyaXR0ZW4pIHdpbGwgYmUgYSB1bmlxdWUgaW50ZWdlciwgd2hpY2hcclxuLy91c2VzIHRoaXMgY291bnRlci5cclxubGV0IGNvdW50ZXIgPSAwO1xyXG5cclxuaW50ZXJmYWNlIGFuaW1fc3RvcmFnZSB7XHJcbiAgW2luZGV4OiBzdHJpbmddOiBbQXJyYXk8W251bWJlciwgc3ByaXRlXT4sIG51bWJlcl1cclxufVxyXG5cclxuaW50ZXJmYWNlIHZvaWRfZnVuYyB7XHJcbiAgKCk6IHZvaWRcclxufVxyXG5cclxuY2xhc3MgYW5pbWF0aW9ucyB7XHJcbiAgYW5pbWF0aW9uczogYW5pbV9zdG9yYWdlID0ge307XHJcbiAgLy9UcmFja3MgdGhlIHRpbWUgcGFzc2VkIHNpbmNlIHRoZSBjdXJyZW50IGFuaW1hdGlvblxyXG4gIC8vaGFzIHN0YXJ0ZWQgcGxheWluZ1xyXG4gIGFuaW1hdGlvbl90cmFja2VyID0gMDtcclxuICBjdXJyZW50OiBzdHJpbmc7XHJcbiAgY2FsbGJhY2s6IHZvaWRfZnVuYztcclxuICBhbmltYXRpbmc6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gIC8vZGVmaW5lcyBhbiBhbmltYXRpb24gdGhhdCBjYW4gYmUgcGxheWVkIHVzaW5nIHRoZSBwbGF5IG1ldGhvZFxyXG4gIC8vdGhlIGtleWZyYW1lcyBhcmUgYW4gYXJyYXkgb2YgdHVwbGVzIGluIHRoZSBcclxuICAvL2Zvcm1hdCBvZiBbKHRpbWUgZm9yIHRoaXMgc3ByaXRlIHRvIHNob3cpLCBzcHJpdGVdXHJcbiAgYWRkKG5hbWU6IHN0cmluZywga2V5ZnJhbWVzOiBBcnJheTxbbnVtYmVyLCBzcHJpdGVdPiwgbGVuZ3RoOiBudW1iZXIpIHtcclxuICAgIHRoaXMuYW5pbWF0aW9uc1tuYW1lXSA9IFtrZXlmcmFtZXMsIGxlbmd0aF07XHJcbiAgfVxyXG4gIHBsYXkobmFtZTogc3RyaW5nLCBjYWxsYmFjaz86IHZvaWRfZnVuYykge1xyXG4gICAgdGhpcy5jdXJyZW50ID0gbmFtZTtcclxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIHRoaXMuYW5pbWF0aW9uX3RyYWNrZXIgPSAwO1xyXG4gIH1cclxuICByZW5kZXJmKHQ6IG51bWJlcik6IHNwcml0ZSB7XHJcbiAgICBsZXQgY3Vycl9hbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbdGhpcy5jdXJyZW50XVswXTtcclxuICAgIGxldCBsZW5ndGg6IG51bWJlciA9IHRoaXMuYW5pbWF0aW9uc1t0aGlzLmN1cnJlbnRdWzFdO1xyXG4gICAgbGV0IGluZGV4ID0gMDtcclxuICAgIGZvciAoOyBpbmRleCA8IGN1cnJfYW5pbWF0aW9uLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcclxuICAgICAgbGV0IGtleWZyYW1lX3RpbWUgPSBjdXJyX2FuaW1hdGlvbltpbmRleF1bMF07XHJcbiAgICAgIGxldCBuZXh0X2tleWZyYW1lX3RpbWUgPSBjdXJyX2FuaW1hdGlvbltpbmRleCArIDFdWzBdO1xyXG4gICAgICBpZiAodGhpcy5hbmltYXRpb25fdHJhY2tlciA+PSBrZXlmcmFtZV90aW1lICYmIHRoaXMuYW5pbWF0aW9uX3RyYWNrZXIgPCBuZXh0X2tleWZyYW1lX3RpbWUpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbl90cmFja2VyID0gdGhpcy5hbmltYXRpb25fdHJhY2tlciArIHQ7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIC8vUmV0dXJucyB0aGUgcmF3IHNwcml0ZSB0aGF0J3MgY29ycmVjdCB0byBzaG93IGF0IHRoaXMgdGltZVxyXG4gICAgICAgIHJldHVybiBjdXJyX2FuaW1hdGlvbltpbmRleF1bMV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmFuaW1hdGlvbl90cmFja2VyID49IGxlbmd0aCkge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbl90cmFja2VyID0gMDtcclxuICAgICAgdGhpcy5hbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbl90cmFja2VyICs9IHQ7XHJcbiAgICB9XHJcbiAgICAvL1JldHVybnMgdGhlIGxhc3QgYXBwcm9wcmlhdGUgZnJhbWUgdW50aWwgdGhlIGFuaW1hdGlvbiBpcyBvdmVyLlxyXG4gICAgcmV0dXJuIGN1cnJfYW5pbWF0aW9uW2luZGV4XVsxXTtcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBoaXRib3h7XHJcbiAgd2lkdGg6bnVtYmVyLFxyXG4gIGhlaWdodDpudW1iZXIsXHJcbiAgeF9vZmZzZXQ6bnVtYmVyLFxyXG4gIHlfb2Zmc2V0Om51bWJlclxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHBhcmFtc3tcclxuICBbaW5kZXg6c3RyaW5nXTpib29sZWFufHN0cmluZ3xudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBib3VuZGluZ19ib3h7XHJcbiAgYm90dG9tX2xlZnQ6VmVjdG9yLFxyXG4gIHRvcF9yaWdodDpWZWN0b3JcclxufVxyXG5cclxuaW50ZXJmYWNlIGNhY2hlX2VudHJpZXN7XHJcbiAgW2luZGV4OnN0cmluZ106YW55XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBvYmp7XHJcbiAgLy9VcmwgdG8gdGhlIG9iamVjdCdzIGluZGl2aWR1YWwgc3ByaXRlLCBvciBhbGwgb2YgaXRzIHNwcml0ZXNcclxuICAvL2J1bmRsZWQgaW50byBhIHNwcml0ZXNoZWV0XHJcbiAgc3ByaXRlX3VybCA9IFwiLi9zcHJpdGVzL0Vycm9yLnBuZ1wiO1xyXG4gIC8vVGhpcyBpcyB0aGUgbG9hZGVkIHNwcml0ZS9zcHJpdGVzaGVldCBvZiB0aGUgb2JqZWN0XHJcbiAgLy93aGljaCBpcyBmZXRjaGVkIGZyb20gdGhlIHVybCBhYm92ZVxyXG4gIHNwcml0ZV9zaGVldDogSFRNTEltYWdlRWxlbWVudDtcclxuICBzdGF0ZTogb2JqX3N0YXRlO1xyXG4gIHJlbmRlcl90eXBlID0gcmVuZGVyX3R5cGUuc3ByaXRlO1xyXG4gIC8vVGhlc2Ugc2hvdWxkIGNvcnJlc3BvbmQgdG8gdGhlIGFjdHVhbCBvYmplY3QncyBzcHJpdGUgaGVpZ2h0IGFuZCB3aWR0aFxyXG4gIC8vSWYgdXNpbmcgYSBzcHJpdGUgc2hlZXQsIHRoZXNlIGJlIG9uZSBzcHJpdGUncyBoZWlnaHQgYW5kIHdpZHRoLlxyXG4gIGhlaWdodDogbnVtYmVyO1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgXHJcbiAgY29sbGlzaW9uOiBib29sZWFuID0gZmFsc2U7XHJcbiAgaGl0Ym94OiBoaXRib3hcclxuICBpZDogc3RyaW5nO1xyXG4gIC8vQXJyYXkgb2YgYmluZCBpZHNcclxuICAvL0JpbmRzIGFyZSBpbmRlbnRpZmllZCBieSBhIHVuaXF1ZSBudW1iZXIgdGhhdCBpcyByZXR1cm4gd2hlblxyXG4gIC8vVGhlIGJpbmQgaXMgY3JlYXRlZC4gV2UgbXVzdCBzdG9yZSB0aGVzZSBpZHMgaW4gb3JkZXIgdG8gXHJcbiAgLy9kZWxldGUgdGhlIGJpbmRzIHdoZW4gdGhleSBhcmUgbWFudWFsbHkgdW5ib3VuZCwgb3IgdGhlIG9iamVjdCBpcyBkZWxldGVkLlxyXG4gIGJpbmRzOiBBcnJheTxudW1iZXI+O1xyXG4gIHRhZ3M6c3RyaW5nW10gPSBbXTtcclxuICAvL3RhZ3MgYXJlIHVzZWQgdG8gZXhjbHVkZSBvciBpbmNsdWRlIG9iamVjdHMgd2hlbiBjaGVja2luZyBmb3IgY29sbGlzaW9ucyxcclxuICAvL2FuZCBmb3Igb2JqZWN0IGlkZW50aWZpY2F0aW9uIC8gY2xhc3NpZmljYXRpb24gaW4gc2NyaXB0c1xyXG4gIHJlbmRlciA9IHRydWU7XHJcbiAgYW5pbWF0aW9ucyA9IG5ldyBhbmltYXRpb25zKCk7XHJcbiAgYXVkaW8gPSBuZXcgYXVkaW8oKTtcclxuICAvL0xhc3QgcmVuZGVyIHRpbWUsIHVzZWQgdG8gY2FsY3VsYXRlIGRlbHRhX3RpbWVcclxuICBsYXN0X3JlbmRlcjpudW1iZXIgPSAwO1xyXG4gIGdhbWU6Z2FtZTx1bmtub3duPjtcclxuICBwYXJlbnQ6Y29tcG9zaXRlX29iajtcclxuICAvL1BhcmFtcyBhcmUgb3B0aW9ucyBmb3IgdGhlIG9iamVjdCwgdGhhdCBkbyBub3QgcmVseSBvbiBzdGF0ZVxyXG4gIC8vIEZvciBleGFtcGxlLCB0aGUgc2lkZSBvZiBhIHBpZWNlIGluIGNoZXNzLlxyXG4gIHBhcmFtczp1bmtub3duID0ge307XHJcbiAgc3RhdGljID0gZmFsc2U7XHJcbiAgbGF5ZXI6bnVtYmVyID0gMTtcclxuICBzYXZlX3RvX2ZpbGU6Ym9vbGVhbiA9IHRydWU7XHJcbiAgdGlja19zdGF0ZSA9IHRydWU7XHJcbiAgc2NhbGVfdHlwZSA9IHNjYWxlX3R5cGUuZ3JvdztcclxuICBzdGF0aWMgZGVmYXVsdF9wYXJhbXM6dW5rbm93biA9IHt9O1xyXG4gIHByb3hpbWl0eV9ib3hlczpTZXQ8VmVjdG9yPiA9IG5ldyBTZXQoKTtcclxuICBvcGFjaXR5Om51bWJlcjtcclxuICB0ZXh0X25vZGVzOlRleHRbXSA9IFtdO1xyXG4gIGNhY2hlX2VudHJpZXM6Y2FjaGVfZW50cmllcyA9IHt9O1xyXG4gIGdldFN0YXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XHJcbiAgfVxyXG4gIC8vQW5pbWF0aW9ucyBzaG91bGQgYmUgcmVnaXN0ZXJlZCB1c2luZyB0aGlzLmFuaW1hdGlvbnMuYWRkIGluIHRoaXMgbWV0aG9kXHJcbiAgcmVnaXN0ZXJBbmltYXRpb25zKCkge1xyXG5cclxuICB9XHJcbiAgLy9Tb3VuZHMgc2hvdWxkIGJlIHJlZ2lzdGVyZWQgdXNpbmcgdGhpcy5hdWRpby5hZGQgaW4gdGhpcyBtZXRob2QuXHJcbiAgcmVnaXN0ZXJBdWRpbygpIHtcclxuXHJcbiAgfVxyXG4gIGRlZmF1bHRQYXJhbXMoKTp1bmtub3due1xyXG4gICAgcmV0dXJuIGNvcHkodGhpcy5kZWZhdWx0UGFyYW1zKTtcclxuICB9XHJcbiAgeF9wcm94eSh2YWw6bnVtYmVyKXtcclxuICAgIHJldHVybiB2YWw7XHJcbiAgfVxyXG4gIHlfcHJveHkodmFsOm51bWJlcil7XHJcbiAgICByZXR1cm4gdmFsO1xyXG4gIH1cclxuICByZWNhbGN1bGF0ZVByb3hCb3hlcygpe1xyXG4gICAgbGV0IGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRpbmdCb3goKTtcclxuICAgICAgICAgIFxyXG4gICAgbGV0IHByb3hfbWFwID0gdGhpcy5nYW1lLmdldFJvb20oKS5wcm94aW1pdHlfbWFwO1xyXG4gICAgbGV0IGJveGVzID0gcHJveF9tYXAuZ2V0Qm94TG9jYXRpb25zKHRoaXMpO1xyXG4gICAgZm9yIChsZXQgY29yZCBvZiB0aGlzLnByb3hpbWl0eV9ib3hlcykge1xyXG4gICAgICBwcm94X21hcC5yZW1vdmUoY29yZCwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBjb3JkIG9mIGJveGVzKSB7XHJcbiAgICAgIHByb3hfbWFwLmFkZChjb3JkLCB0aGlzKTtcclxuICAgIH0gIFxyXG4gIH1cclxuICBjb25zdHJ1Y3RvcihzdGF0ZTpvYmpfc3RhdGUscGFyYW1zID0gb2JqLmRlZmF1bHRfcGFyYW1zKSB7XHJcblxyXG4gICAgdGhpcy5pZCA9IFwiXCIgKyBjb3VudGVyO1xyXG4gICAgdGhpcy5iaW5kcyA9IFtdO1xyXG4gICAgY291bnRlcisrO1xyXG4gICAgdGhpcy5wYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LHBhcmFtcyk7XHJcbiAgICB0aGlzLnJlZ2lzdGVyQ29udHJvbHMoKTtcclxuICAgIHRoaXMucmVnaXN0ZXJBdWRpbygpO1xyXG4gICAgbGV0IHBvc2l0aW9uX3Byb3h5ID0gKHBvczpWZWN0b3IpID0+IG5ldyBQcm94eShwb3MsIHtcclxuICAgICAgXCJzZXRcIjogKHRhcmdldCwgcHJvcCwgcmVjaWV2ZXI6IG51bWJlcikgPT4ge1xyXG5cclxuICAgICAgICBpZiAocHJvcCA9PSBcInlcIiB8fCBwcm9wID09IFwieFwiKSB7XHJcbiAgICAgICAgICBpZiAodGFyZ2V0W3Byb3BdID09IHJlY2lldmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGV0IHJvb20gPSB0aGlzLmdhbWUuZ2V0Um9vbSgpO1xyXG4gICAgICAgICAgbGV0IG9mZnNldCA9IDBcclxuICAgICAgICAgIGlmIChwcm9wID09IFwieVwiKSB7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZ2V0RnVsbENvbGxpc2lvbkJveCgpLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIGlmIChwcm9wID09IFwieFwiKSB7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZ2V0RnVsbENvbGxpc2lvbkJveCgpLndpZHRoIC8gMjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChyZWNpZXZlciA+IDApIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChyZWNpZXZlciA+IHJvb20ucHJveGltaXR5X21hcC5sZW5ndGggLyAyICsgb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIHJlY2lldmVyID0gcm9vbS5wcm94aW1pdHlfbWFwLmxlbmd0aCAvIDIgKyBvZmZzZXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocmVjaWV2ZXIgPCAtcm9vbS5wcm94aW1pdHlfbWFwLmxlbmd0aCAvIDIgKyBvZmZzZXQpIHtcclxuICAgICAgICAgICAgcmVjaWV2ZXIgPSAtcm9vbS5wcm94aW1pdHlfbWFwLmxlbmd0aCAvIDIgKyBvZmZzZXRcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHRoaXMueF9wcm94eShyZWNpZXZlcik7XHJcbiAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlUHJveEJveGVzKCk7XHJcbiAgICAgICAgICBpZih0aGlzLnN0YXRpYyl7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5yZWRyYXdTdGF0aWNzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGxldCBzY2FsaW5nX3Byb3h5ID0gKGE6ZGltZW5zaW9ucykgPT4gbmV3IFByb3h5KGEse1xyXG4gICAgICBcInNldFwiIDogKHRhcmdldCxwcm9wLHJlY2lldmVyOm51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmKHByb3AgPT0gXCJ3aWR0aFwiIHx8IHByb3AgPT0gXCJoZWlnaHRcIil7XHJcbiAgICAgICAgICB0YXJnZXRbcHJvcF0gPSByZWNpZXZlcjtcclxuICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVQcm94Qm94ZXMoKTtcclxuICAgICAgICAgIGlmKHRoaXMuc3RhdGljKXtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLnJlZHJhd1N0YXRpY3MoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy9DcmVhdGVzIGEgY29weSBvZiB0aGUgcGFzc2VkIGluIGluaXRpYWwgc3RhdGUgdG8gYXZvaWQgXHJcbiAgICAvL1VwZGF0aW5nIHRoZSBzYXZlZCBzdGF0ZSBvZiB0aGUgcm9vbVxyXG4gICAgdGhpcy5zdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcclxuICAgIGlmKCFzdGF0ZS52ZWxvY2l0eSl7XHJcbiAgICAgIHRoaXMuc3RhdGUudmVsb2NpdHkgPSBWZWMuY3JlYXRlKDAsMCk7XHJcbiAgICB9XHJcbiAgICBpZighc3RhdGUuc2NhbGluZyl7XHJcbiAgICAgIHRoaXMuc3RhdGUuc2NhbGluZyA9IHtoZWlnaHQ6MSx3aWR0aDoxfTtcclxuICAgIH1cclxuICAgIGlmKCFzdGF0ZS5yb3RhdGlvbil7XHJcbiAgICAgIHRoaXMuc3RhdGUucm90YXRpb24gPSAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBQcm94eSh0aGlzLnN0YXRlLHtcclxuICAgICAgXCJzZXRcIjogKHRhcmdldCwgcHJvcCwgcmVjaWV2ZXI6IHVua25vd24pID0+IHtcclxuICAgICAgICBpZiAocHJvcCA9PSBcInBvc2l0aW9uXCIpIHtcclxuICAgICAgICAgIGxldCByZXMgPSByZWNpZXZlciBhcyBWZWN0b3I7XHJcbiAgICAgICAgICBsZXQgdmVjID0gVmVjLmNyZWF0ZShyZXMueCxyZXMueSk7XHJcbiAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBwb3NpdGlvbl9wcm94eSh2ZWMpO1xyXG4gICAgICAgICAgaWYodGhpcy5nYW1lICYmIHRoaXMuZ2FtZS5nZXRSb29tKCkpe1xyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlUHJveEJveGVzKCk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGljKXtcclxuICAgICAgICAgICAgICB0aGlzLmdhbWUucmVkcmF3U3RhdGljcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmKHByb3AgPT0gXCJzY2FsaW5nXCIpe1xyXG4gICAgICAgICAgbGV0IHJlcyA9IHJlY2lldmVyIGFzIGRpbWVuc2lvbnM7XHJcbiAgICAgICAgICBsZXQgZGltID0ge3dpZHRoOnJlcy53aWR0aCxoZWlnaHQ6cmVzLmhlaWdodH07XHJcbiAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzY2FsaW5nX3Byb3h5KGRpbSk7XHJcbiAgICAgICAgICBpZih0aGlzLmdhbWUgJiYgdGhpcy5nYW1lLmdldFJvb20oKSl7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVQcm94Qm94ZXMoKTtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0aWMpe1xyXG4gICAgICAgICAgICAgIHRoaXMuZ2FtZS5yZWRyYXdTdGF0aWNzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICh0YXJnZXQgYXMgYW55KVtwcm9wXSA9IHJlY2lldmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnN0YXRlLnBvc2l0aW9uID0gcG9zaXRpb25fcHJveHkodGhpcy5zdGF0ZS5wb3NpdGlvbik7IFxyXG4gICAgdGhpcy5zdGF0ZS5zY2FsaW5nID0gc2NhbGluZ19wcm94eSh0aGlzLnN0YXRlLnNjYWxpbmcpO1xyXG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XHJcbiAgfVxyXG4gIGdldFJvb20oKXtcclxuICAgIHJldHVybiB0aGlzLmdhbWUuZ2V0Um9vbSgpO1xyXG4gIH1cclxuICBsb2FkKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGxldCBhID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIGxldCBwID0gdGhpcy5zcHJpdGVfdXJsO1xyXG4gICAgICBpZihERUJVRyl7XHJcbiAgICAgICAgcCA9IHBhdGguam9pbihyb290X3BhdGgsdGhpcy5zcHJpdGVfdXJsKTtcclxuICAgICAgfVxyXG4gICAgICBhLnNyYyA9IHA7XHJcbiAgICAgIGEub25sb2FkID0gKGFzeW5jICgpID0+IHtcclxuICAgICAgICBfdGhpcy5zcHJpdGVfc2hlZXQgPSBhO1xyXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyQW5pbWF0aW9ucygpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYXVkaW8ubG9hZCgpO1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gIH1cclxuICAvL1dpdGhpbiBub3JtYWwgb2JqZWN0cywgdGhpcyBqdXN0IHJldHVybnMgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgb2JqZWN0LlxyXG4gIC8vVGhpcyBtZXRob2QgaXMgb3ZlcndyaXR0ZW4gYnkgY29tcG9zaXRlIG9iamVjdHMsIHdoaWNoIHJldHVybnMgZXZlcnkgb2JqZWN0XHJcbiAgLy90aGF0IHRoZSBjb21wb3NpdGUgb2JqZWN0IGNvbnRhaW5zLiBUaGlzIHNpbXBsaWZpZXMgdGhlIGJhY2tlbmQgd29yaywgYXMgZWFjaFxyXG4gIC8vb2JqZWN0IHJldHVybnMgYW4gYXJyYXkgb2YgYXRsZWFzdCBvbmUgb2JqZWN0LlxyXG4gIGNvbWJpbmVkT2JqZWN0cygpOm9ialtde1xyXG4gICAgcmV0dXJuIFt0aGlzXTtcclxuICB9XHJcbiAgZ2V0Qm91bmRpbmdCb3goKTpib3VuZGluZ19ib3h7XHJcbiAgICBsZXQgY29sbF9ib3ggPSB0aGlzLmdldEZ1bGxDb2xsaXNpb25Cb3goKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvcF9yaWdodDp7XHJcbiAgICAgICAgeDpjb2xsX2JveC54ICsgY29sbF9ib3gud2lkdGgvMixcclxuICAgICAgICB5OmNvbGxfYm94LnkgKyBjb2xsX2JveC5oZWlnaHQvMlxyXG4gICAgICB9LFxyXG4gICAgICBib3R0b21fbGVmdDp7XHJcbiAgICAgICAgeDpjb2xsX2JveC54IC0gY29sbF9ib3gud2lkdGgvMixcclxuICAgICAgICB5OmNvbGxfYm94LnkgLSBjb2xsX2JveC5oZWlnaHQvMlxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vRGlzdGFuY2UgZnJvbSBvbmUgb2JqZWN0IHRvIGFub3RoZXIuXHJcbiAgZGlzdGFuY2UodGFyZ2V0Om9iaik6bnVtYmVye1xyXG4gICAgcmV0dXJuIFZlYy5kaXN0YW5jZSh0aGlzLnN0YXRlLnBvc2l0aW9uLHRhcmdldC5zdGF0ZS5wb3NpdGlvbik7XHJcbiAgfVxyXG4gIGFwcGx5Rm9yY2UodmVsOlZlY3Rvcil7XHJcbiAgICB0aGlzLnN0YXRlLnZlbG9jaXR5LnggKz0gdmVsLng7XHJcbiAgICB0aGlzLnN0YXRlLnZlbG9jaXR5LnkgKz0gdmVsLnk7XHJcbiAgfVxyXG4gIGFuZ2xlVG93YXJkcyhhOiBvYmopOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuYW5nbGVUb3dhcmRzUG9pbnQoYS5zdGF0ZS5wb3NpdGlvbik7XHJcbiAgfVxyXG4gIGFuZ2xlVG93YXJkc1BvaW50KHRhcmdldDpWZWN0b3IpOm51bWJlcntcclxuICAgIHJldHVybiA5MCAtIE1hdGguYXRhbjIoKHRhcmdldC55IC0gdGhpcy5zdGF0ZS5wb3NpdGlvbi55KSwodGFyZ2V0LnggLSB0aGlzLnN0YXRlLnBvc2l0aW9uLngpKSAqIDE4MC9NYXRoLlBJO1xyXG4gIH1cclxuICBiaW5kQ29udHJvbChrZXk6IHN0cmluZywgeDogZXhlY190eXBlLCBmdW5jOiBjb250cm9sX2Z1bmMsIGludGVydmFsID0gMSkge1xyXG4gICAgdGhpcy5iaW5kcy5wdXNoKEJpbmQoa2V5LCBmdW5jLCB4LCBpbnRlcnZhbCwgdGhpcykpO1xyXG4gIH1cclxuICAvL1RoaXMgbWV0aG9kIGlzIHdoZXJlIGNvbnRyb2xzIGFuZCBrZXliaW5kcyBzaG91bGRcclxuICAvL2JlIGRlZmluZWQgdXNpbmcgYmluZENvbnRyb2xcclxuICByZWdpc3RlckNvbnRyb2xzKCl7XHJcblxyXG4gIH1cclxuICBzdGF0ZWYodGltZTpudW1iZXIpe1xyXG4gICAgZm9yKGxldCBub2RlIG9mIHRoaXMudGV4dF9ub2Rlcyl7XHJcbiAgICAgIG5vZGUuc3RhdGVmKHRpbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBkZWxldGUoKSB7XHJcbiAgICBmb3IgKGxldCBhIG9mIHRoaXMuYmluZHMpIHtcclxuICAgICAgVW5iaW5kKGEpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgY29yZCBvZiB0aGlzLnByb3hpbWl0eV9ib3hlcyl7XHJcbiAgICAgIHRoaXMuZ2FtZS5nZXRSb29tKCkucHJveGltaXR5X21hcC5yZW1vdmUoY29yZCx0aGlzKTtcclxuICAgIH1cclxuICAgIHRoaXMuZ2FtZS5nZXRSb29tKCkuZGVsZXRlSXRlbSh0aGlzLmlkKTtcclxuICAgIGlmKHRoaXMuc3RhdGljKXtcclxuICAgICAgdGhpcy5nYW1lLnJlZHJhd1N0YXRpY3MoKTtcclxuICAgIH1cclxuICB9XHJcbiAgVW5iaW5kQWxsKCl7XHJcbiAgICBmb3IgKGxldCBhIG9mIHRoaXMuYmluZHMpIHtcclxuICAgICAgVW5iaW5kKGEpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL1JldHVybnMgdGhlIGNvbGxpc2lvbiBib3ggb2YgdGhlIG9iamVjdFxyXG4gIC8vRG9lcyBub3QgaGF2ZSB0byBjb3JyZXNwb25kIHRvIHRoZSBvYmplY3QncyBzcHJpdGUncyBzaXplIFxyXG4gIC8vQSBjb21wb3NpdGUgb2JqZWN0IGluc3RlYWQgcmV0dXJucyB0aGUgYm91bmRpbmcgYm94IHRoYXQgXHJcbiAgLy9jb250YWlucyBldmVyeSBvbmUgb2YgaXRzIGNvbnRhaW5lZCBvYmplY3RzXHJcbiAgZ2V0RnVsbENvbGxpc2lvbkJveCgpOmNvbGxpc2lvbl9ib3h7XHJcbiAgICAvL0lmIGEgZGV2ZWxvcGVyIGRlZmluZWQgaGl0Ym94IGV4aXN0cywgdXNlIHRoYXQsIG90aGVyd2lzZVxyXG4gICAgLy9nZW5lcmF0ZSBpdCB1c2luZyB0aGUgc3ByaXRlIHdpZHRoIC8gaGVpZ2h0XHJcbiAgICBpZih0aGlzLmhpdGJveCl7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgeDp0aGlzLnN0YXRlLnBvc2l0aW9uLngsXHJcbiAgICAgICAgeTp0aGlzLnN0YXRlLnBvc2l0aW9uLnksXHJcbiAgICAgICAgd2lkdGg6dGhpcy5oaXRib3gud2lkdGggKiB0aGlzLnN0YXRlLnNjYWxpbmcud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OnRoaXMuaGl0Ym94LmhlaWdodCAqIHRoaXMuc3RhdGUuc2NhbGluZy5oZWlnaHRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB4OnRoaXMuc3RhdGUucG9zaXRpb24ueCxcclxuICAgICAgICB5OnRoaXMuc3RhdGUucG9zaXRpb24ueSxcclxuICAgICAgICB3aWR0aDp0aGlzLndpZHRoICogdGhpcy5zdGF0ZS5zY2FsaW5nLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDp0aGlzLmhlaWdodCAqIHRoaXMuc3RhdGUuc2NhbGluZy5oZWlnaHRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvL1RoaXMgaXMgYW5vdGhlciBtZXRob2RzLCBzaW1pbGFyIHRvIGdldENvbWJpbmVkXHJcbiAgLy9KdXN0IHJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgb2JqZWN0J3MgY29sbGlzaW9uIGJveFxyXG4gIC8vT3ZlcndyaXR0ZW4gaW4gY29tcG9zaXRlIG9iamVjdHMgdG8gcmV0dXJuIGV2ZXJ5IG9iamVjdCdzIGNvbGxpc2lvbiBib3hcclxuICAvL3dpdGhpbiB0aGUgY29tcG9zaXRlIG9iZWN0LlxyXG4gIGdldEFsbENvbGxpc2lvbkJveGVzKCk6Y29sbGlzaW9uX2JveFtde1xyXG4gICAgcmV0dXJuIFt0aGlzLmdldEZ1bGxDb2xsaXNpb25Cb3goKV1cclxuICB9XHJcbiAgY2FjaGUoa2V5OnN0cmluZyx2YWx1ZT86YW55LCl7XHJcbiAgICBpZighdGhpcy5jYWNoZV9lbnRyaWVzW2tleV0pe1xyXG4gICAgICB0aGlzLmNhY2hlX2VudHJpZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuY2FjaGVfZW50cmllc1trZXldO1xyXG4gIH1cclxuICAvL0NoZWNrcyB0byBzZWUgaWYgYW4gb2JqZWN0IGFjdHVhbGx5IGNvbGxpZGVzIHdpdGggdGhlIHByb3ZpZGVkIGJveC5cclxuICAvL0EgYm94IHJlcHJlc2VudHMgYW4gYXJlYSB3aXRoaW4gdGhlIGdhbWUgc3BhY2VcclxuICAvL0NoZWNraW5nIGZvciBjb2xsaXNpb25zIGlzIHRyaXZpYWwgY3VycmVudGx5LCBhcyBhbGwgaGl0Ym94ZXMgYXJlIGF4aXMgYWxpZ25lZFxyXG4gIC8vQnV0IGltcGxlbWVudGluZyBhIG1vcmUgY29tcGxpY2F0ZWQgcGh5c2ljcyBlbmdpbmUgd291bGQgbWFrZSB0aGlzIG1ldGhvZCdzIGltcGwuXHJcbiAgLy9zaWduaWZpY2F0bHkgbW9yZSBjb21wbGV4LlxyXG4gIGNvbGxpZGVzV2l0aEJveChvdGhlcl9vYmplY3Q6IGNvbGxpc2lvbl9ib3gpOiBib29sZWFuIHtcclxuICAgIGxldCBjb2xsaWRlc19ob3JyaXpvbnRhbGx5ID0gZmFsc2UsIGNvbGxpZGVzX3ZlcnRpY2FsbHkgPSBmYWxzZTtcclxuICAgIGxldCBoYm94ID0gdGhpcy5oaXRib3g7XHJcbiAgICBpZighdGhpcy5oaXRib3gpe1xyXG4gICAgICBoYm94ID0ge1xyXG4gICAgICAgIHhfb2Zmc2V0OjAsXHJcbiAgICAgICAgeV9vZmZzZXQ6MCxcclxuICAgICAgICB3aWR0aDp0aGlzLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDp0aGlzLmhlaWdodFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgb2JqZWN0X2JvdW5kcyA9IHtcclxuICAgICAgbGVmdDogKHRoaXMuc3RhdGUucG9zaXRpb24ueCArIGhib3gueF9vZmZzZXQgLSBoYm94LndpZHRoICogdGhpcy5zdGF0ZS5zY2FsaW5nLndpZHRoIC8gMiksXHJcbiAgICAgIHJpZ2h0OiAodGhpcy5zdGF0ZS5wb3NpdGlvbi54ICsgaGJveC54X29mZnNldCArIGhib3gud2lkdGggKiB0aGlzLnN0YXRlLnNjYWxpbmcud2lkdGggLyAyKSxcclxuICAgICAgdG9wOiAodGhpcy5zdGF0ZS5wb3NpdGlvbi55ICsgaGJveC55X29mZnNldCArIGhib3guaGVpZ2h0ICogdGhpcy5zdGF0ZS5zY2FsaW5nLmhlaWdodCAvIDIpLFxyXG4gICAgICBib3R0b206ICh0aGlzLnN0YXRlLnBvc2l0aW9uLnkgKyBoYm94Lnlfb2Zmc2V0IC0gaGJveC5oZWlnaHQgKiB0aGlzLnN0YXRlLnNjYWxpbmcuaGVpZ2h0IC8gMilcclxuICAgIH1cclxuXHJcbiAgICBsZXQgb3RoZXJfb2JqZWN0X2JvdW5kcyA9IHtcclxuICAgICAgbGVmdDogKG90aGVyX29iamVjdC54IC0gb3RoZXJfb2JqZWN0LndpZHRoIC8gMiksXHJcbiAgICAgIHJpZ2h0OiAob3RoZXJfb2JqZWN0LnggKyBvdGhlcl9vYmplY3Qud2lkdGggLyAyKSxcclxuICAgICAgdG9wOiAob3RoZXJfb2JqZWN0LnkgKyBvdGhlcl9vYmplY3QuaGVpZ2h0IC8gMiksXHJcbiAgICAgIGJvdHRvbTogKG90aGVyX29iamVjdC55IC0gb3RoZXJfb2JqZWN0LmhlaWdodCAvIDIpXHJcbiAgICB9XHJcblxyXG4gICAgLy9XZSBjYW4gY29tcGFyZSB0aGUgc2lkZXMgb2YgdGhlIGJveGVzIHRvIHNlZSBpZiB0aGV5IG92ZXJsYXBcclxuICAgIC8vV2UgY2hlY2sgb25jZSBmb3IgaG9pem9udGFsIG92ZXJsYXAsIHRoZW4gdmVydGljYWwuXHJcbiAgICBpZiAoKG9iamVjdF9ib3VuZHMubGVmdCA+PSBvdGhlcl9vYmplY3RfYm91bmRzLmxlZnQgJiYgb2JqZWN0X2JvdW5kcy5sZWZ0IDwgb3RoZXJfb2JqZWN0X2JvdW5kcy5yaWdodCkgfHwgKG90aGVyX29iamVjdF9ib3VuZHMubGVmdCA+IG9iamVjdF9ib3VuZHMubGVmdCAmJiBvdGhlcl9vYmplY3RfYm91bmRzLmxlZnQgPCBvYmplY3RfYm91bmRzLnJpZ2h0KSkge1xyXG4gICAgICBjb2xsaWRlc19ob3JyaXpvbnRhbGx5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICgob2JqZWN0X2JvdW5kcy5ib3R0b20gPj0gb3RoZXJfb2JqZWN0X2JvdW5kcy5ib3R0b20gJiYgb2JqZWN0X2JvdW5kcy5ib3R0b20gPCBvdGhlcl9vYmplY3RfYm91bmRzLnRvcCkgfHwgKG90aGVyX29iamVjdF9ib3VuZHMuYm90dG9tID4gb2JqZWN0X2JvdW5kcy5ib3R0b20gJiYgb3RoZXJfb2JqZWN0X2JvdW5kcy5ib3R0b20gPCBvYmplY3RfYm91bmRzLnRvcCkpe1xyXG4gICAgICBjb2xsaWRlc192ZXJ0aWNhbGx5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb2xsaWRlc19ob3JyaXpvbnRhbGx5ICYmIGNvbGxpZGVzX3ZlcnRpY2FsbHk7XHJcbiAgfVxyXG4gIC8vVGhlIHBhcnRpY2xlIG11c3QgYmUgcmVnaXN0ZXJlZCBpbiB0aGUgcm9vbSdzIHJlZ2lzdGVyUGFydGljbGVzIG1ldGhvZCBcclxuICAvL1RoZSBuYW1lIHBhcmFtZXRlciBzaG91bGQgY29ycmVzcG9uZCB0byB0aGUga2V5IG9mIGEgcGFydGljbGVcclxuICBlbWl0UGFydGljbGUobmFtZTpzdHJpbmcsb2Zmc2V0OlZlY3RvcixsaWZldGltZTpudW1iZXIscmFuZ2U6bnVtYmVyKXtcclxuICAgIGxldCByb29tID0gdGhpcy5nYW1lLmdldFJvb20oKTtcclxuICAgIGxldCBzdCA9IHRoaXMuc3RhdGUgYXMgdW5rbm93biBhcyBvYmpfc3RhdGU7XHJcbiAgICBsZXQgZmluYWxfcG9zaXRpb246VmVjdG9yID0ge1xyXG4gICAgICB4OnN0LnBvc2l0aW9uLnggKyBvZmZzZXQueCxcclxuICAgICAgeTpzdC5wb3NpdGlvbi55ICsgb2Zmc2V0LnlcclxuICAgIH1cclxuICAgIHJvb20uZW1pdFBhcnRpY2xlKG5hbWUsZmluYWxfcG9zaXRpb24sbGlmZXRpbWUscmFuZ2UpXHJcbiAgfVxyXG4gIC8vSW50ZXJuYWwgbWV0aG9kIHRoYXQga2VlcHMgY2FsY3VsYXRlcyB0aGUgZGVsdGFfdGltZVxyXG4gIC8vQWxzbyBjb252ZXJ0cyBpbmRpdmlkdWFsIHNwcml0ZXMgaW50byBhcnJheXMgb2Ygb25lIHNwcml0ZS5cclxuICByZW5kZXJUcmFjayh0aW1lOm51bWJlcik6IHBvc2l0aW9uZWRfc3ByaXRlW10ge1xyXG4gICAgbGV0IHJlbmRlcmVkID0gdGhpcy5yZW5kZXJmKHRpbWUgLSB0aGlzLmxhc3RfcmVuZGVyKTtcclxuICAgIGxldCBmaW5hbDpwb3NpdGlvbmVkX3Nwcml0ZVtdO1xyXG4gICAgdGhpcy5sYXN0X3JlbmRlciA9IHRpbWU7XHJcbiAgICBpZihBcnJheS5pc0FycmF5KHJlbmRlcmVkKSlcclxuICAgICAgZmluYWwgPSByZW5kZXJlZFxyXG4gICAgZWxzZXtcclxuICAgICAgZmluYWwgPSBbcmVuZGVyZWRdXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmluYWw7XHJcbiAgfVxyXG4gIC8vTW9zdCBvYmplY3RzIHNob3VsZCBub3QgYmUgb3ZlcndyaXR0aW5nIHRoZSByZW5kZXJmIG1ldGhvZFxyXG4gIC8vUmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgc3ByaXRlIGZvciB0aGUgb2JqZWN0XHJcbiAgcmVuZGVyZih0aW1lOiBudW1iZXIpOiBwb3NpdGlvbmVkX3Nwcml0ZVtdIHwgcG9zaXRpb25lZF9zcHJpdGV7XHJcbiAgICAvL0lmIHRoZSBvYmplY3QgZG9lc24ndCBoYXZlIHJlZ2lzdGVyZWQgYW5pbWF0aW9ucywgb3IgaXNuJ3QgcGxheWluZyBvbmVcclxuICAgIC8vV2UgaGF2ZSB0byBjcmVhdGUgdGhlIHNwcml0ZSBoZXJlLlxyXG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuYW5pbWF0aW9ucy5hbmltYXRpb25zKS5sZW5ndGggPT0gMCB8fCAhdGhpcy5hbmltYXRpb25zLmN1cnJlbnQpIHtcclxuICAgICAgaWYoIXRoaXMuc3ByaXRlX3NoZWV0KXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3ByaXRlOnVuZGVmaW5lZCxcclxuICAgICAgICAgIHg6dGhpcy5zdGF0ZS5wb3NpdGlvbi54LFxyXG4gICAgICAgICAgeTp0aGlzLnN0YXRlLnBvc2l0aW9uLnlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgbGV0IHNwcml0ZV9oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgbGV0IHNwcml0ZV93aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgIC8vVGVjaG5pY2FsbHkgd2UgZG9uJ3QgbmVlZCB0byBkZWZpbmUgYW4gb2JqZWN0IGhlaWdodCBhbmQgd2lkdGhcclxuICAgICAgLy9JZiB0aGUgc3ByaXRlX3VybCBwb2ludHMgdG8gYSBzaW5nbGUgc3RhdGljIHNwcml0ZSwgYXMgd2UgY2FuIGp1c3QgcHVsbFxyXG4gICAgICAvL3RoZSBkaW1lbnNpb25zIGZyb20gdGhlIGltYWdlXHJcbiAgICAgIGlmICh0aGlzLmhlaWdodCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzcHJpdGVfaGVpZ2h0ID0gdGhpcy5zcHJpdGVfc2hlZXQuaGVpZ2h0O1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLndpZHRoID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHNwcml0ZV93aWR0aCA9IHRoaXMuc3ByaXRlX3NoZWV0LndpZHRoO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3ByaXRlOiB7XHJcbiAgICAgICAgICBzcHJpdGVfc2hlZXQ6IHRoaXMuc3ByaXRlX3NoZWV0LFxyXG4gICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgIHNwcml0ZV93aWR0aDogc3ByaXRlX3dpZHRoLFxyXG4gICAgICAgICAgc3ByaXRlX2hlaWdodDogc3ByaXRlX2hlaWdodCxcclxuICAgICAgICAgIG9wYWNpdHk6dGhpcy5vcGFjaXR5IHx8IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIHg6IHRoaXMuc3RhdGUucG9zaXRpb24ueCxcclxuICAgICAgICB5OiB0aGlzLnN0YXRlLnBvc2l0aW9uLnlcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNwcml0ZTp0aGlzLmFuaW1hdGlvbnMucmVuZGVyZih0aW1lKSxcclxuICAgICAgeDogdGhpcy5zdGF0ZS5wb3NpdGlvbi54LFxyXG4gICAgICB5OiB0aGlzLnN0YXRlLnBvc2l0aW9uLnlcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgY29tcG9zaXRlX3N0YXRpY3tcclxuICB4Om51bWJlcixcclxuICB5Om51bWJlcixcclxuICBvYmo6b2JqXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBjb21wb3NpdGVfb2JqIGV4dGVuZHMgb2Jqe1xyXG4gIG9iamVjdHM6b2JqW10gPSBbXTtcclxuICByZW5kZXIgPSBmYWxzZTtcclxuICByZWdpc3RlcmVkID0gZmFsc2U7XHJcbiAgY29sbGlzaW9uID0gZmFsc2U7XHJcbiAgc3RhdGljczpjb21wb3NpdGVfc3RhdGljW10gPSBbXTtcclxuICBjb25zdHJ1Y3Rvcihwb3M6b2JqX3N0YXRlLHBhcmFtczp1bmtub3duKXtcclxuICAgIHN1cGVyKHBvcyxwYXJhbXMpO1xyXG4gIH1cclxuICBhc3luYyBsb2FkKCl7XHJcbiAgICBhd2FpdCBzdXBlci5sb2FkKCk7XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbLi4udGhpcy5vYmplY3RzLm1hcCgoYSk9PmEubG9hZCgpKSwuLi50aGlzLnN0YXRpY3MubWFwKGE9PmEub2JqLmxvYWQoKSldKTtcclxuICB9XHJcbiAgY29tYmluZWRPYmplY3RzKCk6b2JqW117XHJcbiAgICBsZXQgY29tYmluZWQgPSBbLi4udGhpcy5vYmplY3RzLC4uLnRoaXMuc3RhdGljcy5tYXAoYT0+YS5vYmopXTtcclxuICAgIHJldHVybiBbLi4uY29tYmluZWQsdGhpc107XHJcbiAgfVxyXG4gIGdldEl0ZW1zQnlUYWcodGFnOnN0cmluZyl7XHJcbiAgICByZXR1cm4gdGhpcy5jb21iaW5lZE9iamVjdHMoKS5maWx0ZXIoKGEpPT5hLnRhZ3MuaW5kZXhPZih0YWcpID4gLTEpO1xyXG4gIH1cclxuICBhZGRJdGVtKGE6b2JqLGxpc3Q9dGhpcy5vYmplY3RzKXtcclxuICAgIGEucGFyZW50ID0gdGhpcztcclxuICAgIGxpc3QucHVzaCguLi5hLmNvbWJpbmVkT2JqZWN0cygpKTtcclxuICB9XHJcbiAgYWRkSXRlbXMoYTpvYmpbXSxsaXN0PXRoaXMub2JqZWN0cyl7XHJcbiAgICBmb3IobGV0IG8gb2YgYSl7XHJcbiAgICAgIHRoaXMuYWRkSXRlbShvLGxpc3QpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXRBbGxDb2xsaXNpb25Cb3hlcygpOmNvbGxpc2lvbl9ib3hbXXtcclxuICAgIGxldCBhcnI6Y29sbGlzaW9uX2JveFtdID0gW107XHJcbiAgICBmb3IobGV0IG9iaiBvZiBbLi4udGhpcy5zdGF0aWNzLm1hcChhPT5hLm9iaiksLi4udGhpcy5vYmplY3RzXSl7XHJcbiAgICAgIGxldCBjcmVhdGVkX2JveCA9IG9iai5nZXRBbGxDb2xsaXNpb25Cb3hlcygpO1xyXG4gICAgICBpZihBcnJheS5pc0FycmF5KGNyZWF0ZWRfYm94KSl7XHJcbiAgICAgICAgYXJyLnB1c2goLi4uY3JlYXRlZF9ib3gpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgYXJyLnB1c2goY3JlYXRlZF9ib3gpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJyO1xyXG4gIH1cclxuICBkZWxldGUoKXtcclxuICAgIGZvcihsZXQgYSBvZiB0aGlzLm9iamVjdHMpe1xyXG4gICAgICBhLmRlbGV0ZSgpO1xyXG4gICAgfVxyXG4gICAgZm9yKGxldCBhIG9mIHRoaXMuc3RhdGljcyl7XHJcbiAgICAgIGEub2JqLmRlbGV0ZSgpO1xyXG4gICAgfVxyXG4gICAgc3VwZXIuZGVsZXRlKCk7XHJcbiAgfVxyXG4gIGNvbGxpZGVzV2l0aEJveChhOiBjb2xsaXNpb25fYm94KTpib29sZWFue1xyXG4gICAgZm9yKGxldCBvYmogb2YgdGhpcy5vYmplY3RzKXtcclxuICAgICAgaWYob2JqLmNvbGxpZGVzV2l0aEJveChhKSlcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZvcihsZXQgbyBvZiB0aGlzLnN0YXRpY3Mpe1xyXG4gICAgICBpZihvLm9iai5jb2xsaWRlc1dpdGhCb3goYSkpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSAgXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3Mgc3RhdGljX29iaiB7XHJcbiAgc3ByaXRlX3VybCA9IFwiXCI7XHJcbiAgc3ByaXRlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgZ3Jhdml0eV9vYmogZXh0ZW5kcyBvYmp7XHJcbiAgZ3Jhdml0eSA9IHRydWVcclxufSIsImltcG9ydCB7IHNwcml0ZSB9IGZyb20gXCIuL3Nwcml0ZVwiO1xyXG5pbXBvcnQgeyBHZXRWaWV3cG9ydERpbWVuc2lvbnMgfSBmcm9tIFwiLi4vdmFuXCI7XHJcbmltcG9ydCB7IG9iaiB9IGZyb20gXCIuL29iamVjdFwiO1xyXG5pbXBvcnQgeyBkaW1lbnNpb25zLCBvYmpfc3RhdGUsIFZlY3RvciB9IGZyb20gXCIuL3N0YXRlXCI7XHJcbmltcG9ydCB7IFRleHRfTm9kZSwgVGV4dFNldHRpbmcsSFVELFRleHQgfSBmcm9tIFwiLi9odWRcIjtcclxuaW1wb3J0IHtwb3NpdGlvbmVkX3Nwcml0ZX0gZnJvbSBcIi4vc3ByaXRlXCJcclxuaW1wb3J0IHsgVmVjLHJvdGF0aW9uX2xlbmd0aCxhbmdsZV90b3dhcmRzIH0gZnJvbSBcIi4vbWF0aFwiO1xyXG5cclxuaW50ZXJmYWNlIGNhbWVyYV9zdGF0ZSB7XHJcbiAgc2NhbGluZzogbnVtYmVyLFxyXG4gIHBvc2l0aW9uOiB7XHJcbiAgICB4OiBudW1iZXIsXHJcbiAgICB5OiBudW1iZXJcclxuICB9XHJcbiAgZGltZW5zaW9uczoge1xyXG4gICAgd2lkdGg6IG51bWJlcixcclxuICAgIGhlaWdodDogbnVtYmVyXHJcbiAgfSxcclxuICB2aWV3cG9ydDogdmlld3BvcnQsXHJcbiAgZGVidWc6Ym9vbGVhbixcclxuICBodWQ6SFVELFxyXG4gIHRhcmdldF9wb3M6VmVjdG9yLFxyXG4gIHN0YXJ0X3BvczpWZWN0b3IsXHJcbiAgZWFzaW5nX3RpbWU6bnVtYmVyLFxyXG4gIGN1cnJlbnRfdGltZTpudW1iZXIsXHJcbiAgc3BlZWQ6bnVtYmVyXHJcbn1cclxuXHJcbmludGVyZmFjZSB2aWV3cG9ydCB7XHJcbiAgeDogbnVtYmVyLFxyXG4gIHk6IG51bWJlcixcclxuICB3aWR0aDogbnVtYmVyLFxyXG4gIGhlaWdodDogbnVtYmVyXHJcbn1cclxuXHJcbmludGVyZmFjZSBjYW1lcmFfcHJvcGVydGllcyB7XHJcbiAgeDpudW1iZXIsXHJcbiAgeTpudW1iZXIsXHJcbiAgZGltZW5zaW9uczp7XHJcbiAgICBoZWlnaHQ6bnVtYmVyLFxyXG4gICAgd2lkdGg6bnVtYmVyXHJcbiAgfVxyXG4gIHNjYWxpbmc6bnVtYmVyLFxyXG4gIFxyXG4gIGRlYnVnPzpib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1lcmEge1xyXG4gIHN0YXRlOiBjYW1lcmFfc3RhdGU7XHJcbiAgaHVkOiBIVUQ7XHJcbiAgY29uc3RydWN0b3IocHJvcHM6Y2FtZXJhX3Byb3BlcnRpZXMsIHY6IHZpZXdwb3J0LCBodWQ6SFVEID0gdW5kZWZpbmVkKSB7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBzY2FsaW5nOnByb3BzLnNjYWxpbmcsXHJcbiAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgeDogcHJvcHMueCxcclxuICAgICAgICB5OiBwcm9wcy55XHJcbiAgICAgIH0sXHJcbiAgICAgIGRpbWVuc2lvbnM6IHByb3BzLmRpbWVuc2lvbnMsXHJcbiAgICAgIHZpZXdwb3J0OiB7XHJcbiAgICAgICAgeDp2LngsXHJcbiAgICAgICAgeTp2LnkgLFxyXG4gICAgICAgIHdpZHRoOiB2LndpZHRoICogcHJvcHMuZGltZW5zaW9ucy53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHYuaGVpZ2h0ICogcHJvcHMuZGltZW5zaW9ucy5oZWlnaHRcclxuICAgICAgfSxcclxuICAgICAgZGVidWc6cHJvcHMuZGVidWcsXHJcbiAgICAgIGh1ZCxcclxuICAgICAgdGFyZ2V0X3Bvczp1bmRlZmluZWQsXHJcbiAgICAgIHN0YXJ0X3Bvczp1bmRlZmluZWQsXHJcbiAgICAgIGVhc2luZ190aW1lOjAsXHJcbiAgICAgIGN1cnJlbnRfdGltZTowLFxyXG4gICAgICBzcGVlZDowXHJcbiAgICB9XHJcbiAgICB0aGlzLmh1ZCA9IGh1ZDtcclxuICB9XHJcbiAgc3RhdGVmKGRlbHRhX3RpbWU6bnVtYmVyKXtcclxuICAgIFxyXG4gICAgaWYodGhpcy5zdGF0ZS50YXJnZXRfcG9zKXtcclxuICAgICAgbGV0IHQgPSB0aGlzLnN0YXRlLmN1cnJlbnRfdGltZS90aGlzLnN0YXRlLmVhc2luZ190aW1lO1xyXG4gICAgICBsZXQgZGlzdGFuY2UgPSBWZWMuZGlzdGFuY2UodGhpcy5zdGF0ZS5wb3NpdGlvbix0aGlzLnN0YXRlLnRhcmdldF9wb3MpO1xyXG4gICAgICBsZXQgY29lZmY7XHJcbiAgICAgIGlmKHQgPD0gMC41KXtcclxuICAgICAgICBjb2VmZiA9IDIgKiB0ICogdDtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIHQgLT0gMC41O1xyXG4gICAgICAgIGNvZWZmID0gMiAqIHQgKiAoMSAtIHQpICsgMC41O1xyXG4gICAgICB9IFxyXG4gICAgICBsZXQgYW5nbGUgPSBhbmdsZV90b3dhcmRzKHRoaXMuc3RhdGUudGFyZ2V0X3Bvcyx0aGlzLnN0YXRlLnBvc2l0aW9uKTtcclxuICAgICAgbGV0IHZlbG9jaXR5ID0gcm90YXRpb25fbGVuZ3RoKDIgKiB0aGlzLnN0YXRlLnNwZWVkICogZGVsdGFfdGltZSxhbmdsZSk7XHJcbiAgICAgIHZlbG9jaXR5ID0gVmVjLnNjYWxhcl9tdWx0KHZlbG9jaXR5LGNvZWZmKTtcclxuICAgICAgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9IFZlYy5hZGQodGhpcy5zdGF0ZS5wb3NpdGlvbix2ZWxvY2l0eSk7XHJcbiAgICAgIHRoaXMuc3RhdGUuY3VycmVudF90aW1lICs9IGRlbHRhX3RpbWU7XHJcbiAgICAgIGlmKHRoaXMuc3RhdGUuY3VycmVudF90aW1lID4gdGhpcy5zdGF0ZS5lYXNpbmdfdGltZSl7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9IFZlYy5mcm9tKHRoaXMuc3RhdGUudGFyZ2V0X3Bvcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS50YXJnZXRfcG9zID0gdW5kZWZpbmVkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICB9XHJcbiAgc2V0IHgoeDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnN0YXRlLnBvc2l0aW9uLnggPSB4O1xyXG4gIH1cclxuICBzZXQgeSh5OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc3RhdGUucG9zaXRpb24ueSA9IHlcclxuICB9XHJcbiAgZ2V0IHgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5wb3NpdGlvbi54O1xyXG4gIH1cclxuICBnZXQgeSgpIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlLnBvc2l0aW9uLnk7XHJcbiAgfVxyXG4gIG1vdmVUbyhwb3M6VmVjdG9yLHRpbWU6bnVtYmVyKXtcclxuICAgIFxyXG4gICAgdGhpcy5zdGF0ZS5zcGVlZCA9IFZlYy5kaXN0YW5jZSh0aGlzLnN0YXRlLnBvc2l0aW9uLHBvcykvdGltZTtcclxuICAgIHRoaXMuc3RhdGUudGFyZ2V0X3BvcyA9IHBvcztcclxuICAgIHRoaXMuc3RhdGUuc3RhcnRfcG9zID0gVmVjLmZyb20odGhpcy5zdGF0ZS5wb3NpdGlvbik7XHJcbiAgICB0aGlzLnN0YXRlLmVhc2luZ190aW1lID0gdGltZTtcclxuICAgIHRoaXMuc3RhdGUuY3VycmVudF90aW1lID0gMDtcclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHJlbmRlcl9mdW5jIHtcclxuICAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHNjYWxpbmc6IG51bWJlcik6IHZvaWRcclxufVxyXG5cclxuaW50ZXJmYWNlIHJlY3RhbmdsZSB7XHJcbiAgd2lkdGg6IG51bWJlcixcclxuICBoZWlnaHQ6IG51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2Ugc3ByaXRlX2FyZ3Mge1xyXG4gIHNwcml0ZTogc3ByaXRlLFxyXG4gIHg6IG51bWJlcixcclxuICB5OiBudW1iZXIsXHJcbiAgcm90YXRpb246IG51bWJlcixcclxuICBzY2FsZTpkaW1lbnNpb25zLFxyXG4gIHNjYWxlX3R5cGU6c2NhbGVfdHlwZVxyXG59XHJcblxyXG5pbnRlcmZhY2UgcmVuZGVyZXJfYXJncyB7XHJcbiAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gIGNhbWVyYTogQ2FtZXJhXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIHJlbmRlcl90eXBlIHtcclxuICB0ZXh0LFxyXG4gIHNwcml0ZSxcclxuICByZWN0LFxyXG4gIHN0cm9rZV9yZWN0XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIHNjYWxlX3R5cGV7XHJcbiAgZ3JvdyxcclxuICByZXBlYXRcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGh1ZF90ZXh0X3JlbmRlcmVyID0gKHI6IHJlbmRlcmVyX2FyZ3MsIHM6IFRleHRTZXR0aW5nKSA9PiB7XHJcbiAgbGV0IHZoZWlnaHQgPSBHZXRWaWV3cG9ydERpbWVuc2lvbnMoKS5oZWlnaHQ7XHJcbiAgci5jb250ZXh0LmZvbnQgPSBgJHtzLmZvbnQuc2l6ZX1weCAke3MuZm9udC5mb250fWA7XHJcbiAgci5jb250ZXh0LmZpbGxTdHlsZSA9IHMuZm9udC5jb2xvcjtcclxuICByLmNvbnRleHQudGV4dEFsaWduID0gcy5mb250LmFsaWduO1xyXG4gIGlmIChzLmZvbnQubWF4X3dpZHRoKSB7XHJcbiAgICByLmNvbnRleHQuZmlsbFRleHQocy5mb250LnRleHQsIHMueCwgdmhlaWdodCAtIHMueSwgcy5mb250Lm1heF93aWR0aCk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgci5jb250ZXh0LmZpbGxUZXh0KHMuZm9udC50ZXh0LCBzLngsIHZoZWlnaHQgLSBzLnkpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHRleHRfcmVuZGVyZXIgPSAocjpyZW5kZXJlcl9hcmdzLHM6VGV4dFNldHRpbmcpID0+IHtcclxuICBsZXQgY2FtZXJhID0gci5jYW1lcmE7XHJcbiAgbGV0IHZoZWlnaHQgPSByLmNhbWVyYS5zdGF0ZS5kaW1lbnNpb25zLmhlaWdodDtcclxuICBsZXQgZmluYWxfeCA9ICgocy54IC0gY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnggKyBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy53aWR0aCAqICgxL3IuY2FtZXJhLnN0YXRlLnNjYWxpbmcpIC8gMikgKiByLmNhbWVyYS5zdGF0ZS5zY2FsaW5nKTtcclxuICBsZXQgZmluYWxfeSA9ICgodmhlaWdodCAtIHMueSAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nIC0gY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0LzIgKyBjYW1lcmEuc3RhdGUucG9zaXRpb24ueSAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nKSk7XHJcbiAgci5jb250ZXh0LmZvbnQgPSBgJHtzLmZvbnQuc2l6ZSAqIHIuY2FtZXJhLnN0YXRlLnNjYWxpbmd9cHggJHtzLmZvbnQuZm9udH1gO1xyXG4gIHIuY29udGV4dC5maWxsU3R5bGUgPSBzLmZvbnQuY29sb3I7XHJcbiAgci5jb250ZXh0LnRleHRBbGlnbiA9IHMuZm9udC5hbGlnblxyXG4gIHIuY29udGV4dC5zYXZlKCk7XHJcbiAgci5jb250ZXh0LnRyYW5zbGF0ZShmaW5hbF94LCBmaW5hbF95KTtcclxuICBpZiAocy5mb250Lm1heF93aWR0aCkge1xyXG4gICAgci5jb250ZXh0LmZpbGxUZXh0KHMuZm9udC50ZXh0LCAwLCAwLCBzLmZvbnQubWF4X3dpZHRoKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICByLmNvbnRleHQuZmlsbFRleHQocy5mb250LnRleHQsIDAsIDApO1xyXG4gIH1cclxuICByLmNvbnRleHQucmVzdG9yZSgpO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgY2FudmFzX2FyZ3N7XHJcbiAgY2FudmFzOkhUTUxDYW52YXNFbGVtZW50LFxyXG4gIHdpZHRoOm51bWJlcjtcclxuICBoZWlnaHQ6bnVtYmVyLFxyXG4gIHg6bnVtYmVyLFxyXG4gIHk6bnVtYmVyLFxyXG4gIHNjYWxlOmRpbWVuc2lvbnNcclxufVxyXG5leHBvcnQgY29uc3QgY2FudmFzX3JlbmRlcmVyID0gKHI6cmVuZGVyZXJfYXJncyxhOmNhbnZhc19hcmdzKSA9PiB7XHJcbiAgbGV0IGNhbWVyYSA9IHIuY2FtZXJhO1xyXG4gIGxldCB2aGVpZ2h0ID0gci5jYW1lcmEuc3RhdGUuZGltZW5zaW9ucy5oZWlnaHQgLyByLmNhbWVyYS5zdGF0ZS5zY2FsaW5nO1xyXG4gIGxldCBmaW5hbF94ID0gKChhLnggLSBjYW1lcmEuc3RhdGUucG9zaXRpb24ueCArIGNhbWVyYS5zdGF0ZS5kaW1lbnNpb25zLndpZHRoICogKDEvci5jYW1lcmEuc3RhdGUuc2NhbGluZykgLyAyIC0gYS53aWR0aCAqIGEuc2NhbGUud2lkdGggLyAyKSAqIHIuY2FtZXJhLnN0YXRlLnNjYWxpbmcpO1xyXG4gIGxldCBmaW5hbF95ID0gKCh2aGVpZ2h0IC0gYS55IC0gY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0ICogKDEvci5jYW1lcmEuc3RhdGUuc2NhbGluZykgLyAyIC0gYS5oZWlnaHQgKiBhLnNjYWxlLmhlaWdodCAvIDIgKyBjYW1lcmEuc3RhdGUucG9zaXRpb24ueSkgKiByLmNhbWVyYS5zdGF0ZS5zY2FsaW5nKTtcclxuICBsZXQgaGVpZ2h0ID0gYS5oZWlnaHQgKiByLmNhbWVyYS5zdGF0ZS5zY2FsaW5nICogYS5zY2FsZS5oZWlnaHQ7XHJcbiAgbGV0IHdpZHRoID0gYS53aWR0aCAqIHIuY2FtZXJhLnN0YXRlLnNjYWxpbmcgKiBhLnNjYWxlLndpZHRoO1xyXG4gIHIuY29udGV4dC5zYXZlKCk7XHJcbiAgci5jb250ZXh0LnRyYW5zbGF0ZShmaW5hbF94ICArICh3aWR0aCkgLyAyLCBmaW5hbF95ICsgaGVpZ2h0IC8gMik7XHJcbiAgci5jb250ZXh0LmRyYXdJbWFnZShcclxuICAgIGEuY2FudmFzLFxyXG4gICAgLSh3aWR0aCApIC8gMixcclxuICAgIC1oZWlnaHQgLyAyLFxyXG4gICAgd2lkdGgsXHJcbiAgICBoZWlnaHRcclxuICApXHJcbiAgci5jb250ZXh0LnJlc3RvcmUoKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNwcml0ZV9yZW5kZXJlciA9IChyOiByZW5kZXJlcl9hcmdzLCBzOiBzcHJpdGVfYXJncykgPT4ge1xyXG4gIGxldCBjYW1lcmEgPSByLmNhbWVyYTtcclxuICBsZXQgdmhlaWdodCA9IHIuY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0IC8gci5jYW1lcmEuc3RhdGUuc2NhbGluZztcclxuICBsZXQgZmluYWxfeCA9ICgocy54IC0gY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnggKyBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy53aWR0aCAqICgxL3IuY2FtZXJhLnN0YXRlLnNjYWxpbmcpIC8gMiAtIHMuc3ByaXRlLnNwcml0ZV93aWR0aCAqIHMuc2NhbGUud2lkdGggLyAyKSAqIHIuY2FtZXJhLnN0YXRlLnNjYWxpbmcpO1xyXG4gIGxldCBmaW5hbF95ID0gKCh2aGVpZ2h0IC0gcy55IC0gY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0ICogKDEvci5jYW1lcmEuc3RhdGUuc2NhbGluZykgLyAyIC0gcy5zcHJpdGUuc3ByaXRlX2hlaWdodCAqIHMuc2NhbGUuaGVpZ2h0IC8gMiArIGNhbWVyYS5zdGF0ZS5wb3NpdGlvbi55KSAqIHIuY2FtZXJhLnN0YXRlLnNjYWxpbmcpO1xyXG4gIGxldCBoZWlnaHQgPSBzLnNwcml0ZS5zcHJpdGVfaGVpZ2h0ICogci5jYW1lcmEuc3RhdGUuc2NhbGluZyAqIHMuc2NhbGUuaGVpZ2h0O1xyXG4gIGxldCB3aWR0aCA9IHMuc3ByaXRlLnNwcml0ZV93aWR0aCAqIHIuY2FtZXJhLnN0YXRlLnNjYWxpbmcgKiBzLnNjYWxlLndpZHRoO1xyXG4gIHIuY29udGV4dC5zYXZlKCk7XHJcbiAgci5jb250ZXh0Lmdsb2JhbEFscGhhID0gcy5zcHJpdGUub3BhY2l0eTtcclxuICByLmNvbnRleHQudHJhbnNsYXRlKGZpbmFsX3ggICsgKHdpZHRoKSAvIDIsIGZpbmFsX3kgKyBoZWlnaHQgLyAyKTtcclxuICBsZXQgcmFkaWFucyA9IHMucm90YXRpb24gKiAoTWF0aC5QSSAvIDE4MCk7XHJcbiAgci5jb250ZXh0LnJvdGF0ZShyYWRpYW5zKTtcclxuICBpZihzLnNjYWxlX3R5cGUgPT0gc2NhbGVfdHlwZS5ncm93KXtcclxuICAgIHIuY29udGV4dC5kcmF3SW1hZ2UoXHJcbiAgICAgIHMuc3ByaXRlLnNwcml0ZV9zaGVldCxcclxuICAgICAgcy5zcHJpdGUubGVmdCxcclxuICAgICAgcy5zcHJpdGUudG9wLFxyXG4gICAgICBzLnNwcml0ZS5zcHJpdGVfd2lkdGgsXHJcbiAgICAgIHMuc3ByaXRlLnNwcml0ZV9oZWlnaHQsXHJcbiAgICAgIC0od2lkdGggKSAvIDIsXHJcbiAgICAgIC1oZWlnaHQgLyAyLFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgaGVpZ2h0XHJcbiAgICApXHJcbiAgfVxyXG4gIGVsc2UgaWYocy5zY2FsZV90eXBlID09IHNjYWxlX3R5cGUucmVwZWF0KXtcclxuICAgIGxldCBvbmVfd2lkdGggPSBzLnNwcml0ZS5zcHJpdGVfd2lkdGggKiByLmNhbWVyYS5zdGF0ZS5zY2FsaW5nO1xyXG4gICAgbGV0IG9uZV9oZWlnaHQgPSBzLnNwcml0ZS5zcHJpdGVfaGVpZ2h0ICogci5jYW1lcmEuc3RhdGUuc2NhbGluZztcclxuICAgIGxldCB0b3RhbF9ob3Jfc3ByaXRlcyA9IHdpZHRoL29uZV93aWR0aFxyXG4gICAgbGV0IHRvdGFsX3Zlcl9zcHJpdGVzID0gaGVpZ2h0L29uZV9oZWlnaHQ7XHJcbiAgIGZvcihsZXQgYSA9IDA7YSA8IHRvdGFsX2hvcl9zcHJpdGVzO2EgKz0gMSl7XHJcbiAgICAgZm9yKGxldCBiID0gMDtiIDwgdG90YWxfdmVyX3Nwcml0ZXM7YiArPSAxKXtcclxuICAgICAgIGxldCBuZXdfd2lkdGggPSBvbmVfd2lkdGg7XHJcbiAgICAgICBsZXQgbmV3X2hlaWdodCA9IG9uZV9oZWlnaHQ7XHJcbiAgICAgICBpZigoYSArIDEpICogb25lX3dpZHRoIC0gd2lkdGggPiAwKXtcclxuICAgICAgICAgbmV3X3dpZHRoID0gd2lkdGggJSBvbmVfd2lkdGg7XHJcbiAgICAgICB9XHJcbiAgICAgICBpZigoYiArIDEpICogb25lX2hlaWdodCAtIGhlaWdodCA+IDApe1xyXG4gICAgICAgICBuZXdfaGVpZ2h0ID0gaGVpZ2h0ICUgb25lX2hlaWdodDtcclxuICAgICAgIH1cclxuICAgICAgIHIuY29udGV4dC5kcmF3SW1hZ2UoXHJcbiAgICAgICAgcy5zcHJpdGUuc3ByaXRlX3NoZWV0LFxyXG4gICAgICAgIHMuc3ByaXRlLmxlZnQsXHJcbiAgICAgICAgcy5zcHJpdGUudG9wLFxyXG4gICAgICAgIG5ld193aWR0aCAvIChyLmNhbWVyYS5zdGF0ZS5zY2FsaW5nKSxcclxuICAgICAgICBuZXdfaGVpZ2h0IC8gKHIuY2FtZXJhLnN0YXRlLnNjYWxpbmcpLFxyXG4gICAgICAgIC13aWR0aC8yICsgYSAqIG9uZV93aWR0aCxcclxuICAgICAgICAtaGVpZ2h0LzIgKyBiICogb25lX2hlaWdodCxcclxuICAgICAgICBuZXdfd2lkdGgsXHJcbiAgICAgICAgbmV3X2hlaWdodFxyXG4gICAgICAgKVxyXG4gICAgIH1cclxuXHJcbiAgIH0gXHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gIHIuY29udGV4dC5yZXN0b3JlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgbGluZXtcclxuICBzdGFydDpWZWN0b3IsXHJcbiAgZW5kOlZlY3RvclxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbGluZV9yZW5kZXJlciA9IChjb250ZXh0OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxsaW5lOmxpbmUsY29sb3I6c3RyaW5nLGxpbmVXaWR0aDpudW1iZXIsY2FtZXJhOkNhbWVyYSkgPT4ge1xyXG4gIGxldCB2aGVpZ2h0ID0gY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0IC8gY2FtZXJhLnN0YXRlLnNjYWxpbmc7XHJcbiAgbGV0IHN0YXJ0X3ggPSAoKGxpbmUuc3RhcnQueCAtIGNhbWVyYS5zdGF0ZS5wb3NpdGlvbi54ICsgY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMud2lkdGggKiAoMS9jYW1lcmEuc3RhdGUuc2NhbGluZykgLyAyKSAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nKTtcclxuICBsZXQgc3RhcnRfeSA9ICgodmhlaWdodCAtIGxpbmUuc3RhcnQueSArIGNhbWVyYS5zdGF0ZS5wb3NpdGlvbi55IC0gY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0ICogKDEvY2FtZXJhLnN0YXRlLnNjYWxpbmcpIC8gMikgKiBjYW1lcmEuc3RhdGUuc2NhbGluZyk7XHJcblxyXG4gIGxldCBlbmRfeCA9ICgobGluZS5lbmQueCAtIGNhbWVyYS5zdGF0ZS5wb3NpdGlvbi54ICsgY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMud2lkdGggKiAoMS9jYW1lcmEuc3RhdGUuc2NhbGluZykgLyAyKSAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nKTtcclxuICBsZXQgZW5kX3kgPSAoKHZoZWlnaHQgLSBsaW5lLmVuZC55ICsgY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnkgLSBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy5oZWlnaHQgKiAoMS9jYW1lcmEuc3RhdGUuc2NhbGluZykgLyAyKSAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nKTtcclxuICBcclxuICBcclxuICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuICBjb250ZXh0LmxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nO1xyXG4gIGNvbnRleHQubW92ZVRvKHN0YXJ0X3gsc3RhcnRfeSk7XHJcbiAgY29udGV4dC5saW5lVG8oZW5kX3gsZW5kX3kpO1xyXG4gIGNvbnRleHQuc3Ryb2tlKCk7IFxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc3Ryb2tlZF9yZWN0X3JlbmRlcmVyID0gKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcmVjdDogcmVjdGFuZ2xlLCB4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IHN0cmluZywgbGluZVdpZHRoOm51bWJlciwgY2FtZXJhOiBDYW1lcmEpID0+IHtcclxuICBsZXQgdmhlaWdodCA9IGNhbWVyYS5zdGF0ZS5kaW1lbnNpb25zLmhlaWdodCAvIGNhbWVyYS5zdGF0ZS5zY2FsaW5nO1xyXG4gIGxldCBmaW5hbF94ID0gKCh4IC0gY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnggKyBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy53aWR0aCAqICgxL2NhbWVyYS5zdGF0ZS5zY2FsaW5nKSAvIDIgLSByZWN0LndpZHRoIC8gMikgKiBjYW1lcmEuc3RhdGUuc2NhbGluZyk7XHJcbiAgbGV0IGZpbmFsX3kgPSAoKHZoZWlnaHQgLSB5ICsgY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnkgLSBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy5oZWlnaHQgKiAoMS9jYW1lcmEuc3RhdGUuc2NhbGluZykgLyAyIC0gcmVjdC5oZWlnaHQgLyAyICkgKiBjYW1lcmEuc3RhdGUuc2NhbGluZyk7XHJcbiAgbGV0IGhlaWdodCA9IHJlY3QuaGVpZ2h0ICogY2FtZXJhLnN0YXRlLnNjYWxpbmc7XHJcbiAgbGV0IHdpZHRoID0gcmVjdC53aWR0aCAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nO1xyXG4gIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuICBjb250ZXh0LmxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nO1xyXG4gIGNvbnRleHQuc3Ryb2tlUmVjdChmaW5hbF94LCBmaW5hbF95LCB3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlY3RfcmVuZGVyZXIgPSAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCByZWN0OiByZWN0YW5nbGUsIHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBsaW5lV2lkdGg6bnVtYmVyLCBjYW1lcmE6IENhbWVyYSkgPT4ge1xyXG4gIGxldCB2aGVpZ2h0ID0gY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0IC8gY2FtZXJhLnN0YXRlLnNjYWxpbmc7XHJcbiAgbGV0IGZpbmFsX3ggPSAoKHggLSBjYW1lcmEuc3RhdGUucG9zaXRpb24ueCArIGNhbWVyYS5zdGF0ZS5kaW1lbnNpb25zLndpZHRoICogKDEvY2FtZXJhLnN0YXRlLnNjYWxpbmcpIC8gMiAtIHJlY3Qud2lkdGggLyAyKSAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nKTtcclxuICBsZXQgZmluYWxfeSA9ICgodmhlaWdodCAtIHkgLSByZWN0LmhlaWdodCAvIDIgLSBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy5oZWlnaHQgKiAoMS9jYW1lcmEuc3RhdGUuc2NhbGluZykgLyAyICsgY2FtZXJhLnN0YXRlLnBvc2l0aW9uLnkpICogY2FtZXJhLnN0YXRlLnNjYWxpbmcpO1xyXG4gIGxldCBoZWlnaHQgPSByZWN0LmhlaWdodCAqIGNhbWVyYS5zdGF0ZS5zY2FsaW5nO1xyXG4gIGxldCB3aWR0aCA9IHJlY3Qud2lkdGggKiBjYW1lcmEuc3RhdGUuc2NhbGluZztcclxuICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3I7XHJcbiAgY29udGV4dC5maWxsUmVjdChmaW5hbF94LCBmaW5hbF95LCB3aWR0aCwgaGVpZ2h0KTtcclxufSIsImltcG9ydCB7IGJvdW5kaW5nX2JveCwgZ3Jhdml0eV9vYmosb2JqIH0gZnJvbSBcIi4vb2JqZWN0XCI7XHJcbmltcG9ydCB7IFBhcnRpY2xlLCBzcHJpdGUgfSBmcm9tIFwiLi9zcHJpdGVcIjtcclxuaW1wb3J0IHsgZGltZW5zaW9ucywgb2JqX3N0YXRlLCBWZWN0b3IgfSBmcm9tIFwiLi9zdGF0ZVwiO1xyXG5pbXBvcnQgeyB2ZWxvY2l0eUNvbGxpc2lvbkNoZWNrLGNoZWNrX2NvbGxpc2lvbnMsY29sbGlzaW9uX2JveCxjaGVja19hbGxfY29sbGlzaW9ucyxjaGVja19hbGxfb2JqZWN0c30gZnJvbSBcIi4vY29sbGlzaW9uXCI7XHJcbmltcG9ydCB7cmVuZGVyX2NvbGxpc2lvbl9ib3gsREVCVUcsIFBBVVNFRH0gZnJvbSBcIi4uL3ZhblwiO1xyXG5pbXBvcnQge0JpbmQsY29udHJvbF9mdW5jLCBleGVjX3R5cGV9IGZyb20gXCIuL2NvbnRyb2xzXCI7XHJcbmltcG9ydCB7SFVELFRleHQsIFRleHRfTm9kZX0gZnJvbSBcIi4vaHVkXCI7XHJcbmltcG9ydCB7YXVkaW99IGZyb20gXCIuL2F1ZGlvXCJcclxuaW1wb3J0IHtnYW1lfSBmcm9tIFwiLi4vdmFuXCI7XHJcbmltcG9ydCB7ZGVidWdfdXBkYXRlX29ial9saXN0LHJvb3RfcGF0aCxwYXRofSBmcm9tIFwiLi4vbGliL2RlYnVnXCI7XHJcbmltcG9ydCB7cHJlZmFic30gZnJvbSBcIi4uL2dhbWUvb2JqZWN0cy9wcmVmYWJzXCI7XHJcbmltcG9ydCB7VmVjLGdldFJhbmRJbnR9IGZyb20gXCJsaWIvbWF0aFwiO1xyXG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuXHJcbmludGVyZmFjZSBwb3NpdGlvbntcclxuICB4Om51bWJlcixcclxuICB5Om51bWJlclxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlHcmF2aXR5KG9iOmdyYXZpdHlfb2JqLGdyYXZfY29uc3Q6bnVtYmVyLCBncmF2X21heDpudW1iZXIpe1xyXG4gIGlmKG9iLmdyYXZpdHkgJiYgb2Iuc3RhdGUudmVsb2NpdHkueSA+IGdyYXZfbWF4KXtcclxuICAgIG9iLnN0YXRlLnZlbG9jaXR5LnkgKz0gZ3Jhdl9jb25zdDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgcGFydGljbGVfZW50cnl7XHJcbiAgc3ByaXRlOnN0cmluZyxcclxuICBoZWlnaHQ6bnVtYmVyLFxyXG4gIHdpZHRoOm51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2UgcGFydGljbGVze1xyXG4gIFtpbmRleDpzdHJpbmddOnBhcnRpY2xlX2VudHJ5XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2Ugcm9vbV9pPFQ+e1xyXG4gIGJhY2tncm91bmRfdXJsOnN0cmluZyxcclxuICBvYmplY3RzOm9ialtdXHJcbiAgc3RhdGU6VFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIG9iamVjdF9zdGF0ZV9jb25maWcge1xyXG4gIHR5cGU6c3RyaW5nLFxyXG4gIHN0YXRlOm9ial9zdGF0ZSxcclxuICBwYXJhbWV0ZXJzPzogdW5rbm93blxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHN0YXRlX2NvbmZpZ3tcclxuICBvYmplY3RzOm9iamVjdF9zdGF0ZV9jb25maWdbXVxyXG59XHJcblxyXG5pbnRlcmZhY2UgaW50ZXJuYWxfbWFwe1xyXG4gIFtpbmRleDpudW1iZXJdOntcclxuICAgIFtpbmRleDpudW1iZXJdOk1hcDxzdHJpbmcsb2JqPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIGNhY2hlX2VudHJpZXN7XHJcbiAgW2luZGV4OnN0cmluZ106YW55XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgcDJwe1xyXG4gIHBhcnNlX3BhY2tldCh0eXBlOnN0cmluZyxkYXRhOnVua25vd24saWQ6bnVtYmVyKTp2b2lkXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgbWFwX21hdHJpeHtcclxuICBsZW5ndGg6bnVtYmVyO1xyXG4gIHNxdWFyZV9sZW5ndGg6bnVtYmVyO1xyXG4gIGludGVybmFsX21hcDppbnRlcm5hbF9tYXAgPSB7fTtcclxuICBjb25zdHJ1Y3RvcihmdWxsX2xlbmd0aDpudW1iZXIsc3F1YXJlX2xlbmd0aDpudW1iZXIpe1xyXG4gICAgdGhpcy5sZW5ndGggPSBmdWxsX2xlbmd0aDtcclxuICAgIHRoaXMuc3F1YXJlX2xlbmd0aCA9IHNxdWFyZV9sZW5ndGg7XHJcbiAgfVxyXG4gIHByaXZhdGUgZW5zdXJlKGE6VmVjdG9yKXtcclxuICAgIGlmKCF0aGlzLmludGVybmFsX21hcFthLnldKXtcclxuICAgICAgdGhpcy5pbnRlcm5hbF9tYXBbYS55XSA9IHt9XHJcbiAgICB9XHJcbiAgICBpZighdGhpcy5pbnRlcm5hbF9tYXBbYS55XVthLnhdKXtcclxuICAgICAgdGhpcy5pbnRlcm5hbF9tYXBbYS55XVthLnhdID0gbmV3IE1hcDxzdHJpbmcsb2JqPigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxfbWFwW2EueV1bYS54XTtcclxuICB9XHJcbiAgZ2V0KGE6VmVjdG9yKXtcclxuICAgIHJldHVybiB0aGlzLmVuc3VyZShhKTtcclxuICB9XHJcbiAgYWRkKGE6VmVjdG9yLG86b2JqKXtcclxuICAgIGxldCBlbnRyeSA9IHRoaXMuZW5zdXJlKGEpO1xyXG4gICAgZW50cnkuc2V0KG8uaWQsbyk7XHJcbiAgICBvLnByb3hpbWl0eV9ib3hlcy5hZGQoYSk7XHJcbiAgfVxyXG4gIGV4aXN0cyhhOlZlY3Rvcil7XHJcbiAgICBpZighdGhpcy5pbnRlcm5hbF9tYXBbYS55XSB8fCAhdGhpcy5pbnRlcm5hbF9tYXBbYS55XVthLnhdKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgcmVtb3ZlKGE6VmVjdG9yLG86b2JqKXtcclxuICAgIGxldCBlbnRyeSA9IHRoaXMuaW50ZXJuYWxfbWFwW2EueV1bYS54XTtcclxuICAgIGVudHJ5LmRlbGV0ZShvLmlkKTtcclxuICAgIG8ucHJveGltaXR5X2JveGVzLmRlbGV0ZShhKTtcclxuICB9XHJcbiAgZ2V0T2JqZWN0c0Zyb21Cb3goYTpjb2xsaXNpb25fYm94KTpvYmpbXXtcclxuICAgIHJldHVybiB0aGlzLmdldE9iamVjdHNGcm9tQ29yZHModGhpcy5nZXRDb3Jkc0Zyb21Cb3goYSkpO1xyXG4gIH1cclxuICBnZXRPYmplY3RzRnJvbUNvcmRzKGE6VmVjdG9yW10pOm9ialtde1xyXG4gICAgbGV0IG8gPSBuZXcgU2V0PG9iaj4oKTtcclxuICAgIGZvcihsZXQgdiBvZiBhKXtcclxuICAgICAgaWYodGhpcy5leGlzdHModikpe1xyXG4gICAgICAgIGxldCBrZXlzID0gdGhpcy5pbnRlcm5hbF9tYXBbdi55XVt2LnhdLmtleXMoKTtcclxuICAgICAgICBmb3IobGV0IGsgb2Yga2V5cyl7XHJcbiAgICAgICAgICBsZXQgaiA9IHRoaXMuaW50ZXJuYWxfbWFwW3YueV1bdi54XS5nZXQoayk7XHJcbiAgICAgICAgICBvLmFkZChqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBBcnJheS5mcm9tKG8pO1xyXG4gIH1cclxuICBnZXRDb3Jkc0Zyb21Cb3goYTpjb2xsaXNpb25fYm94KXtcclxuICAgIGxldCBib3R0b21fbGVmdCA9IFZlYy5jcmVhdGUoYS54IC0gYS53aWR0aC8yLGEueSAtIGEuaGVpZ2h0LzIpO1xyXG4gICAgbGV0IHRvcF9yaWdodCA9IFZlYy5jcmVhdGUoYS54ICsgYS53aWR0aC8yLGEueSArIGEuaGVpZ2h0LzIpO1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29yZHNGcm9tQm91bmRpbmdCb3goe2JvdHRvbV9sZWZ0LHRvcF9yaWdodH0pXHJcbiAgfVxyXG4gIGdldENvcmRzRnJvbUJvdW5kaW5nQm94KGE6Ym91bmRpbmdfYm94KXtcclxuICAgIGxldCBib3ggPSBhO1xyXG4gICAgbGV0IGJvdF9sZWZ0ID0gVmVjLnNjYWxhcl9kaXZpZGUoVmVjLnNjYWxhcl9hZGQoYm94LmJvdHRvbV9sZWZ0LHRoaXMubGVuZ3RoLzIpLHRoaXMuc3F1YXJlX2xlbmd0aCk7XHJcbiAgICBsZXQgdG9wX3JpZ2h0ID0gVmVjLnNjYWxhcl9kaXZpZGUoVmVjLnNjYWxhcl9hZGQoYm94LnRvcF9yaWdodCx0aGlzLmxlbmd0aC8yKSx0aGlzLnNxdWFyZV9sZW5ndGgpO1xyXG4gICAgYm90X2xlZnQgPSBWZWMuZnVuYyhib3RfbGVmdCwoYSk9Pk1hdGgubWF4KDAsYSkpO1xyXG4gICAgdG9wX3JpZ2h0ID0gVmVjLmZ1bmModG9wX3JpZ2h0LChhKT0+TWF0aC5taW4odGhpcy5sZW5ndGgvdGhpcy5zcXVhcmVfbGVuZ3RoLGEpKTtcclxuICAgIGxldCBtaW4gPSBWZWMuZnVuYyhib3RfbGVmdCwoYSk9Pk1hdGguZmxvb3IoYSkpO1xyXG4gICAgbGV0IG1heCA9IFZlYy5mdW5jKHRvcF9yaWdodCwoYSk9Pk1hdGguY2VpbChhKSk7XHJcbiAgICBsZXQgdG90YWxzID0gVmVjLnN1YihtYXgsbWluKTtcclxuICAgIFxyXG4gICAgbGV0IGFsbF9ib3hlcyA9IFtdO1xyXG4gICAgbGV0IGNvcmQgPSBWZWMuZnVuYyhcclxuICAgICAgVmVjLnNjYWxhcl9kaXZpZGUoXHJcbiAgICAgICAgVmVjLnNjYWxhcl9hZGQoXHJcbiAgICAgICAgICBWZWMuZnVuYyhib3guYm90dG9tX2xlZnQsKGEpPT5NYXRoLm1heChhLC10aGlzLmxlbmd0aC8yKSksXHJcbiAgICAgICAgICB0aGlzLmxlbmd0aC8yKSxcclxuICAgICAgICB0aGlzLnNxdWFyZV9sZW5ndGgpLFxyXG4gICAgICAoYSk9Pk1hdGguZmxvb3IoYSlcclxuICAgICk7XHJcbiAgICBmb3IobGV0IGEgPSAwO2E8dG90YWxzLnk7YSsrKXtcclxuICAgICAgZm9yKGxldCBiID0gMDtiPHRvdGFscy54O2IrKyl7XHJcbiAgICAgICAgbGV0IG5ld192ZWMgPSBWZWMuYWRkKFZlYy5jcmVhdGUoYixhKSxjb3JkKTtcclxuICAgICAgICBuZXdfdmVjID0gVmVjLmZ1bmMobmV3X3ZlYywoYSk9Pk1hdGguZmxvb3IoYSkpO1xyXG4gICAgICAgIGFsbF9ib3hlcy5wdXNoKG5ld192ZWMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYWxsX2JveGVzO1xyXG4gIH1cclxuICBcclxuICBnZXRCb3hMb2NhdGlvbnMobzpvYmope1xyXG4gICAgbGV0IGJveCA9IG8uZ2V0Qm91bmRpbmdCb3goKTtcclxuICAgIGxldCBjb3JkcyA9IHRoaXMuZ2V0Q29yZHNGcm9tQm91bmRpbmdCb3goYm94KTtcclxuICAgIHJldHVybiBjb3JkcztcclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3Mgcm9vbTxUPntcclxuICAvL1VybCB0byBhbiBpbWFnZSB0byBiZSB1c2VkIGZvciB0aGUgcm9vbSBiYWNrZ3JvdW5kXHJcbiAgYmFja2dyb3VuZF91cmw6IHN0cmluZztcclxuICBiYWNrZ3JvdW5kOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIG9iamVjdHM6IG9ialtdID0gW107XHJcbiAgLy9UaGlzIG9iamVjdCBjb250YWlucyBwYXJ0aWNsZSBkZWZpbml0aW9uc1xyXG4gIHBhcnRpY2xlczpwYXJ0aWNsZXMgPSB7fTtcclxuICAvL1RoaXMgYXJyYXkgaXMgd2hhdCBhY3R1YWxseSBjb250YWlucyB0aGUgcGFydGljbGVzXHJcbiAgLy90aGF0IGV4aXN0cyB3aXRoaW4gdGhlIHJvb20uXHJcbiAgcGFydGljbGVzX2Fycjogb2JqW10gPSBbXTtcclxuICBzdGF0ZTogVDtcclxuICBiaW5kczpudW1iZXJbXSA9IFtdO1xyXG4gIGdhbWU6Z2FtZTx1bmtub3duPjtcclxuICBodWQ6SFVEO1xyXG4gIGF1ZGlvID0gbmV3IGF1ZGlvKCk7XHJcbiAgLy9UaGVzZSB0ZXh0IG5vZGVzIGV4aXN0cyBpbiB0aGUgYWN0dWFsIHJvb20gc3BhY2UsIHJhdGhlciB0aGFuXHJcbiAgLy9vbiB0aGUgaHVkIGxheWVyLlxyXG4gIHJlbmRlcjpib29sZWFuID0gdHJ1ZTtcclxuICB0ZXh0X25vZGVzOlRleHRbXSA9IFtdO1xyXG4gIGNvbmZpZzpzdGF0ZV9jb25maWc7XHJcbiAgcHJveGltaXR5X21hcDptYXBfbWF0cml4ID0gbmV3IG1hcF9tYXRyaXgoMTAwMDAsMTAwMCk7XHJcbiAgY2FtZXJhczpDYW1lcmFbXSA9IFtdO1xyXG4gIGNhY2hlX2VudHJpZXM6Y2FjaGVfZW50cmllcyA9IHt9O1xyXG4gIGNvbnN0cnVjdG9yKGdhbWU6Z2FtZTx1bmtub3duPixjb25maWc6c3RhdGVfY29uZmlnKXtcclxuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICB9XHJcbiAgXHJcbiAgZXhwb3J0U3RhdGVDb25maWcoKXtcclxuICAgIGxldCBjb25maWc6c3RhdGVfY29uZmlnID0ge29iamVjdHM6W119O1xyXG4gICAgbGV0IGZpbHRlcmVkID0gdGhpcy5vYmplY3RzLmZpbHRlcigob2JqKT0+b2JqLnNhdmVfdG9fZmlsZSAmJiAhb2JqLnBhcmVudClcclxuICAgIGZvcihsZXQgbyBvZiBmaWx0ZXJlZCl7XHJcbiAgICAgIC8vSWYgYW4gb2JqZWN0IGhhcyBhIHBhcmVudCBvYmplY3QsIGl0J3MgYSBkZXNjZW5kZW50IG9mIGEgY29tcG9zaXRlIG9iamVjdFxyXG4gICAgICAvL1RoZSBwYXJlbnQgd2lsbCBzcGF3biB0aGlzIG9iamVjdCB3aGVuIGl0J3MgaW5zdGFudGlhdGVkLCBzbyB3ZSBkb1xyXG4gICAgICAvL25vdCBoYXZlIHRvIHNhdmUgdGhpcyBpbnN0YW5jZS5cclxuICAgICAgICBjb25maWcub2JqZWN0cy5wdXNoKHtcclxuICAgICAgICAgIHR5cGU6by5jb25zdHJ1Y3Rvci5uYW1lLFxyXG4gICAgICAgICAgc3RhdGU6e1xyXG4gICAgICAgICAgICBwb3NpdGlvbjpWZWMuc2NhbGFyX2FkZChvLnN0YXRlLnBvc2l0aW9uLDApLFxyXG4gICAgICAgICAgICB2ZWxvY2l0eTpWZWMuc2NhbGFyX2FkZChvLnN0YXRlLnZlbG9jaXR5LDApLFxyXG4gICAgICAgICAgICByb3RhdGlvbjpvLnN0YXRlLnJvdGF0aW9uLFxyXG4gICAgICAgICAgICBzY2FsaW5nOm8uc3RhdGUuc2NhbGluZ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBhcmFtZXRlcnM6by5wYXJhbXNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbmZpZztcclxuICB9XHJcbiAgLy9UaGlzIGhhbmRsZXMgdGhlIGxvYWRpbmcgb2YgYWxsIHJvb20gc3ByaXRlcywgYW5kXHJcbiAgLy9hbnkgb2JqZWN0cyBpdCBjb250YWlucy5cclxuICBsb2FkKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGxldCBhID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIGxldCB0b19hd2FpdCA9IHRoaXMub2JqZWN0cy5tYXAoKGEpID0+IGEubG9hZCgpKTtcclxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodG9fYXdhaXQpO1xyXG4gICAgICBsZXQgcCA9IHRoaXMuYmFja2dyb3VuZF91cmw7XHJcbiAgICAgIGlmKERFQlVHKXtcclxuICAgICAgICBwID0gcGF0aC5qb2luKHJvb3RfcGF0aCx0aGlzLmJhY2tncm91bmRfdXJsKTtcclxuICAgICAgfVxyXG4gICAgICBhLnNyYyA9IHA7XHJcbiAgICAgIGEub25lcnJvciA9ICgoKSA9PiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTG9hZGluZyBFcnJvcjpcIiArIHRoaXMuYmFja2dyb3VuZF91cmwpO1xyXG4gICAgICB9KVxyXG4gICAgICBhLm9ubG9hZCA9IChhc3luYygpID0+IHtcclxuICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kID0gYTtcclxuICAgICAgICBhd2FpdCB0aGlzLmF1ZGlvLmxvYWQoKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICB9XHJcbiAgaW5pdGlhbGl6ZSgpe1xyXG5cclxuICB9XHJcbiAgLy9UaGlzIGlzIHVzZWQgd2hpbGUgbG9hZGluZyBvYmplY3RzIGZyb20gZmlsZSwgaXQncyB1c2VkIHRvIGR5bmFtaWNhbGx5IGxvYWRcclxuICAvL29iamVjdHMgZnJvbSB0aGUgcm9vbSdzIGpzb24uIElmIGFkZGluZyBpdGVtcyB3aXRoaW4gY29kZSwgaXQncyBiZXR0ZXIgdG8gY3JlYXRlXHJcbiAgLy9uZXcgaW5zdGFuY2VzIG9mIG9iamVjdHMgdGhyb3VnaCBhZGRJdGVtXHJcbiAgYXN5bmMgYWRkSXRlbVN0YXRlQ29uZmlnKGNvbmZpZzpvYmplY3Rfc3RhdGVfY29uZmlnKXtcclxuICAgIGlmKHByZWZhYnNbY29uZmlnLnR5cGVdKXtcclxuICAgICAgbGV0IG5ld19vYmogPSA8b2JqPihuZXcgcHJlZmFic1tjb25maWcudHlwZV0oT2JqZWN0LmFzc2lnbih7fSxjb25maWcuc3RhdGUpLGNvbmZpZy5wYXJhbWV0ZXJzKSk7XHJcbiAgICAgIGF3YWl0IHRoaXMuYWRkSXRlbXMobmV3X29iai5jb21iaW5lZE9iamVjdHMoKSk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlVOS05PV04gVFlQRSBBVFRFTVBURUQgVE8gTE9BRDogXCIgKyBjb25maWcudHlwZSlcclxuICAgIH1cclxuICB9XHJcbiAgLy9BZGRzIHRoZSBwYXNzZWQgaXRlbSB0byB0aGUgcm9vbS5cclxuICBhc3luYyBhZGRJdGVtKG86b2JqLCBsaXN0ID0gdGhpcy5vYmplY3RzKXtcclxuICAgIGF3YWl0IHRoaXMuYWRkSXRlbXMoWy4uLm8uY29tYmluZWRPYmplY3RzKCldLGxpc3QpO1xyXG4gIH1cclxuICAvL0FkZHMgZXZlcnkgaXRlbSBpbiB0aGUgcGFzc2VkIGFycmF5IHRvIHRoZSByb29tLlxyXG4gIGFzeW5jIGFkZEl0ZW1zKG86b2JqW10sIGxpc3QgPSB0aGlzLm9iamVjdHMpe1xyXG4gICAgZm9yKGxldCBvYiBvZiBvKXtcclxuICAgICAgb2IuZ2FtZSA9IHRoaXMuZ2FtZTtcclxuICAgIH1cclxuICAgIGF3YWl0IFByb21pc2UuYWxsKG8ubWFwKChhKT0+YS5sb2FkKCkpKTtcclxuICAgIGlmKGxpc3QgPT0gdGhpcy5vYmplY3RzKXtcclxuICAgICAgZm9yKGxldCBvYiBvZiBvKXtcclxuICAgICAgICBsZXQgY29yZHMgPSB0aGlzLnByb3hpbWl0eV9tYXAuZ2V0Qm94TG9jYXRpb25zKG9iKTtcclxuICAgICAgICBmb3IobGV0IGNvcmQgb2YgY29yZHMpe1xyXG4gICAgICAgICAgdGhpcy5wcm94aW1pdHlfbWFwLmFkZChjb3JkLG9iKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGxpc3QucHVzaCguLi5vKTtcclxuICAgIGlmKHRoaXMuZ2FtZS5zdGF0ZS5jdXJyZW50X3Jvb20gJiYgby5zb21lKChvKT0+by5zdGF0aWMpKXtcclxuICAgICAgdGhpcy5nYW1lLnJlZHJhd1N0YXRpY3MoKTtcclxuICAgIH1cclxuICAgIGlmKERFQlVHICYmIGxpc3QgPT09IHRoaXMub2JqZWN0cyl7XHJcbiAgICAgIGRlYnVnX3VwZGF0ZV9vYmpfbGlzdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL0RlbGV0ZXMgdGhlIGl0ZW0gYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgcm9vbSdzIG9iamVjdCBsaXN0XHJcbiAgZGVsZXRlSXRlbShpZDpzdHJpbmcsIGxpc3QgPSB0aGlzLm9iamVjdHMpe1xyXG4gICAgZm9yKGxldCBhID0gMDthIDwgbGlzdC5sZW5ndGg7YSsrKXtcclxuICAgICAgaWYobGlzdFthXS5pZCA9PT0gaWQpe1xyXG4gICAgICAgIGxpc3Quc3BsaWNlKGEsMSlcclxuICAgICAgICBhLS07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYoREVCVUcgJiYgbGlzdCA9PT0gdGhpcy5vYmplY3RzKXtcclxuICAgICAgZGVidWdfdXBkYXRlX29ial9saXN0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vQW55IHBhcnRpY2xlcyB0aGF0IGFyZSBuZWVkZWQgaW4gdGhlIHJvb20gc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBwYXJ0aWNsZSBhcnJheSBoZXJlLlxyXG4gIHJlZ2lzdGVyUGFydGljbGVzKCl7XHJcblxyXG4gIH1cclxuICAvL0FkZHMgYSBiaW5kIHRoYXQgaXMgZXhlY3V0ZWQgd2hlbiB0aGUgcGFzc2VkIGtleSBpcyBhY3RpdmF0ZWRcclxuICAvL2tleSBleGFtcGxlczogbW91c2UwZG93biBLZXlBZG93biBLZXlMdXBcclxuICBiaW5kQ29udHJvbChrZXk6c3RyaW5nLHg6ZXhlY190eXBlLGZ1bmM6Y29udHJvbF9mdW5jLGludGVydmFsOm51bWJlciA9IDEpe1xyXG4gICAgdGhpcy5iaW5kcy5wdXNoKEJpbmQoa2V5LGZ1bmMseCxpbnRlcnZhbCkpOyBcclxuICB9XHJcbiAgLy9DaGVja3MgZm9yIG9iamVjdHMgdGhhdCBoYXZlIGNvbGxpc2lvbiBhdCB0aGUgcGFzc2VkIHBvaW50XHJcbiAgY2hlY2tDb2xsaXNpb25zUG9pbnQocG9zOlZlY3RvcixleGVtcHQ/OnN0cmluZ1tdLGxpc3QgPSB0aGlzLm9iamVjdHMpOm9ialtde1xyXG4gICAgcmV0dXJuIHRoaXMuY2hlY2tDb2xsaXNpb25zKHt4OnBvcy54LHk6cG9zLnksaGVpZ2h0OjAsd2lkdGg6MH0sZXhlbXB0LGxpc3QpO1xyXG4gIH1cclxuICAvL0NoZWNrcyBmb3IgYW55IG9iamVjdHMgYXQgdGhlIHBhc3NlZCBwb2ludFxyXG4gIGNoZWNrT2JqZWN0c1BvaW50KHBvczpWZWN0b3IsZXhlbXB0PzpzdHJpbmdbXSxsaXN0ID0gdGhpcy5vYmplY3RzKTpvYmpbXXtcclxuICAgIHJldHVybiB0aGlzLmNoZWNrT2JqZWN0cyh7eDpwb3MueCx5OnBvcy55LGhlaWdodDowLHdpZHRoOjB9LGV4ZW1wdCxsaXN0KTtcclxuICB9XHJcbiAgLy9DaGVja3MgZm9yIGNvbGxpc2lvbnMgYXQgdGhlIHBvaW50IHRoYXQgY29udGFpbiBldmVyeSB0YWcgd2l0aGluIHRoZSBzZWNvbmQgYXJndW1lbnRcclxuICBjaGVja0NvbGxpc2lvbnNQb2ludEluY2x1c2l2ZShwb3M6VmVjdG9yLHRhZ3M/OnN0cmluZ1tdLGxpc3QgPSB0aGlzLm9iamVjdHMpOm9ialtde1xyXG4gICAgcmV0dXJuIHRoaXMuY2hlY2tDb2xsaXNpb25zSW5jbHVzaXZlKHt4OnBvcy54LHk6cG9zLnksaGVpZ2h0OjAsd2lkdGg6MH0sdGFncyxsaXN0KTtcclxuICB9XHJcbiAgLy9DaGVja3MgZm9yIGFueSBvYmplY3RzIHRoYXQgY29udGFpbiBldmVyeSB0YWcgd2l0aGluIHRoZSBzZWNvbmQgYXJndW1lbnRcclxuICBjaGVja09iamVjdHNQb2ludEluY2x1c2l2ZShwb3M6VmVjdG9yLHRhZ3M/OnN0cmluZ1tdLGxpc3QgPSB0aGlzLm9iamVjdHMpOm9ialtde1xyXG4gICAgcmV0dXJuIHRoaXMuY2hlY2tPYmplY3RzSW5jbHVzaXZlKHt4OnBvcy54LHk6cG9zLnksaGVpZ2h0OjAsd2lkdGg6MH0sdGFncyxsaXN0KTtcclxuICB9XHJcbiAgLy9DaGVja3MgZm9yIGNvbGxpc2lvbnMgaW4gdGhlIGJveCB0aGF0IGNvbnRhaW4gdGhlIHRhZ3MgaW4gdGhlIHNlY29uZCBhcmd1bWVudFxyXG4gIGNoZWNrQ29sbGlzaW9uc0luY2x1c2l2ZShib3g6Y29sbGlzaW9uX2JveCx0YWdzOnN0cmluZ1tdLGxpc3Q9dGhpcy5vYmplY3RzKTpvYmpbXXtcclxuICAgIGlmKERFQlVHKXtcclxuICAgICAgcmVuZGVyX2NvbGxpc2lvbl9ib3goYm94KTtcclxuICAgIH1cclxuICAgIGlmKGxpc3QgPT0gdGhpcy5vYmplY3RzKXtcclxuICAgICAgbGlzdCA9IHRoaXMucHJveGltaXR5X21hcC5nZXRPYmplY3RzRnJvbUJveChib3gpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxpc3QuZmlsdGVyKG9iaj0+b2JqLmNvbGxpc2lvbiAmJiBvYmouY29sbGlkZXNXaXRoQm94KGJveCkgJiYgdGFncy5ldmVyeSgodmFsKT0+b2JqLnRhZ3MuaW5jbHVkZXModmFsKSkpO1xyXG4gICAgXHJcbiAgfVxyXG4gIC8vQ2hlY2tzIGZvciBhbnkgb2JqZWN0cyBpbiB0aGUgYm94IHRoYXQgY29udGFpbiBhbGwgdGFncyBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50XHJcbiAgY2hlY2tPYmplY3RzSW5jbHVzaXZlKGJveDpjb2xsaXNpb25fYm94LHRhZ3M6c3RyaW5nW10sbGlzdD10aGlzLm9iamVjdHMpOm9ialtde1xyXG4gICAgaWYoREVCVUcpe1xyXG4gICAgICByZW5kZXJfY29sbGlzaW9uX2JveChib3gpO1xyXG4gICAgfVxyXG4gICAgaWYobGlzdCA9PSB0aGlzLm9iamVjdHMpe1xyXG4gICAgICBsaXN0ID0gdGhpcy5wcm94aW1pdHlfbWFwLmdldE9iamVjdHNGcm9tQm94KGJveCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGlzdC5maWx0ZXIoKG9iaik9Pm9iai5jb2xsaWRlc1dpdGhCb3goYm94KSAmJiB0YWdzLmV2ZXJ5KCh2YWwpPT5vYmoudGFncy5pbmNsdWRlcyh2YWwpKSk7XHJcbiAgICBcclxuICB9XHJcbiAgLy9jaGVja3MgZm9yIG9iamVjdHMgd2l0aCBjb2xsaXNpb24gaW4gdGhlIGJveCB0aGF0IGRvIG5vdCBjb250YWluIHRoZSB0YWdzIGluIHRoZSBzZWNvbmQgYXJndW1lbnRcclxuICBjaGVja0NvbGxpc2lvbnMoYm94OmNvbGxpc2lvbl9ib3gsZXhlbXB0OnN0cmluZ1tdID0gW10sbGlzdD10aGlzLm9iamVjdHMpOm9ialtde1xyXG4gICAgaWYoREVCVUcpe1xyXG4gICAgICByZW5kZXJfY29sbGlzaW9uX2JveChib3gpO1xyXG4gICAgfVxyXG4gICAgaWYobGlzdCA9PSB0aGlzLm9iamVjdHMpe1xyXG4gICAgICBsaXN0ID0gdGhpcy5wcm94aW1pdHlfbWFwLmdldE9iamVjdHNGcm9tQm94KGJveCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGlzdC5maWx0ZXIob2JqPT5vYmouY29sbGlzaW9uICYmIG9iai5jb2xsaWRlc1dpdGhCb3goYm94KSAmJiBleGVtcHQuZXZlcnkoKHZhbCk9PiFvYmoudGFncy5pbmNsdWRlcyh2YWwpKSk7XHJcbiAgfVxyXG4gIC8vY2hlY2tzIGZvciAgYW55IG9iamVjdHMgaW4gdGhlIGJveCB0aGF0IGRvIG5vdCBjb250YWluIHRoZSB0YWdzIGluIHRoZSBzZWNvbmQgYXJndW1lbnRcclxuICBjaGVja09iamVjdHMoYm94OmNvbGxpc2lvbl9ib3gsZXhlbXB0OnN0cmluZ1tdID0gW10sbGlzdD10aGlzLm9iamVjdHMpOm9ialtde1xyXG4gICAgaWYoREVCVUcpe1xyXG4gICAgICByZW5kZXJfY29sbGlzaW9uX2JveChib3gpO1xyXG4gICAgfVxyXG4gICAgaWYobGlzdCA9PSB0aGlzLm9iamVjdHMpe1xyXG4gICAgICBsaXN0ID0gdGhpcy5wcm94aW1pdHlfbWFwLmdldE9iamVjdHNGcm9tQm94KGJveCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGlzdC5maWx0ZXIob2JqPT5vYmouY29sbGlkZXNXaXRoQm94KGJveCkgJiYgZXhlbXB0LmV2ZXJ5KCh2YWwpPT4hb2JqLnRhZ3MuaW5jbHVkZXModmFsKSkpO1xyXG4gIH1cclxuICAvL1RoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIHRvIGNhbGwgYmluZENvbnRyb2wgYW5kIGNyZWF0ZSBhbnkgbmVlZGVkIGtleUJpbmRpbmdzXHJcbiAgcmVnaXN0ZXJDb250cm9scygpe1xyXG5cclxuICB9XHJcbiAgY2xlYW51cCgpe1xyXG5cclxuICB9XHJcbiAgY2FjaGUoa2V5OnN0cmluZyx2YWx1ZT86YW55KXtcclxuICAgIGlmKCF0aGlzLmNhY2hlX2VudHJpZXNba2V5XSl7XHJcbiAgICAgIHRoaXMuY2FjaGVfZW50cmllc1trZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5jYWNoZV9lbnRyaWVzW2tleV07XHJcbiAgfVxyXG4gIC8vVGhlIHJvb20ncyBzdGF0ZSB1cGRhdGluZyBmdW5jdGlvbi5cclxuICBzdGF0ZWYodGltZTogbnVtYmVyKSB7XHJcbiAgICBmb3IobGV0IHBhcnRpY2xlIG9mIHRoaXMucGFydGljbGVzX2Fycil7XHJcbiAgICAgIHBhcnRpY2xlLnN0YXRlZih0aW1lKTtcclxuICAgIH1cclxuICAgIGZvcihsZXQgdGV4dF9ub2RlIG9mIHRoaXMudGV4dF9ub2Rlcyl7XHJcbiAgICAgIHRleHRfbm9kZS5zdGF0ZWYodGltZSk7XHJcbiAgICB9XHJcbiAgICBsZXQgdGlja2luZ19vYmplY3RzID0gdGhpcy5vYmplY3RzLmZpbHRlcigobyk9Pm8udGlja19zdGF0ZSk7XHJcbiAgICBmb3IgKGxldCBhID0gMDsgYSA8IHRpY2tpbmdfb2JqZWN0cy5sZW5ndGg7IGErKykge1xyXG4gICAgICAvL1RoaXMgZnVuY3Rpb24gY2hlY2tzIHRoZSB2ZWxvY2l0eSBvZiBldmVyeSBvYmplY3QsIGFuZCBtb3ZlcyBpdCBpbnRvIGl0J3MgbmV4dCBsb2NhdGlvblxyXG4gICAgICAvL3Byb3ZpZGVkIHRoYXQgaXQgY2FuIGZpdCB0aGVyZS5cclxuICAgICAgdmVsb2NpdHlDb2xsaXNpb25DaGVjayh0aWNraW5nX29iamVjdHNbYV0sIHRoaXMub2JqZWN0cyk7XHJcbiAgICAgIHRpY2tpbmdfb2JqZWN0c1thXS5zdGF0ZWYodGltZSk7XHJcbiAgICB9XHJcbiAgICBmb3IobGV0IGNhbSBvZiB0aGlzLmNhbWVyYXMpe1xyXG4gICAgICBpZihjYW0uaHVkKXtcclxuICAgICAgICBjYW0uaHVkLnN0YXRlZih0aW1lKTtcclxuICAgICAgfVxyXG4gICAgICBjYW0uc3RhdGVmKHRpbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBlbWl0UGFydGljbGUobmFtZTpzdHJpbmcscG9zOnBvc2l0aW9uLGxpZmV0aW1lOm51bWJlcixwb3NfcmFuZ2U6bnVtYmVyKXtcclxuICAgIGxldCBzdGF0ZSA9IHtcclxuICAgICAgcG9zaXRpb246VmVjLmZ1bmMocG9zLChhKSA9PiBhICsgZ2V0UmFuZEludCgtcG9zX3JhbmdlLHBvc19yYW5nZSkpLFxyXG4gICAgICB2ZWxvY2l0eTp7eDowLHk6MH0sXHJcbiAgICAgIHJvdGF0aW9uOjAsXHJcbiAgICAgIHNjYWxpbmc6e3dpZHRoOjEsaGVpZ2h0OjF9XHJcbiAgICB9XHJcbiAgICB0aGlzLmFkZEl0ZW0obmV3IFBhcnRpY2xlKHRoaXMucGFydGljbGVzW25hbWVdLHN0YXRlLGxpZmV0aW1lKSx0aGlzLnBhcnRpY2xlc19hcnIpO1xyXG4gIH1cclxuICBnZXRPYmooaWQ6c3RyaW5nKXtcclxuICAgIGZvcihsZXQgYSA9IDA7IGEgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBhKyspe1xyXG4gICAgICBpZih0aGlzLm9iamVjdHNbYV0uaWQgPT0gaWQpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB0aGlzLm9iamVjdHNbYV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuICAvL0dldHMgYW55IG9iamVjdHMgdGhhdCBoYXZlIHRoZSBwYXNzZWQgdGFnXHJcbiAgZ2V0T2JqQnlUYWcodGFnOnN0cmluZyk6b2JqW117XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3RzLmZpbHRlcigoYSk9PmEudGFncy5pbmNsdWRlcyh0YWcpKTtcclxuICB9XHJcbiAgLy9yZW5kZXJzIHRoZSByb29tJ3Mgc3ByaXRlXHJcbiAgcmVuZGVyZih0aW1lOiBudW1iZXIpOiBzcHJpdGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3ByaXRlX3NoZWV0OiB0aGlzLmJhY2tncm91bmQsXHJcbiAgICAgIGxlZnQ6IDAsXHJcbiAgICAgIHRvcDogMCxcclxuICAgICAgc3ByaXRlX2hlaWdodDogdGhpcy5iYWNrZ3JvdW5kLmhlaWdodCxcclxuICAgICAgc3ByaXRlX3dpZHRoOiB0aGlzLmJhY2tncm91bmQud2lkdGgsXHJcbiAgICAgIG9wYWNpdHk6MVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIHAycF9yb29tIGV4dGVuZHMgcm9vbTx1bmtub3duPiBpbXBsZW1lbnRzIHAycHtcclxuICBwYXJzZV9wYWNrZXQodHlwZTpzdHJpbmcsZGF0YTp1bmtub3duLGlkOm51bWJlcil7XHJcbiAgICBcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgb2JqIH0gZnJvbSBcIi4vb2JqZWN0XCI7XHJcbmltcG9ydCB7IG9ial9zdGF0ZSwgVmVjdG9yLCBkaW1lbnNpb25zfSBmcm9tIFwiLi9zdGF0ZVwiO1xyXG5pbXBvcnQge2dldFJhbmRJbnQsVmVjfSBmcm9tIFwiLi9tYXRoXCI7XHJcbmltcG9ydCB7cGFydGljbGVfZW50cnl9IGZyb20gXCIuL3Jvb21cIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2Ugc3ByaXRle1xyXG4gIHNwcml0ZV9zaGVldDpIVE1MSW1hZ2VFbGVtZW50LFxyXG4gIGxlZnQ6bnVtYmVyLFxyXG4gIHRvcDpudW1iZXIsXHJcbiAgc3ByaXRlX3dpZHRoOm51bWJlcixcclxuICBzcHJpdGVfaGVpZ2h0Om51bWJlcixcclxuICBvcGFjaXR5Om51bWJlclxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHBvc2l0aW9uZWRfc3ByaXRle1xyXG4gIHNwcml0ZTpzcHJpdGUsXHJcbiAgeDpudW1iZXIsXHJcbiAgeTpudW1iZXJcclxufVxyXG5cclxuaW50ZXJmYWNlIFBhcnRpY2xlX2kgZXh0ZW5kcyBvYmpfc3RhdGV7XHJcbiAgbGlmZXRpbWU6bnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGFydGljbGUgZXh0ZW5kcyBvYmp7XHJcbiAgY29sbGlzaW9uID0gZmFsc2U7XHJcbiAgcmFuZG9tX3JhbmdlOm51bWJlcjtcclxuICBtYXhfbGlmZXRpbWU6bnVtYmVyO1xyXG4gIHN0YXRlOlBhcnRpY2xlX2k7XHJcbiAgc2VsZWN0ZWRfc3ByaXRlOnNwcml0ZTtcclxuICBjb25zdHJ1Y3RvcihwYXJ0OnBhcnRpY2xlX2VudHJ5LHN0YXRlOm9ial9zdGF0ZSxsaWZldGltZTpudW1iZXIpe1xyXG4gICAgc3VwZXIoc3RhdGUpO1xyXG4gICAgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9IFZlYy5jcmVhdGUodGhpcy5zdGF0ZS5wb3NpdGlvbi54LHRoaXMuc3RhdGUucG9zaXRpb24ueSk7XHJcbiAgICB0aGlzLnN0YXRlLmxpZmV0aW1lID0gMDtcclxuICAgIHRoaXMuc3ByaXRlX3VybCA9IHBhcnQuc3ByaXRlO1xyXG4gICAgdGhpcy5oZWlnaHQgPSBwYXJ0LmhlaWdodDtcclxuICAgIHRoaXMud2lkdGggPSBwYXJ0LndpZHRoO1xyXG4gICAgdGhpcy5tYXhfbGlmZXRpbWUgPSBsaWZldGltZTtcclxuICB9XHJcbiAgc3RhdGVmKHRpbWU6bnVtYmVyKXtcclxuICAgIHRoaXMuc3RhdGUubGlmZXRpbWUgKz0gdGltZTtcclxuICAgIGlmKHRoaXMuc3RhdGUubGlmZXRpbWUgPiB0aGlzLm1heF9saWZldGltZSl7XHJcbiAgICAgIHRoaXMuZGVsZXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGRlbGV0ZSgpe1xyXG4gICAgbGV0IHJvb20gPSB0aGlzLmdhbWUuZ2V0Um9vbSgpO1xyXG4gICAgcm9vbS5kZWxldGVJdGVtKHRoaXMuaWQscm9vbS5wYXJ0aWNsZXNfYXJyKTtcclxuICB9XHJcbiAgcmVuZGVyZih0aW1lOm51bWJlcik6cG9zaXRpb25lZF9zcHJpdGV7XHJcbiAgICBpZighdGhpcy5zZWxlY3RlZF9zcHJpdGUpe1xyXG4gICAgICBsZXQgc3ByaXRlcyA9IHNwcml0ZV9nZW4odGhpcy5zcHJpdGVfc2hlZXQsdGhpcy53aWR0aCx0aGlzLmhlaWdodClcclxuICAgICAgbGV0IHJhbmRvbV9yb3cgPSBnZXRSYW5kSW50KDAsc3ByaXRlcy5sZW5ndGgpO1xyXG4gICAgICBsZXQgcmFuZG9tX2NvbCA9IGdldFJhbmRJbnQoMCxzcHJpdGVzW3JhbmRvbV9yb3ddLmxlbmd0aCk7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRfc3ByaXRlID0gc3ByaXRlc1tyYW5kb21fcm93XVtyYW5kb21fY29sXTtcclxuICAgIH1cclxuICAgIHRoaXMuc2VsZWN0ZWRfc3ByaXRlLm9wYWNpdHkgPSAxIC0gdGhpcy5zdGF0ZS5saWZldGltZS90aGlzLm1heF9saWZldGltZTtcclxuICAgIHJldHVybntcclxuICAgICAgeDp0aGlzLnN0YXRlLnBvc2l0aW9uLngsXHJcbiAgICAgIHk6dGhpcy5zdGF0ZS5wb3NpdGlvbi55LFxyXG4gICAgICBzcHJpdGU6dGhpcy5zZWxlY3RlZF9zcHJpdGUgXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3ByaXRlX2dlbihzcHJpdGVfc2hlZXQ6SFRNTEltYWdlRWxlbWVudCxzcHJpdGVfd2lkdGg6bnVtYmVyLHNwcml0ZV9oZWlnaHQ6bnVtYmVyKTpBcnJheTxBcnJheTxzcHJpdGU+PntcclxuICBsZXQgd2lkdGggPSBzcHJpdGVfc2hlZXQud2lkdGg7XHJcbiAgbGV0IGhlaWdodCA9IHNwcml0ZV9zaGVldC5oZWlnaHQ7XHJcbiAgbGV0IHNwcml0ZXM6QXJyYXk8QXJyYXk8c3ByaXRlPj4gPSBbXTtcclxuICBmb3IobGV0IGIgPSAwOyBiIDwgaGVpZ2h0O2IgKz0gc3ByaXRlX2hlaWdodCl7XHJcbiAgICBzcHJpdGVzLnB1c2goW10pO1xyXG4gICAgZm9yKGxldCBhID0gMDsgYSA8IHdpZHRoO2EgKz0gc3ByaXRlX3dpZHRoKXtcclxuICAgICAgc3ByaXRlc1tiL3Nwcml0ZV9oZWlnaHRdLnB1c2goe1xyXG4gICAgICAgIHNwcml0ZV9zaGVldCxcclxuICAgICAgICBsZWZ0OmEsXHJcbiAgICAgICAgdG9wOmIsXHJcbiAgICAgICAgc3ByaXRlX2hlaWdodCxcclxuICAgICAgICBzcHJpdGVfd2lkdGgsXHJcbiAgICAgICAgb3BhY2l0eToxXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBzcHJpdGVzO1xyXG59XHJcblxyXG4iLCJleHBvcnQgbGV0IG9iamVjdF90ZW1wbGF0ZSA9IFxyXG5gaW1wb3J0IHtvYmp9IGZyb20gXCJsaWIvb2JqZWN0XCI7XHJcbmltcG9ydCB7IG9ial9zdGF0ZSwgVmVjdG9yIH0gZnJvbSBcImxpYi9zdGF0ZVwiO1xyXG5pbXBvcnQge2NvcHl9IGZyb20gXCJzcmMvdmFuXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHRlbXBsYXRlX3N0YXRlIGV4dGVuZHMgb2JqX3N0YXRle1xyXG4gICAgXHJcbn1cclxuICAgIFxyXG5leHBvcnQgaW50ZXJmYWNlIHRlbXBsYXRlX3BhcmFtZXRlcnN7XHJcbiAgICBcclxufVxyXG4gICAgXHJcbmV4cG9ydCBjbGFzcyB0ZW1wbGF0ZSBleHRlbmRzIG9iantcclxuICBzcHJpdGVfdXJsID0gXCIuL3Nwcml0ZXMvRXJyb3IucG5nXCI7XHJcbiAgaGVpZ2h0ID0gMTAwO1xyXG4gIHdpZHRoID0gMTAwO1xyXG4gIHRhZ3M6QXJyYXk8c3RyaW5nPjtcclxuICBjb2xsaXNpb24gPSB0cnVlO1xyXG4gIHJlbmRlciA9IHRydWU7XHJcbiAgc3RhdGU6dGVtcGxhdGVfc3RhdGU7XHJcbiAgcGFyYW1zOnRlbXBsYXRlX3BhcmFtZXRlcnM7XHJcbiAgc3RhdGljIGRlZmF1bHRfcGFyYW1zOnRlbXBsYXRlX3BhcmFtZXRlcnMgPSB7fVxyXG4gIGNvbnN0cnVjdG9yKHN0YXRlOm9ial9zdGF0ZSxwYXJhbXM6dGVtcGxhdGVfcGFyYW1ldGVycyA9IGNvcHkodGVtcGxhdGUuZGVmYXVsdF9wYXJhbXMpKXtcclxuICAgIHN1cGVyKHN0YXRlLHBhcmFtcyk7XHJcbiAgfVxyXG4gIHN0YXRlZih0aW1lX2RlbHRhOm51bWJlcil7XHJcbiAgICBzdXBlci5zdGF0ZWYodGltZV9kZWx0YSk7XHJcbiAgfVxyXG4gIHJlbmRlcmYodGltZV9kZWx0YTpudW1iZXIpe1xyXG4gICByZXR1cm4gc3VwZXIucmVuZGVyZih0aW1lX2RlbHRhKTsgXHJcbiAgfVxyXG4gIHJlZ2lzdGVyX2FuaW1hdGlvbnMoKXtcclxuICAgIFxyXG4gIH1cclxuICByZWdpc3Rlcl9hdWRpbygpe1xyXG4gICAgXHJcbiAgfVxyXG4gIHJlZ2lzdGVyX2NvbnRyb2xzKCl7XHJcbiAgICAgICAgXHJcbiAgfVxyXG59YDsgICAgIiwiZXhwb3J0IGxldCByb29tX3RlbXBsYXRlID0gXHJcbmBpbXBvcnQgeyByb29tIH0gZnJvbSBcImxpYi9yb29tXCI7XHJcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwic3JjL3ZhblwiO1xyXG5pbXBvcnQgeyBzdGF0ZV9jb25maWcgfSBmcm9tIFwibGliL3Jvb21cIjtcclxuaW1wb3J0ICogYXMgY29uZmlnIGZyb20gXCIuL3RlbXBsYXRlLmpzb25cIjtcclxubGV0IGNmaWcgPSBjb25maWcgYXMgdW5rbm93biBhcyBzdGF0ZV9jb25maWc7XHJcbmludGVyZmFjZSB0ZW1wbGF0ZV9zdGF0ZSB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgdGVtcGxhdGUgZXh0ZW5kcyByb29tPHRlbXBsYXRlX3N0YXRlPntcclxuICBiYWNrZ3JvdW5kX3VybCA9IFwiLi9zcHJpdGVzL0Vycm9yLnBuZ1wiO1xyXG4gIHJlbmRlciA9IHRydWU7XHJcbiAgY29uc3RydWN0b3IoZ2FtZTogZ2FtZTx1bmtub3duPikge1xyXG4gICAgc3VwZXIoZ2FtZSwgY2ZpZyk7XHJcbiAgfVxyXG4gIHJlZ2lzdGVyQ29udHJvbHMoKSB7XHJcblxyXG4gIH1cclxuICByZWdpc3RlclBhcnRpY2xlcygpIHtcclxuXHJcbiAgfVxyXG4gIHN0YXRlZihkZWx0YV90aW1lOiBudW1iZXIpIHtcclxuICAgIHN1cGVyLnN0YXRlZihkZWx0YV90aW1lKTtcclxuICB9XHJcblxyXG59YDsiLCJleHBvcnQgbGV0IERFQlVHID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXYnO1xyXG5leHBvcnQgbGV0IFBBVVNFRCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2JztcclxuaW1wb3J0IHsgb2JqIH0gZnJvbSBcIi4vbGliL29iamVjdFwiO1xyXG5pbXBvcnQgeyBwMnAsIHJvb20scDJwX3Jvb20gfSBmcm9tIFwiLi9saWIvcm9vbVwiO1xyXG5pbXBvcnQgeyBjb2xsaXNpb25fYm94IH0gZnJvbSBcIi4vbGliL2NvbGxpc2lvblwiO1xyXG5pbXBvcnQgeyBzcHJpdGVfcmVuZGVyZXIsIHJlY3RfcmVuZGVyZXIsIHN0cm9rZWRfcmVjdF9yZW5kZXJlciwgaHVkX3RleHRfcmVuZGVyZXIsIENhbWVyYSwgdGV4dF9yZW5kZXJlciwgc2NhbGVfdHlwZSwgbGluZSwgbGluZV9yZW5kZXJlciwgY2FudmFzX3JlbmRlcmVyIH0gZnJvbSBcIi4vbGliL3JlbmRlclwiO1xyXG5pbXBvcnQgeyBFeGVjdXRlUmVwZWF0QmluZHMsIFVuYmluZCB9IGZyb20gXCIuL2xpYi9jb250cm9sc1wiO1xyXG5pbXBvcnQgeyBkZWJ1Z19zdGF0ZSwgZGVidWdfdXBkYXRlX3Jvb21fbGlzdCwgZGVidWdfdXBkYXRlX29ial9saXN0LCBkZWJ1Z191cGRhdGVfcHJlZmFicywgZGVidWdfc3RhdGVmLCBkZWJ1Z19zZXR1cCB9IGZyb20gXCIuL2xpYi9kZWJ1Z1wiO1xyXG5pbXBvcnQgeyBwb3NpdGlvbmVkX3Nwcml0ZSB9IGZyb20gXCJsaWIvc3ByaXRlXCI7XHJcbmltcG9ydCB7IHJvb21zIGFzIHJvb21fbGlzdCB9IGZyb20gXCIuL2dhbWUvcm9vbXMvcm9vbXNcIjtcclxuaW1wb3J0IHsgVmVjIH0gZnJvbSBcImxpYi9tYXRoXCI7XHJcbmltcG9ydCBQZWVyIGZyb20gJ3BlZXJqcyc7XHJcblxyXG5cclxuXHJcbmxldCBjYW52YXNfZWxlbWVudDogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhcmdldFwiKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxubGV0IGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IGNhbnZhc19lbGVtZW50LmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcblxyXG5sZXQgc2NyZWVuX3dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbmxldCBzY3JlZW5faGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuXHJcbi8vSG93IG9mdGVuIHRoZSBnYW1lIGxvZ2ljIGxvb3Agc2hvdWxkIHJ1biwgaW4gbWlsbGlzZWNvbmRzXHJcbmxldCBsb2dpY19sb29wX2ludGVydmFsOiBudW1iZXIgPSAxMDAwIC8gNjA7XHJcblxyXG5sZXQgbGFzdF90aW1lID0gbmV3IERhdGUoKTtcclxuXHJcbmxldCBsYXN0X3JlbmRlcl90aW1lID0gMDtcclxuXHJcbmludGVyZmFjZSBkaW1lbnNpb25zIHtcclxuICBoZWlnaHQ6IG51bWJlcixcclxuICB3aWR0aDogbnVtYmVyXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0U2NyZWVuRGltZW5zaW9ucygpOiBkaW1lbnNpb25zIHtcclxuICByZXR1cm4gKHtcclxuICAgIHdpZHRoOiBzY3JlZW5fd2lkdGgsXHJcbiAgICBoZWlnaHQ6IHNjcmVlbl9oZWlnaHRcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0Vmlld3BvcnREaW1lbnNpb25zKCk6IGRpbWVuc2lvbnMge1xyXG4gIHJldHVybiAoe1xyXG4gICAgaGVpZ2h0OiBjYW52YXNfZWxlbWVudC5oZWlnaHQsXHJcbiAgICB3aWR0aDogY2FudmFzX2VsZW1lbnQud2lkdGhcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgbGV0IHZpZXdwb3J0ID0ge1xyXG4gIGhlaWdodDogR2V0Vmlld3BvcnREaW1lbnNpb25zKCkuaGVpZ2h0LFxyXG4gIHdpZHRoOiBHZXRWaWV3cG9ydERpbWVuc2lvbnMoKS53aWR0aFxyXG59XHJcblxyXG53aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XHJcbiAgdmlld3BvcnQuaGVpZ2h0ID0gR2V0Vmlld3BvcnREaW1lbnNpb25zKCkuaGVpZ2h0XHJcbiAgdmlld3BvcnQud2lkdGggPSBHZXRWaWV3cG9ydERpbWVuc2lvbnMoKS53aWR0aFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVidWcoeDogYm9vbGVhbikge1xyXG4gIERFQlVHID0geDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFBhdXNlZCh4OiBib29sZWFuKSB7XHJcbiAgUEFVU0VEID0geDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlcl9jb2xsaXNpb25fYm94ID0gKGE6IGNvbGxpc2lvbl9ib3gpID0+IHtcclxuICBib3hlcy5wdXNoKGEpO1xyXG59XHJcblxyXG5sZXQgbGluZXM6IGxpbmVbXSA9IFtdO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlcl9saW5lID0gKGE6IGxpbmUpID0+IHtcclxuICBsaW5lcy5wdXNoKGEpO1xyXG59XHJcblxyXG5sZXQgYm94ZXM6IEFycmF5PGNvbGxpc2lvbl9ib3g+ID0gW107XHJcblxyXG5leHBvcnQgbGV0IGNvcHkgPSAoYTogYW55KSA9PiB7XHJcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYSkpO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgZ2FtZV9zdGF0ZTxUPiB7XHJcbiAgbG9naWM6IG51bWJlcixcclxuICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgY3VycmVudF9yb29tOiByb29tPHVua25vd24+LFxyXG4gIGNhbWVyYXM6IEFycmF5PENhbWVyYT4sXHJcbiAgY2FudmFzZXM6IEhUTUxDYW52YXNFbGVtZW50W10sXHJcbiAgZ2xvYmFsczogVFxyXG59XHJcblxyXG5cclxuZXhwb3J0IGxldCByb29tczogYW55W10gPSBbXTtcclxuZXhwb3J0IGxldCBvYmplY3RzOiBhbnlbXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBnYW1lPFQ+e1xyXG4gIHN0YXRlOiBnYW1lX3N0YXRlPFQ+O1xyXG4gIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAvL1RoZSBvZmZzY3JlZW4gY2FudmFzIGFuZCBjb250ZXh0IGFyZSB1c2VkIGluIHJlbmRlcmluZyBtdWx0aXBsZSBDYW1lcmFzXHJcbiAgLy9UaGUgY29udGVudHMgYXJlIHJlbmRlcmVkIHRvIHRoZSBvZmZzY3JlZW4gY2FudmFzLCB0aGVuIGNvcGllZCB0byB0aGUgXHJcbiAgLy9vbnNjcmVlbiBjYW52YXMsIGluIHRoZSBwcm9wZXIgcG9zaXRpb24gaW4gdGhlIHZpZXdwb3J0XHJcbiAgb2Zmc2NyZWVuX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgb2Zmc2NyZWVuX2NvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICBzdGF0aWNfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICBzdGF0aWNfY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gIHByb3RvdHlwZXM6IEFycmF5PG9iaj4gPSBbXTtcclxuICByb29tczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIGlzUmVuZGVyaW5nID0gZmFsc2U7XHJcbiAgY29uc3RydWN0b3IoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGluaXRfc3RhdGU6IFQpIHtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGNhbnZhc2VzOiBbY2FudmFzX2VsZW1lbnRdLFxyXG4gICAgICBsb2dpYzogdW5kZWZpbmVkLFxyXG4gICAgICBjb250ZXh0OiBjdHgsXHJcbiAgICAgIGNhbWVyYXM6IFtcclxuICAgICAgXSxcclxuICAgICAgY3VycmVudF9yb29tOiB1bmRlZmluZWQsXHJcbiAgICAgIGdsb2JhbHM6IGluaXRfc3RhdGVcclxuICAgIH1cclxuICAgIHRoaXMub2Zmc2NyZWVuX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICB0aGlzLm9mZnNjcmVlbl9jb250ZXh0ID0gdGhpcy5vZmZzY3JlZW5fY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIHRoaXMuc3RhdGljX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICB0aGlzLnN0YXRpY19jb250ZXh0ID0gdGhpcy5zdGF0aWNfY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIC8vREVCVUcgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnYW1lIGlzIHJ1bm5pbmcgd2l0aGluIHRoZSBlZGl0b3JcclxuICAgIGlmIChERUJVRykge1xyXG5cclxuICAgICAgLy9TZXRzIHVwIHNvbWUgZ2xvYmFsIGRlYnVnIHN0YXRlIGFuZCB0aGUgZWRpdG9yIGtleWJpbmRpbmdzXHJcbiAgICAgIGRlYnVnX3NldHVwKCk7XHJcbiAgICAgIHRoaXMuc3RhdGUuY2FudmFzZXMucHVzaChkZWJ1Z19zdGF0ZS50YXJnZXQpO1xyXG4gICAgICAvL0luaXRpYWxpemVzIGEgc2VwYXJhdGUgbG9naWMgbG9vcCBzb2xlbHkgZm9yIHRoZSBlZGl0b3JcclxuICAgICAgLy9UaGlzIHNlcGFyYXRpb24gYWxsb3dzIGZvciB0aGUgZWRpdG9yIHRvIGludGVyYWN0IHdpdGggdGhlIGVudmlyb25tZW50IHdoaWxlXHJcbiAgICAgIC8vdGhlIGFjdHVhbCByb29tJ3Mgc3RhdGUgbG9vcCBpcyBwYXVzZWQuXHJcbiAgICAgIHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5nZXRSb29tKCkpIHtcclxuICAgICAgICAgIC8vVGhpcyBmdW5jdGlvbnMgaGFuZGxlcyB0aGUgZWRpdG9yIGludGVyYWN0aW9ucyB3aXRoIHRoZSBnYW1lIGVudmlyb25tZW50XHJcbiAgICAgICAgICBkZWJ1Z19zdGF0ZWYoMTYuNjYpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMTYuNjYpXHJcbiAgICB9XHJcbiAgICAvL0NyZWF0ZXMgYSBvbmNsaWNrIGZ1bmN0aW9uIG9uIHRoZSB3aW5kb3cgdGhhdCBoYW5kbGVzIGVsZW1lbnQgb25jbGljayBmdW5jdGlvbnNcclxuICAgIC8vaW5pdF9jbGlja19oYW5kbGVyKHRoaXMpO1xyXG4gIH1cclxuICByZW5kZXIodDogbnVtYmVyKSB7XHJcbiAgICAvL3QgaXMgY3VycmVudCByZW5kZXIgdGltZVxyXG4gICAgbGV0IGRlbHRhX3RpbWUgPSB0IC0gbGFzdF9yZW5kZXJfdGltZVxyXG4gICAgbGFzdF9yZW5kZXJfdGltZSA9IHQ7XHJcbiAgICBsZXQgYWxsX2NhbWVyYXMgPSBbLi4udGhpcy5zdGF0ZS5jYW1lcmFzLC4uLnRoaXMuc3RhdGUuY3VycmVudF9yb29tLmNhbWVyYXNdO1xyXG4gICAgbGV0IGVkaXRvcl9jYW1lcmFfaW5kZXggPSAtMTtcclxuICAgIGlmIChERUJVRykge1xyXG4gICAgICBkZWJ1Z19zdGF0ZS5yZW5kZXJfZGVsdGFfdGltZSA9IGRlbHRhX3RpbWU7XHJcbiAgICAgIGFsbF9jYW1lcmFzID0gWy4uLmFsbF9jYW1lcmFzLCBkZWJ1Z19zdGF0ZS5jYW1lcmFdXHJcbiAgICAgIGVkaXRvcl9jYW1lcmFfaW5kZXggPSBhbGxfY2FtZXJhcy5sZW5ndGggLSAxO1xyXG4gICAgICBpZiAoYWxsX2NhbWVyYXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIlxyXG4gICAgICAgIHRoaXMuc3RhdGUuY29udGV4dC5mb250ID0gXCI1MHB4IEFyaWFsXCJcclxuICAgICAgICB0aGlzLnN0YXRlLmNvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICB0aGlzLnN0YXRlLmNvbnRleHQuZmlsbFRleHQoXCJOTyBDQU1FUkFcIiwgdmlld3BvcnQud2lkdGggLyAyLCB2aWV3cG9ydC5oZWlnaHQgLyAyKTtcclxuICAgICAgfVxyXG4gICAgICAvL1RoZSBlZGl0b3IgY2FtZXJhIGlzIGFsd2F5cyB0aGUgbGFzdCBjYW1lcmEgaW5zaWRlIHRoZSBjYW1lcmFzIGFycmF5XHJcbiAgICAgIC8vdGhlIGVkaXRvciBjYW1lcmEgaXMgcmVuZGVyZWQgdG8gYSBkaWZmZXJlbnQgY2FudmFzIHRoYW4gdGhlIG1haW4gZ2FtZSBjYW52YXNcclxuICAgICAgLy9zbyB3ZSB1c2UgdGhlIGNhbWVyYSdzIGluZGV4IHRvIGNoZWNrIHdoYXQgY2FudmFzIHRvIHJlbmRlciB0b1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgYSA9IDA7IGEgPCBhbGxfY2FtZXJhcy5sZW5ndGg7IGErKykge1xyXG4gICAgICBsZXQgY2FtZXJhID0gYWxsX2NhbWVyYXNbYV07XHJcbiAgICAgIC8vV2UgcmVuZGVyIHRoZSBjYW1lcmFzIGNvbnRlbnRzIHRvIGFuIG9mZnNjcmVlbiBjYW52YXMsIHRoZW4gY29weSBpdHMgY29udGVudHNcclxuICAgICAgLy90byB0aGUgbWFpbiBjYW52YXMuXHJcbiAgICAgIC8vVGhpcyBhbGxvd3MgdXMgdG8gYXZvaWQgYW55IG1hdGggbmVlZGVkIHRvIGRldGVybWluZSBzcHJpdGVzIHRoYXQgYXJlIHBhcnRpYWxseSBvZmZzY3JlZW5cclxuICAgICAgLy9hcyBhbnkgb2Zmc2NyZWVuIHNlY3Rpb25zIG9mIHRoZSBzcHJpdGVzIHdpbGwgbm90IGJlIGNvcGllZCBvdmVyLCByYXRoZXIgdGhhbiBleHBsaWNpdGx5IFxyXG4gICAgICAvL2NhbGN1bGF0aW5nIHRoZSBjdXRvZmZzXHJcbiAgICAgIHRoaXMub2Zmc2NyZWVuX2NhbnZhcy5oZWlnaHQgPSBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgIHRoaXMub2Zmc2NyZWVuX2NhbnZhcy53aWR0aCA9IGNhbWVyYS5zdGF0ZS5kaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICB0aGlzLm9mZnNjcmVlbl9jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy53aWR0aCwgY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgdGhpcy5vZmZzY3JlZW5fY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgIHRoaXMub2Zmc2NyZWVuX2NvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMud2lkdGgsIGNhbWVyYS5zdGF0ZS5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgIC8vVGhpcyBjb2xsaXNpb24gYm94IHJlcHJlc2VudHMgdGhlIGNhbWVyYSdzIGZpZWxkIG9mIHZpZXcgaW4gdGhlIGdhbWUgc3BhY2VcclxuICAgICAgLy9XZSB1c2UgdGhlIHJvb20ncyBjaGVja09iamVjdHMgZnVuY3Rpb24gdG8gZmluZCBhbnkgb2JqZWN0IHRoYXQgZXhpc3RzIHdpdGhpbiB0aGlzIGFyZWFcclxuICAgICAgLy9UaGVzZSBvYmplY3RzIGFyZSB0aGUgb2JqZWN0cyB0aGF0IG5lZWQgdG8gYmUgcmVuZGVyZWQgZm9yIHRoaXMgY2FtZXJhXHJcbiAgICAgIGxldCBjYW1lcmFfYm94ID0ge1xyXG4gICAgICAgIHg6IGNhbWVyYS5zdGF0ZS5wb3NpdGlvbi54LFxyXG4gICAgICAgIHk6IGNhbWVyYS5zdGF0ZS5wb3NpdGlvbi55LFxyXG4gICAgICAgIHdpZHRoOiBjYW1lcmEuc3RhdGUuZGltZW5zaW9ucy53aWR0aCAqICgxIC8gY2FtZXJhLnN0YXRlLnNjYWxpbmcpLFxyXG4gICAgICAgIGhlaWdodDogY2FtZXJhLnN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0ICogKDEgLyBjYW1lcmEuc3RhdGUuc2NhbGluZylcclxuICAgICAgfTtcclxuICAgICAgbGV0IHJvb20gPSB0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbTtcclxuICAgICAgLy9MaXN0IG9mIGFsbCBwYXJ0aWNsZXMgd2l0aGluIHRoZSBjYW1lcmEncyBmb3ZcclxuICAgICAgbGV0IGNvcmRzID0gcm9vbS5wcm94aW1pdHlfbWFwLmdldENvcmRzRnJvbUJveChjYW1lcmFfYm94KTtcclxuICAgICAgbGV0IHRvX2NoZWNrID0gcm9vbS5wcm94aW1pdHlfbWFwLmdldE9iamVjdHNGcm9tQ29yZHMoY29yZHMpO1xyXG4gICAgICBsZXQgcGFydGljbGVfY29sbGlkZXMgPSB0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbS5jaGVja09iamVjdHMoY2FtZXJhX2JveCwgW10sIHRoaXMuc3RhdGUuY3VycmVudF9yb29tLnBhcnRpY2xlc19hcnIpO1xyXG4gICAgICAvL0xpc3Qgb2YgYWxsIG9iamVjdHMgd2l0aGluIHRoZSBjYW1lcmEncyBmb3ZcclxuICAgICAgbGV0IGNhbWVyYV9jb2xsaWRlcnMgPSBbLi4udGhpcy5zdGF0ZS5jdXJyZW50X3Jvb20uY2hlY2tPYmplY3RzKGNhbWVyYV9ib3gsIFtdLCB0b19jaGVjayksIC4uLnBhcnRpY2xlX2NvbGxpZGVzXTtcclxuICAgICAgbGV0IHJlbmRlcl9hcmdzID0ge1xyXG4gICAgICAgIGNvbnRleHQ6IHRoaXMub2Zmc2NyZWVuX2NvbnRleHQsXHJcbiAgICAgICAgY2FtZXJhOiBjYW1lcmEsXHJcbiAgICAgIH07XHJcbiAgICAgIC8vUmVuZGVycyB0aGUgcm9vbSdzIGJhY2tncm91bmQuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbS5yZW5kZXIpIHtcclxuICAgICAgICBzcHJpdGVfcmVuZGVyZXIocmVuZGVyX2FyZ3MsIHtcclxuICAgICAgICAgIHNwcml0ZTogdGhpcy5zdGF0ZS5jdXJyZW50X3Jvb20ucmVuZGVyZihkZWx0YV90aW1lKSxcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgcm90YXRpb246IDAsXHJcbiAgICAgICAgICBzY2FsZToge1xyXG4gICAgICAgICAgICB3aWR0aDogMSxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2NhbGVfdHlwZTogc2NhbGVfdHlwZS5ncm93XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgY2FudmFzX3JlbmRlcmVyKHJlbmRlcl9hcmdzLCB7XHJcbiAgICAgICAgY2FudmFzOiB0aGlzLnN0YXRpY19jYW52YXMsXHJcbiAgICAgICAgd2lkdGg6IHRoaXMuc3RhdGUuY3VycmVudF9yb29tLnByb3hpbWl0eV9tYXAubGVuZ3RoLFxyXG4gICAgICAgIGhlaWdodDogdGhpcy5zdGF0ZS5jdXJyZW50X3Jvb20ucHJveGltaXR5X21hcC5sZW5ndGgsXHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiAwLFxyXG4gICAgICAgIHNjYWxlOiB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfVxyXG4gICAgICB9KVxyXG4gICAgICAvL0FycmF5IG9mIGhpdGJveGVzIGZvciBlYWNoIGl0ZW0gaW4gdGhlIHJvb21cclxuICAgICAgbGV0IGhpdGJveGVzOiBjb2xsaXNpb25fYm94W10gPSBbXTtcclxuICAgICAgY2FtZXJhX2NvbGxpZGVycyA9IGNhbWVyYV9jb2xsaWRlcnMuZmlsdGVyKChiKSA9PiBiLnJlbmRlciAmJiAhYi5zdGF0aWMpLnNvcnQoKGEsIGIpID0+IChhLmxheWVyIC0gYi5sYXllcikpXHJcbiAgICAgIGZvciAobGV0IGEgb2YgY2FtZXJhX2NvbGxpZGVycykge1xyXG4gICAgICAgIGxldCByZW5kZXJlZCA9IGEucmVuZGVyVHJhY2sodCk7XHJcblxyXG4gICAgICAgIC8vT2JqZWN0cyBjYW4gcmV0dXJuIGVpdGhlciBhIHNwcml0ZSwgb3IgYW4gYXJyYXkgb2Ygc3ByaXRlcyB0byBzaW1wbGlmeSB0aGUgQVBJXHJcbiAgICAgICAgLy9Gb3IgdGhlIHVzZXIsIGFuZCBmb3IgdXNlIGluIGNvbXBvc2l0ZSBvYmplY3RzKG9iamVjdCB0aGF0IGJ1bmRsZXMgb3RoZXIgb2JqZWN0cyB0b2dldGhlcilcclxuICAgICAgICAvL0ludGVybmFsbHksIHdlIGNvbnZlcnQgYW55IHNpbmdsZSBzcHJpdGUgaW50byBhbiBhcnJheSBvZiBvbmUgc3ByaXRlLlxyXG5cclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGxldCBwb3NpdGlvbmVkX3Nwcml0ZSBvZiByZW5kZXJlZCkge1xyXG4gICAgICAgICAgc3ByaXRlX3JlbmRlcmVyKHJlbmRlcl9hcmdzLCB7XHJcbiAgICAgICAgICAgIHNwcml0ZTogcG9zaXRpb25lZF9zcHJpdGUuc3ByaXRlLFxyXG4gICAgICAgICAgICB4OiBwb3NpdGlvbmVkX3Nwcml0ZS54LFxyXG4gICAgICAgICAgICB5OiBwb3NpdGlvbmVkX3Nwcml0ZS55LFxyXG4gICAgICAgICAgICByb3RhdGlvbjogYS5zdGF0ZS5yb3RhdGlvbixcclxuICAgICAgICAgICAgc2NhbGU6IGEuc3RhdGUuc2NhbGluZyxcclxuICAgICAgICAgICAgc2NhbGVfdHlwZTogYS5zY2FsZV90eXBlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBhLnRleHRfbm9kZXMpIHtcclxuICAgICAgICAgIHRleHRfcmVuZGVyZXIocmVuZGVyX2FyZ3MsIHtcclxuICAgICAgICAgICAgeDogbm9kZS5zdGF0ZS5wb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB5OiBub2RlLnN0YXRlLnBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIGZvbnQ6IG5vZGUucmVuZGVyZih0KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vSGl0Ym94ZXMgYXJlIHJlbmRlcmVkIGxhdGUgaW4gdGhlIHJlbmRlciBsb29wLCB0byBlbnN1cmUgb2JqZWN0cyBkb24ndCBvdmVybGFwIHRoZW1cclxuICAgICAgICAvL0FzIHdlIHJlbmRlciBvYmplY3RzLCB3ZSBhZGQgdGhlaXIgaGl0Ym94ZXMgdG8gdGhpcyBsaXN0XHJcbiAgICAgICAgaWYgKERFQlVHICYmIGEuY29sbGlzaW9uKSB7XHJcbiAgICAgICAgICBoaXRib3hlcy5wdXNoKC4uLmEuZ2V0QWxsQ29sbGlzaW9uQm94ZXMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vVGhpcyBpcyBhIHNwZWNpYWwgY2xhc3Mgb2Ygb2JqZWN0IHRoYXQgZXhpc3RzIGluIHRoZSBnYW1lIHdvcmxkXHJcbiAgICAgIGZvciAobGV0IG5vZGUgb2YgdGhpcy5zdGF0ZS5jdXJyZW50X3Jvb20udGV4dF9ub2Rlcykge1xyXG4gICAgICAgIHRleHRfcmVuZGVyZXIocmVuZGVyX2FyZ3MsIHtcclxuICAgICAgICAgIHg6IG5vZGUuc3RhdGUucG9zaXRpb24ueCxcclxuICAgICAgICAgIHk6IG5vZGUuc3RhdGUucG9zaXRpb24ueSxcclxuICAgICAgICAgIGZvbnQ6IG5vZGUucmVuZGVyZih0KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjYW1lcmEuaHVkKSB7XHJcbiAgICAgICAgbGV0IGdyYXBoaWNzID0gY2FtZXJhLmh1ZC5ncmFwaGljX2VsZW1lbnRzO1xyXG4gICAgICAgIGxldCB0ZXh0X2VsZW1lbnRzID0gY2FtZXJhLmh1ZC50ZXh0X2VsZW1lbnRzO1xyXG4gICAgICAgIC8vUmVuZGVycyBzdGF0aWMgZ3JhcGhpY3MgdGhhdCBhcmUgYSBwYXJ0IG9mIHRoZSBodWRcclxuICAgICAgICBmb3IgKGxldCBncmFwaGljIG9mIGdyYXBoaWNzKSB7XHJcbiAgICAgICAgICBsZXQgcmVuZGVyZWQgPSBncmFwaGljLnJlbmRlclRyYWNrKHQpO1xyXG4gICAgICAgICAgaWYgKGdyYXBoaWMucmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHBvc2l0aW9uZWRfc3ByaXRlIG9mIHJlbmRlcmVkKSB7XHJcbiAgICAgICAgICAgICAgc3ByaXRlX3JlbmRlcmVyKHJlbmRlcl9hcmdzLCB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHBvc2l0aW9uZWRfc3ByaXRlLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHg6IHBvc2l0aW9uZWRfc3ByaXRlLngsXHJcbiAgICAgICAgICAgICAgICB5OiBwb3NpdGlvbmVkX3Nwcml0ZS55LFxyXG4gICAgICAgICAgICAgICAgcm90YXRpb246IGdyYXBoaWMuc3RhdGUucm90YXRpb24sXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogZ3JhcGhpYy5zdGF0ZS5zY2FsaW5nLFxyXG4gICAgICAgICAgICAgICAgc2NhbGVfdHlwZTogZ3JhcGhpYy5zY2FsZV90eXBlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgdGV4dCBvZiB0ZXh0X2VsZW1lbnRzKSB7XHJcbiAgICAgICAgICBodWRfdGV4dF9yZW5kZXJlcihyZW5kZXJfYXJncywge1xyXG4gICAgICAgICAgICB4OiB0ZXh0LnN0YXRlLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHRleHQuc3RhdGUucG9zaXRpb24ueSxcclxuICAgICAgICAgICAgZm9udDogdGV4dC5yZW5kZXJmKHQpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvL0lmIGEgY2FtZXJhIGlzIG1hcmtlZCBhcyBhIGRlYnVnIGNhbWVyYSwgd2UgcmVuZGVyIHRoZVxyXG4gICAgICAvLyAgaGl0Ym94ZXMsIGFuZCBwb3RlbnRpYWxseSB1cGRhdGUgdGhlIGVkaXRvclxyXG4gICAgICBpZiAoY2FtZXJhLnN0YXRlLmRlYnVnKSB7XHJcbiAgICAgICAgbGV0IGJveDogY29sbGlzaW9uX2JveDtcclxuICAgICAgICBsZXQgYm94ZXNfY29weSA9IFsuLi5ib3hlc107XHJcbiAgICAgICAgbGV0IGxpbmVzX2NvcHkgPSBbLi4ubGluZXNdO1xyXG4gICAgICAgIHdoaWxlIChsaW5lc19jb3B5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGxldCBsaW5lID0gbGluZXNfY29weS5wb3AoKTtcclxuICAgICAgICAgIGxpbmVfcmVuZGVyZXIodGhpcy5vZmZzY3JlZW5fY29udGV4dCwgbGluZSwgXCJvcmFuZ2VcIiwgMTAsIGNhbWVyYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlIChib3hlc19jb3B5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGxldCBib3ggPSBib3hlc19jb3B5LnBvcCgpO1xyXG4gICAgICAgICAgbGV0IHJlY3QgPSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiBib3gud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogYm94LmhlaWdodFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc3Ryb2tlZF9yZWN0X3JlbmRlcmVyKHRoaXMub2Zmc2NyZWVuX2NvbnRleHQsIHJlY3QsIGJveC54LCBib3gueSwgXCIjRkYwMDAwXCIsIDEsIGNhbWVyYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlIChoaXRib3hlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBsZXQgYm94ID0gaGl0Ym94ZXMucG9wKCk7XHJcbiAgICAgICAgICBsZXQgcmVjdCA9IHtcclxuICAgICAgICAgICAgd2lkdGg6IGJveC53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBib3guaGVpZ2h0XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzdHJva2VkX3JlY3RfcmVuZGVyZXIodGhpcy5vZmZzY3JlZW5fY29udGV4dCwgcmVjdCwgYm94LngsIGJveC55LCBcIiMwMDgwMDBcIiwgMSwgY2FtZXJhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9EcmF3cyBhIHNwZWNpYWwgYm94IGFyb3VuZCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGVsZW1lbnRcclxuICAgICAgICAvL2luc2lkZSB0aGUgZWRpdG9yIFVJXHJcbiAgICAgICAgaWYgKERFQlVHICYmIGRlYnVnX3N0YXRlLnNlbGVjdGVkX3Byb3BlcnRpZXNfZWxlbWVudCkge1xyXG4gICAgICAgICAgbGV0IGNvbGwgPSBkZWJ1Z19zdGF0ZS5zZWxlY3RlZF9wcm9wZXJ0aWVzX2VsZW1lbnQuZ2V0RnVsbENvbGxpc2lvbkJveCgpO1xyXG4gICAgICAgICAgcmVjdF9yZW5kZXJlcih0aGlzLm9mZnNjcmVlbl9jb250ZXh0LCB7IHdpZHRoOiA1LCBoZWlnaHQ6IDUgfSwgY29sbC54LCBjb2xsLnksIFwic2t5Ymx1ZVwiLCAxMCwgY2FtZXJhKTtcclxuICAgICAgICAgIHN0cm9rZWRfcmVjdF9yZW5kZXJlcih0aGlzLm9mZnNjcmVlbl9jb250ZXh0LCBjb2xsLCBjb2xsLngsIGNvbGwueSwgXCJibHVlXCIsIDEsIGNhbWVyYSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdHJva2VkX3JlY3RfcmVuZGVyZXIodGhpcy5vZmZzY3JlZW5fY29udGV4dCwgeyB3aWR0aDogdGhpcy5zdGF0ZS5jdXJyZW50X3Jvb20ucHJveGltaXR5X21hcC5sZW5ndGgsIGhlaWdodDogdGhpcy5zdGF0ZS5jdXJyZW50X3Jvb20ucHJveGltaXR5X21hcC5sZW5ndGggfSwgMCwgMCwgXCJwdXJwbGVcIiwgMTAsIGNhbWVyYSk7XHJcbiAgICAgIH1cclxuICAgICAgLy9TZXBhcmF0ZSBjYW52YXMgZm9yIHRoZSBlZGl0b3IgY2FtZXJhXHJcbiAgICAgIGlmIChhICE9PSBlZGl0b3JfY2FtZXJhX2luZGV4KSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLm9mZnNjcmVlbl9jYW52YXMsIGNhbWVyYS5zdGF0ZS52aWV3cG9ydC54LCBjYW1lcmEuc3RhdGUudmlld3BvcnQueSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZGVidWdfc3RhdGUudGFyZ2V0LmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UodGhpcy5vZmZzY3JlZW5fY2FudmFzLCBjYW1lcmEuc3RhdGUudmlld3BvcnQueCwgY2FtZXJhLnN0YXRlLnZpZXdwb3J0LnkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoREVCVUcpIHtcclxuICAgICAgYm94ZXMgPSBbXTtcclxuICAgICAgbGluZXMgPSBbXTtcclxuICAgIH1cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoYSkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc1JlbmRlcmluZylcclxuICAgICAgICB0aGlzLnJlbmRlcihhKVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHN0YXJ0X2xvZ2ljKGE6IG51bWJlcikge1xyXG4gICAgLy90aGlzIGlzIHRoZSByb29tJ3Mgc3RhdGUgbG9vcFxyXG4gICAgcmV0dXJuIHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGxldCBuZXdfdGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGlmICghUEFVU0VEKSB7XHJcblxyXG4gICAgICAgIGxldCB0aW1lX3NpbmNlID0gbmV3X3RpbWUuZ2V0VGltZSgpIC0gbGFzdF90aW1lLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgcm9vbSA9IHRoaXMuc3RhdGUuY3VycmVudF9yb29tO1xyXG4gICAgICAgIGlmIChyb29tKSB7XHJcbiAgICAgICAgICByb29tLnN0YXRlZih0aW1lX3NpbmNlKTtcclxuICAgICAgICAgIGlmKHRoaXMuc3RhdGUuY2FtZXJhcyl7XHJcbiAgICAgICAgICAgIGZvcihsZXQgY2FtZXJhcyBvZiB0aGlzLnN0YXRlLmNhbWVyYXMpe1xyXG4gICAgICAgICAgICAgIGlmKGNhbWVyYXMuaHVkKXtcclxuICAgICAgICAgICAgICAgIGNhbWVyYXMuaHVkLnN0YXRlZih0aW1lX3NpbmNlKTtcclxuICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBsYXN0X3RpbWUgPSBuZXdfdGltZTtcclxuICAgICAgLy9UaGlzIGZ1bmN0aW9ucyBoYW5kbGVzIGJpbmRzIHRoYXQgb2NjdXIgb24gYW4gaW50ZXJ2YWxcclxuICAgICAgRXhlY3V0ZVJlcGVhdEJpbmRzKGEpO1xyXG4gICAgfSwgYSk7XHJcbiAgfVxyXG4gIGdldFJvb20oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50X3Jvb207XHJcbiAgfVxyXG4gIGFzeW5jIGxvYWRSb29tU3RyaW5nKHg6IHN0cmluZykge1xyXG4gICAgLy9yb29tIGxpc3QgaXMgYSBvYmplY3QgdGhhdCBjb250YWlucyBlYWNoIHJvb20ncyBjbGFzcyxcclxuICAgIC8vd2l0aCB0aGUgcm9vbSdzIG5hbWUgYXMgdGhlIGtleSBmb3IgY2xhc3NcclxuICAgIC8vVGhpcyBvYmplY3QgaXMgcG9wdWxhdGVkIGF0IGNvbXBpbGUgdGltZVxyXG4gICAgbGV0IGxvYWRlZF9yb29tID0gZmFsc2U7XHJcbiAgICBmb3IgKGxldCBhIG9mIE9iamVjdC5rZXlzKHJvb21fbGlzdCkpIHtcclxuICAgICAgaWYgKGEgPT0geCkge1xyXG4gICAgICAgIC8vdGhpcyBpc24ndCBwYXJ0aWN1bGFybHkgdHlwZS1zYWZlLlxyXG4gICAgICAgIGxldCBuZXdfcm9vbSA9IDxyb29tPHt9Pj5uZXcgcm9vbV9saXN0W2FdKHRoaXMpXHJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkUm9vbShuZXdfcm9vbSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gbG9hZCBub24tZXhpc3Rpbmcgcm9vbS5cIik7XHJcbiAgfVxyXG4gIHJlZHJhd1N0YXRpY3MoKSB7XHJcbiAgICBsZXQgcm9vbV9sZW5ndGggPSB0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbS5wcm94aW1pdHlfbWFwLmxlbmd0aDtcclxuICAgIGxldCBzdGF0aWNzID0gdGhpcy5zdGF0ZS5jdXJyZW50X3Jvb20ub2JqZWN0cy5maWx0ZXIodSA9PiB1LnN0YXRpYyk7XHJcbiAgICB0aGlzLnN0YXRpY19jYW52YXMud2lkdGggPSByb29tX2xlbmd0aDtcclxuICAgIHRoaXMuc3RhdGljX2NhbnZhcy5oZWlnaHQgPSByb29tX2xlbmd0aDtcclxuICAgIHRoaXMuc3RhdGljX2NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHJvb21fbGVuZ3RoLCByb29tX2xlbmd0aCk7XHJcbiAgICBsZXQgc3RhdGljX2NhbSA9IG5ldyBDYW1lcmEoe1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICBkaW1lbnNpb25zOiB7IGhlaWdodDogcm9vbV9sZW5ndGgsIHdpZHRoOiByb29tX2xlbmd0aCB9LFxyXG4gICAgICBzY2FsaW5nOiAxLFxyXG4gICAgICBkZWJ1ZzogZmFsc2VcclxuICAgIH0sIHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMCxcclxuICAgICAgd2lkdGg6IDEsXHJcbiAgICAgIGhlaWdodDogMVxyXG4gICAgfSlcclxuICAgIHN0YXRpY3MuZm9yRWFjaCgodSkgPT4ge1xyXG4gICAgICBsZXQgcmVuZGVyZWQgPSB1LnJlbmRlclRyYWNrKHUubGFzdF9yZW5kZXIpO1xyXG4gICAgICBmb3IgKGxldCByIG9mIHJlbmRlcmVkKSB7XHJcbiAgICAgICAgc3ByaXRlX3JlbmRlcmVyKHtcclxuICAgICAgICAgIGNvbnRleHQ6IHRoaXMuc3RhdGljX2NvbnRleHQsXHJcbiAgICAgICAgICBjYW1lcmE6IHN0YXRpY19jYW1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBzcHJpdGU6IHIuc3ByaXRlLFxyXG4gICAgICAgICAgeDogci54LFxyXG4gICAgICAgICAgeTogci55LFxyXG4gICAgICAgICAgcm90YXRpb246IHUuc3RhdGUucm90YXRpb24sXHJcbiAgICAgICAgICBzY2FsZTogdS5zdGF0ZS5zY2FsaW5nLFxyXG4gICAgICAgICAgc2NhbGVfdHlwZTogdS5zY2FsZV90eXBlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG4gIGFzeW5jIGxvYWRSb29tKHg6IHJvb208dW5rbm93bj4pIHtcclxuICAgIC8vQ2xlYXJzIHRoZSByb29tJ3MgbG9naWMgbG9vcCBpZiBvbmVcclxuICAgIC8vV2FzIGFscmVhZHkgcnVubmluZ1xyXG4gICAgdGhpcy5pc1JlbmRlcmluZyA9IGZhbHNlO1xyXG4gICAgaWYgKHRoaXMuc3RhdGUubG9naWMpIHtcclxuICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5zdGF0ZS5sb2dpYyk7XHJcbiAgICB9XHJcbiAgICAvL1RoaXMgcmVmZXJlbmNlIGlzIHVzZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uXHJcbiAgICB4LmdhbWUgPSB0aGlzO1xyXG5cclxuICAgIC8vRGVsZXRlcyBlYWNoIG9iamVjdCBpbiB0aGUgcm9vbSAod2hpY2ggYWxzbyB1bmJpbmRzIHRoZWlyIGJpbmRzKSxcclxuICAgIC8vYW5kIHVuYmluZHMgdGhlIHJvb20ncyBiaW5kaW5ncy5cclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHdoaWxlICh0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbS5vYmplY3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbS5vYmplY3RzWzBdLmRlbGV0ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAobGV0IGlkIG9mIHRoaXMuc3RhdGUuY3VycmVudF9yb29tLmJpbmRzKSB7XHJcbiAgICAgICAgVW5iaW5kKGlkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXdhaXQgeC5sb2FkKCk7XHJcbiAgICBmb3IgKGxldCBjIG9mIHguY29uZmlnLm9iamVjdHMpIHtcclxuICAgICAgLy9UaGlzIGhhbmRsZXMgbG9hZGluZyBvYmplY3RzIGZyb20gdGhlIHNhdmVkIGpzb24gZmlsZSBhc3NvY2lhdGVkIHdpdGggZWFjaCByb29tLlxyXG4gICAgICBhd2FpdCB4LmFkZEl0ZW1TdGF0ZUNvbmZpZyhjKVxyXG4gICAgfVxyXG4gICAgeC5yZWdpc3RlckNvbnRyb2xzKCk7XHJcbiAgICB4LnJlZ2lzdGVyUGFydGljbGVzKCk7XHJcbiAgICB0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbSA9IHg7XHJcbiAgICB0aGlzLnN0YXRlLmN1cnJlbnRfcm9vbS5pbml0aWFsaXplKCk7XHJcbiAgICB0aGlzLnJlZHJhd1N0YXRpY3MoKTtcclxuICAgIHRoaXMuc3RhdGUubG9naWMgPSB0aGlzLnN0YXJ0X2xvZ2ljKGxvZ2ljX2xvb3BfaW50ZXJ2YWwpXHJcblxyXG4gICAgaWYgKERFQlVHKSB7XHJcbiAgICAgIGRlYnVnX3VwZGF0ZV9yb29tX2xpc3QoKTtcclxuICAgICAgZGVidWdfdXBkYXRlX3ByZWZhYnMoKTtcclxuICAgICAgZGVidWdfdXBkYXRlX29ial9saXN0KCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmICghdGhpcy5pc1JlbmRlcmluZykge1xyXG4gICAgICB0aGlzLmlzUmVuZGVyaW5nID0gdHJ1ZTtcclxuICAgICAgLy9UaGlzIHN0YXJ0cyB0aGUgcmVuZGVyIGxvb3AgZm9yIHRoZSByb29tXHJcbiAgICAgIHRoaXMucmVuZGVyKDApO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGVudW0gcGVlcl9jb25uZWN0aW9ue1xyXG4gIGNoaWxkLFxyXG4gIGhvc3RcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIHBlZXJfdG9fcGVlcl9nYW1lPFQ+IGV4dGVuZHMgZ2FtZTxUPntcclxuICBob3N0aW5nX3BlZXI6UGVlcjtcclxuICBob3N0aW5nX2Nvbm5lY3Rpb25zOlBlZXIuRGF0YUNvbm5lY3Rpb25bXSA9IFtdO1xyXG4gIHBlZXJfaG9zdDpQZWVyLkRhdGFDb25uZWN0aW9uO1xyXG4gIHR5cGU6cGVlcl9jb25uZWN0aW9uO1xyXG4gIGNvbnN0cnVjdG9yKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBpbml0X3N0YXRlOiBUKXtcclxuICAgIHN1cGVyKGN0eCwgaW5pdF9zdGF0ZSk7XHJcbiAgICB0aGlzLmhvc3RpbmdfcGVlciA9IG5ldyBQZWVyKCk7XHJcbiAgfVxyXG4gIGNvbm5lY3QoaWQ6c3RyaW5nKXtcclxuICAgIGNvbnN0IGNvbm4gPSB0aGlzLmhvc3RpbmdfcGVlci5jb25uZWN0KGlkKTtcclxuICAgIHRoaXMucGVlcl9ob3N0ID0gY29ubjtcclxuICAgIHRoaXMudHlwZSA9IHBlZXJfY29ubmVjdGlvbi5jaGlsZDtcclxuICAgIGNvbm4ub24oXCJvcGVuXCIsICgpID0+IHtcclxuICAgICAgY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KHt0eXBlOlwiY29ubmVjdGlvblwiLHJlY2lldmVkOlwic3VjY2Vzc1wifSkpO1xyXG4gICAgfSlcclxuICAgIGNvbm4ub24oXCJkYXRhXCIsIChkYXRhKSA9PiB7XHJcbiAgICAgIGxldCB7dHlwZSxyZWNpZXZlZH0gPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICB0aGlzLnJlY2lldmVfZnJvbV9ob3N0KHR5cGUscmVjaWV2ZWQpXHJcbiAgICB9KVxyXG4gIH1cclxuICBob3N0KCl7XHJcbiAgICB0aGlzLnR5cGUgPSBwZWVyX2Nvbm5lY3Rpb24uaG9zdDtcclxuICAgIHRoaXMuaG9zdGluZ19wZWVyLm9uKFwiY29ubmVjdGlvblwiLCAoY29ubmVjdGlvbikgPT4ge1xyXG4gICAgICB0aGlzLmhvc3RpbmdfY29ubmVjdGlvbnMucHVzaChjb25uZWN0aW9uKTtcclxuICAgICAgbGV0IGlkID0gdGhpcy5ob3N0aW5nX2Nvbm5lY3Rpb25zLmxlbmd0aCAtIDE7XHJcbiAgICAgIGNvbm5lY3Rpb24ub24oXCJkYXRhXCIsKGRhdGEpID0+IHtcclxuICAgICAgICBsZXQge3R5cGUscmVjaWV2ZWR9ID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICB0aGlzLnJlY2lldmVfZnJvbV9wZWVyKGlkLHR5cGUscmVjaWV2ZWQpXHJcbiAgICAgIH0pICAgICAgXHJcbiAgICB9KVxyXG4gIH1cclxuICBzZW5kX3RvX3BlZXIoaWQ6bnVtYmVyLHR5cGU6c3RyaW5nLGRhdGE6c3RyaW5nKXtcclxuICAgIHRoaXMuaG9zdGluZ19jb25uZWN0aW9uc1tpZF0uc2VuZChKU09OLnN0cmluZ2lmeSh7dHlwZSxkYXRhfSkpO1xyXG4gIH1cclxuICBzZW5kX3RvX2FsbF9wZWVycyh0eXBlOnN0cmluZyxkYXRhOnN0cmluZyl7XHJcbiAgICBmb3IobGV0IGNvbm4gb2YgdGhpcy5ob3N0aW5nX2Nvbm5lY3Rpb25zKXtcclxuICAgICAgY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KHt0eXBlLHJlY2lldmVkOmRhdGF9KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNlbmRfdG9faG9zdCh0eXBlOnN0cmluZyxkYXRhOnN0cmluZyl7XHJcbiAgICB0aGlzLnBlZXJfaG9zdC5zZW5kKEpTT04uc3RyaW5naWZ5KHt0eXBlLHJlY2lldmVkOmRhdGF9KSk7XHJcbiAgfVxyXG4gIHJlY2lldmVfZnJvbV9wZWVyKGlkOm51bWJlcix0eXBlOnN0cmluZyxkYXRhOnN0cmluZyl7XHJcbiAgICAodGhpcy5zdGF0ZS5jdXJyZW50X3Jvb20gYXMgcDJwX3Jvb20pLnBhcnNlX3BhY2tldCh0eXBlLGRhdGEsaWQpO1xyXG4gIH1cclxuICByZWNpZXZlX2Zyb21faG9zdCh0eXBlOnN0cmluZyxkYXRhOnN0cmluZyl7XHJcbiAgICBzd2l0Y2godHlwZSl7XHJcbiAgICAgIGNhc2UgXCJjaGFuZ2Vfcm9vbVwiOlxyXG4gICAgICAgIHRoaXMubG9hZFJvb21TdHJpbmcoZGF0YSlcclxuICAgIH1cclxuICAgIGlmKHRoaXMuc3RhdGUuY3VycmVudF9yb29tKXtcclxuICAgICAgKHRoaXMuc3RhdGUuY3VycmVudF9yb29tIGFzIHAycF9yb29tKS5wYXJzZV9wYWNrZXQodHlwZSxkYXRhLHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGFzeW5jIGxvYWRSb29tU3RyaW5nKHg6c3RyaW5nKXtcclxuICAgIHRoaXMuc2VuZF90b19hbGxfcGVlcnMoXCJjaGFuZ2Vfcm9vbVwiLHgpO1xyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLmxvYWRSb29tU3RyaW5nKHgpO1xyXG4gICAgaWYodGhpcy50eXBlID09IHBlZXJfY29ubmVjdGlvbi5jaGlsZCl7XHJcbiAgICAgIHRoaXMuc2VuZF90b19ob3N0KFwiZmluaXNoZWRfY2hhbmdlX3Jvb21cIixcInN1Y2Nlc3NcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH0gIFxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==